(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function C0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function t1(t){if(t.__esModule)return t;var r=t.default;if(typeof r=="function"){var i=function s(){return this instanceof s?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};i.prototype=r.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var l=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(i,s,l.get?l:{enumerable:!0,get:function(){return t[s]}})}),i}var Xu={exports:{}},Ei={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function n1(){if(Hp)return Ei;Hp=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:t,type:s,key:f,ref:l!==void 0?l:null,props:u}}return Ei.Fragment=r,Ei.jsx=i,Ei.jsxs=i,Ei}var $p;function r1(){return $p||($p=1,Xu.exports=n1()),Xu.exports}var c=r1(),Qu={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function a1(){if(qp)return et;qp=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.iterator;function v(_){return _===null||typeof _!="object"?null:(_=b&&_[b]||_["@@iterator"],typeof _=="function"?_:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,O={};function C(_,Q,Y){this.props=_,this.context=Q,this.refs=O,this.updater=Y||x}C.prototype.isReactComponent={},C.prototype.setState=function(_,Q){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,Q,"setState")},C.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function w(){}w.prototype=C.prototype;function G(_,Q,Y){this.props=_,this.context=Q,this.refs=O,this.updater=Y||x}var $=G.prototype=new w;$.constructor=G,N($,C.prototype),$.isPureReactComponent=!0;var z=Array.isArray,B={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function Z(_,Q,Y,W,K,J){return Y=J.ref,{$$typeof:t,type:_,key:Q,ref:Y!==void 0?Y:null,props:J}}function R(_,Q){return Z(_.type,Q,void 0,void 0,void 0,_.props)}function E(_){return typeof _=="object"&&_!==null&&_.$$typeof===t}function M(_){var Q={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(Y){return Q[Y]})}var k=/\/+/g;function U(_,Q){return typeof _=="object"&&_!==null&&_.key!=null?M(""+_.key):Q.toString(36)}function H(){}function F(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(H,H):(_.status="pending",_.then(function(Q){_.status==="pending"&&(_.status="fulfilled",_.value=Q)},function(Q){_.status==="pending"&&(_.status="rejected",_.reason=Q)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function q(_,Q,Y,W,K){var J=typeof _;(J==="undefined"||J==="boolean")&&(_=null);var ve=!1;if(_===null)ve=!0;else switch(J){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(_.$$typeof){case t:case r:ve=!0;break;case p:return ve=_._init,q(ve(_._payload),Q,Y,W,K)}}if(ve)return K=K(_),ve=W===""?"."+U(_,0):W,z(K)?(Y="",ve!=null&&(Y=ve.replace(k,"$&/")+"/"),q(K,Q,Y,"",function(Ie){return Ie})):K!=null&&(E(K)&&(K=R(K,Y+(K.key==null||_&&_.key===K.key?"":(""+K.key).replace(k,"$&/")+"/")+ve)),Q.push(K)),1;ve=0;var Fe=W===""?".":W+":";if(z(_))for(var _e=0;_e<_.length;_e++)W=_[_e],J=Fe+U(W,_e),ve+=q(W,Q,Y,J,K);else if(_e=v(_),typeof _e=="function")for(_=_e.call(_),_e=0;!(W=_.next()).done;)W=W.value,J=Fe+U(W,_e++),ve+=q(W,Q,Y,J,K);else if(J==="object"){if(typeof _.then=="function")return q(F(_),Q,Y,W,K);throw Q=String(_),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ve}function T(_,Q,Y){if(_==null)return _;var W=[],K=0;return q(_,W,"","",function(J){return Q.call(Y,J,K++)}),W}function S(_){if(_._status===-1){var Q=_._result;Q=Q(),Q.then(function(Y){(_._status===0||_._status===-1)&&(_._status=1,_._result=Y)},function(Y){(_._status===0||_._status===-1)&&(_._status=2,_._result=Y)}),_._status===-1&&(_._status=0,_._result=Q)}if(_._status===1)return _._result.default;throw _._result}var I=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function P(){}return et.Children={map:T,forEach:function(_,Q,Y){T(_,function(){Q.apply(this,arguments)},Y)},count:function(_){var Q=0;return T(_,function(){Q++}),Q},toArray:function(_){return T(_,function(Q){return Q})||[]},only:function(_){if(!E(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},et.Component=C,et.Fragment=i,et.Profiler=l,et.PureComponent=G,et.StrictMode=s,et.Suspense=y,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,et.act=function(){throw Error("act(...) is not supported in production builds of React.")},et.cache=function(_){return function(){return _.apply(null,arguments)}},et.cloneElement=function(_,Q,Y){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var W=N({},_.props),K=_.key,J=void 0;if(Q!=null)for(ve in Q.ref!==void 0&&(J=void 0),Q.key!==void 0&&(K=""+Q.key),Q)!D.call(Q,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&Q.ref===void 0||(W[ve]=Q[ve]);var ve=arguments.length-2;if(ve===1)W.children=Y;else if(1<ve){for(var Fe=Array(ve),_e=0;_e<ve;_e++)Fe[_e]=arguments[_e+2];W.children=Fe}return Z(_.type,K,void 0,void 0,J,W)},et.createContext=function(_){return _={$$typeof:f,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:u,_context:_},_},et.createElement=function(_,Q,Y){var W,K={},J=null;if(Q!=null)for(W in Q.key!==void 0&&(J=""+Q.key),Q)D.call(Q,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(K[W]=Q[W]);var ve=arguments.length-2;if(ve===1)K.children=Y;else if(1<ve){for(var Fe=Array(ve),_e=0;_e<ve;_e++)Fe[_e]=arguments[_e+2];K.children=Fe}if(_&&_.defaultProps)for(W in ve=_.defaultProps,ve)K[W]===void 0&&(K[W]=ve[W]);return Z(_,J,void 0,void 0,null,K)},et.createRef=function(){return{current:null}},et.forwardRef=function(_){return{$$typeof:m,render:_}},et.isValidElement=E,et.lazy=function(_){return{$$typeof:p,_payload:{_status:-1,_result:_},_init:S}},et.memo=function(_,Q){return{$$typeof:g,type:_,compare:Q===void 0?null:Q}},et.startTransition=function(_){var Q=B.T,Y={};B.T=Y;try{var W=_(),K=B.S;K!==null&&K(Y,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(P,I)}catch(J){I(J)}finally{B.T=Q}},et.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},et.use=function(_){return B.H.use(_)},et.useActionState=function(_,Q,Y){return B.H.useActionState(_,Q,Y)},et.useCallback=function(_,Q){return B.H.useCallback(_,Q)},et.useContext=function(_){return B.H.useContext(_)},et.useDebugValue=function(){},et.useDeferredValue=function(_,Q){return B.H.useDeferredValue(_,Q)},et.useEffect=function(_,Q){return B.H.useEffect(_,Q)},et.useId=function(){return B.H.useId()},et.useImperativeHandle=function(_,Q,Y){return B.H.useImperativeHandle(_,Q,Y)},et.useInsertionEffect=function(_,Q){return B.H.useInsertionEffect(_,Q)},et.useLayoutEffect=function(_,Q){return B.H.useLayoutEffect(_,Q)},et.useMemo=function(_,Q){return B.H.useMemo(_,Q)},et.useOptimistic=function(_,Q){return B.H.useOptimistic(_,Q)},et.useReducer=function(_,Q,Y){return B.H.useReducer(_,Q,Y)},et.useRef=function(_){return B.H.useRef(_)},et.useState=function(_){return B.H.useState(_)},et.useSyncExternalStore=function(_,Q,Y){return B.H.useSyncExternalStore(_,Q,Y)},et.useTransition=function(){return B.H.useTransition()},et.version="19.0.0",et}var Gp;function zi(){return Gp||(Gp=1,Qu.exports=a1()),Qu.exports}var A=zi();const s1=C0(A);var Ku={exports:{}},Ni={},Ju={exports:{}},Vu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function i1(){return Yp||(Yp=1,function(t){function r(T,S){var I=T.length;T.push(S);e:for(;0<I;){var P=I-1>>>1,_=T[P];if(0<l(_,S))T[P]=S,T[I]=_,I=P;else break e}}function i(T){return T.length===0?null:T[0]}function s(T){if(T.length===0)return null;var S=T[0],I=T.pop();if(I!==S){T[0]=I;e:for(var P=0,_=T.length,Q=_>>>1;P<Q;){var Y=2*(P+1)-1,W=T[Y],K=Y+1,J=T[K];if(0>l(W,I))K<_&&0>l(J,W)?(T[P]=J,T[K]=I,P=K):(T[P]=W,T[Y]=I,P=Y);else if(K<_&&0>l(J,I))T[P]=J,T[K]=I,P=K;else break e}}return S}function l(T,S){var I=T.sortIndex-S.sortIndex;return I!==0?I:T.id-S.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();t.unstable_now=function(){return f.now()-m}}var y=[],g=[],p=1,b=null,v=3,x=!1,N=!1,O=!1,C=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function $(T){for(var S=i(g);S!==null;){if(S.callback===null)s(g);else if(S.startTime<=T)s(g),S.sortIndex=S.expirationTime,r(y,S);else break;S=i(g)}}function z(T){if(O=!1,$(T),!N)if(i(y)!==null)N=!0,F();else{var S=i(g);S!==null&&q(z,S.startTime-T)}}var B=!1,D=-1,Z=5,R=-1;function E(){return!(t.unstable_now()-R<Z)}function M(){if(B){var T=t.unstable_now();R=T;var S=!0;try{e:{N=!1,O&&(O=!1,w(D),D=-1),x=!0;var I=v;try{t:{for($(T),b=i(y);b!==null&&!(b.expirationTime>T&&E());){var P=b.callback;if(typeof P=="function"){b.callback=null,v=b.priorityLevel;var _=P(b.expirationTime<=T);if(T=t.unstable_now(),typeof _=="function"){b.callback=_,$(T),S=!0;break t}b===i(y)&&s(y),$(T)}else s(y);b=i(y)}if(b!==null)S=!0;else{var Q=i(g);Q!==null&&q(z,Q.startTime-T),S=!1}}break e}finally{b=null,v=I,x=!1}S=void 0}}finally{S?k():B=!1}}}var k;if(typeof G=="function")k=function(){G(M)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,H=U.port2;U.port1.onmessage=M,k=function(){H.postMessage(null)}}else k=function(){C(M,0)};function F(){B||(B=!0,k())}function q(T,S){D=C(function(){T(t.unstable_now())},S)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){N||x||(N=!0,F())},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return i(y)},t.unstable_next=function(T){switch(v){case 1:case 2:case 3:var S=3;break;default:S=v}var I=v;v=S;try{return T()}finally{v=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,S){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var I=v;v=T;try{return S()}finally{v=I}},t.unstable_scheduleCallback=function(T,S,I){var P=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?P+I:P):I=P,T){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=I+_,T={id:p++,callback:S,priorityLevel:T,startTime:I,expirationTime:_,sortIndex:-1},I>P?(T.sortIndex=I,r(g,T),i(y)===null&&T===i(g)&&(O?(w(D),D=-1):O=!0,q(z,I-P))):(T.sortIndex=_,r(y,T),N||x||(N=!0,F())),T},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(T){var S=v;return function(){var I=v;v=S;try{return T.apply(this,arguments)}finally{v=I}}}}(Vu)),Vu}var Zp;function l1(){return Zp||(Zp=1,Ju.exports=i1()),Ju.exports}var Wu={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function o1(){if(Xp)return an;Xp=1;var t=zi();function r(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,g,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:g,implementation:p}}var f=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(y,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(r(299));return u(y,g,null,p)},an.flushSync=function(y){var g=f.T,p=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=g,s.p=p,s.d.f()}},an.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},an.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},an.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var p=g.as,b=m(p,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:x}):p==="script"&&s.d.X(y,{crossOrigin:b,integrity:v,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=m(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},an.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,b=m(p,g.crossOrigin);s.d.L(y,p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(y,g){if(typeof y=="string")if(g){var p=m(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},an.requestFormReset=function(y){s.d.r(y)},an.unstable_batchedUpdates=function(y,g){return y(g)},an.useFormState=function(y,g,p){return f.H.useFormState(y,g,p)},an.useFormStatus=function(){return f.H.useHostTransitionStatus()},an.version="19.0.0",an}var Qp;function w0(){if(Qp)return Wu.exports;Qp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Wu.exports=o1(),Wu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function c1(){if(Kp)return Ni;Kp=1;var t=l1(),r=zi(),i=w0();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),x=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),z=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function D(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Symbol.for("react.client.reference");function R(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Z?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case y:return"Fragment";case m:return"Portal";case p:return"Profiler";case g:return"StrictMode";case O:return"Suspense";case C:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case x:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case N:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return n=e.displayName||null,n!==null?n:R(e.type)||"Memo";case G:n=e._payload,e=e._init;try{return R(e(n))}catch{}}return null}var E=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=Object.assign,k,U;function H(e){if(k===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);k=n&&n[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+e+U}var F=!1;function q(e,n){if(!e||F)return"";F=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(de){var le=de}Reflect.construct(e,[],Ee)}else{try{Ee.call()}catch(de){le=de}e.call(Ee.prototype)}}else{try{throw Error()}catch(de){le=de}(Ee=e())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(de){if(de&&le&&typeof de.stack=="string")return[de.stack,le.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),j=h[0],L=h[1];if(j&&L){var X=j.split(`
`),te=L.split(`
`);for(d=o=0;o<X.length&&!X[o].includes("DetermineComponentFrameRoot");)o++;for(;d<te.length&&!te[d].includes("DetermineComponentFrameRoot");)d++;if(o===X.length||d===te.length)for(o=X.length-1,d=te.length-1;1<=o&&0<=d&&X[o]!==te[d];)d--;for(;1<=o&&0<=d;o--,d--)if(X[o]!==te[d]){if(o!==1||d!==1)do if(o--,d--,0>d||X[o]!==te[d]){var fe=`
`+X[o].replace(" at new "," at ");return e.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",e.displayName)),fe}while(1<=o&&0<=d);break}}}finally{F=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?H(a):""}function T(e){switch(e.tag){case 26:case 27:case 5:return H(e.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 15:return e=q(e.type,!1),e;case 11:return e=q(e.type.render,!1),e;case 1:return e=q(e.type,!0),e;default:return""}}function S(e){try{var n="";do n+=T(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function I(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function P(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(I(e)!==e)throw Error(s(188))}function Q(e){var n=e.alternate;if(!n){if(n=I(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var d=a.return;if(d===null)break;var h=d.alternate;if(h===null){if(o=d.return,o!==null){a=o;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===a)return _(d),e;if(h===o)return _(d),n;h=h.sibling}throw Error(s(188))}if(a.return!==o.return)a=d,o=h;else{for(var j=!1,L=d.child;L;){if(L===a){j=!0,a=d,o=h;break}if(L===o){j=!0,o=d,a=h;break}L=L.sibling}if(!j){for(L=h.child;L;){if(L===a){j=!0,a=h,o=d;break}if(L===o){j=!0,o=h,a=d;break}L=L.sibling}if(!j)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function Y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=Y(e),n!==null)return n;e=e.sibling}return null}var W=Array.isArray,K=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ve=[],Fe=-1;function _e(e){return{current:e}}function Ie(e){0>Fe||(e.current=ve[Fe],ve[Fe]=null,Fe--)}function ke(e,n){Fe++,ve[Fe]=e.current,e.current=n}var Ge=_e(null),tt=_e(null),ht=_e(null),be=_e(null);function pe(e,n){switch(ke(ht,n),ke(tt,e),ke(Ge,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?vp(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=vp(e),n=bp(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Ie(Ge),ke(Ge,n)}function Ue(){Ie(Ge),Ie(tt),Ie(ht)}function De(e){e.memoizedState!==null&&ke(be,e);var n=Ge.current,a=bp(n,e.type);n!==a&&(ke(tt,e),ke(Ge,a))}function Le(e){tt.current===e&&(Ie(Ge),Ie(tt)),be.current===e&&(Ie(be),vi._currentValue=J)}var ze=Object.prototype.hasOwnProperty,V=t.unstable_scheduleCallback,oe=t.unstable_cancelCallback,Me=t.unstable_shouldYield,ge=t.unstable_requestPaint,Te=t.unstable_now,we=t.unstable_getCurrentPriorityLevel,Ye=t.unstable_ImmediatePriority,pt=t.unstable_UserBlockingPriority,ot=t.unstable_NormalPriority,cn=t.unstable_LowPriority,At=t.unstable_IdlePriority,qt=t.log,Ft=t.unstable_setDisableYieldValue,Ot=null,gt=null;function nn(e){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Ot,e,void 0,(e.current.flags&128)===128)}catch{}}function me(e){if(typeof qt=="function"&&Ft(e),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(Ot,e)}catch{}}var je=Math.clz32?Math.clz32:ce,Se=Math.log,se=Math.LN2;function ce(e){return e>>>=0,e===0?32:31-(Se(e)/se|0)|0}var xe=128,ne=4194304;function ie(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ae(e,n){var a=e.pendingLanes;if(a===0)return 0;var o=0,d=e.suspendedLanes,h=e.pingedLanes,j=e.warmLanes;e=e.finishedLanes!==0;var L=a&134217727;return L!==0?(a=L&~d,a!==0?o=ie(a):(h&=L,h!==0?o=ie(h):e||(j=L&~j,j!==0&&(o=ie(j))))):(L=a&~d,L!==0?o=ie(L):h!==0?o=ie(h):e||(j=a&~j,j!==0&&(o=ie(j)))),o===0?0:n!==0&&n!==o&&!(n&d)&&(d=o&-o,j=n&-n,d>=j||d===32&&(j&4194176)!==0)?n:o}function he(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Oe(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xe(){var e=xe;return xe<<=1,!(xe&4194176)&&(xe=128),e}function Ce(){var e=ne;return ne<<=1,!(ne&62914560)&&(ne=4194304),e}function $e(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function lt(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function nt(e,n,a,o,d,h){var j=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var L=e.entanglements,X=e.expirationTimes,te=e.hiddenUpdates;for(a=j&~a;0<a;){var fe=31-je(a),Ee=1<<fe;L[fe]=0,X[fe]=-1;var le=te[fe];if(le!==null)for(te[fe]=null,fe=0;fe<le.length;fe++){var de=le[fe];de!==null&&(de.lane&=-536870913)}a&=~Ee}o!==0&&vt(e,o,0),h!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=h&~(j&~n))}function vt(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-je(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194218}function dt(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-je(a),d=1<<o;d&n|e[o]&n&&(e[o]|=n),a&=~d}}function Dt(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function zt(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:Lp(e.type))}function Ze(e,n){var a=K.p;try{return K.p=e,n()}finally{K.p=a}}var Nt=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Nt,Qe="__reactProps$"+Nt,fn="__reactContainer$"+Nt,ws="__reactEvents$"+Nt,Yb="__reactListeners$"+Nt,Zb="__reactHandles$"+Nt,pf="__reactResources$"+Nt,Rs="__reactMarker$"+Nt;function Go(e){delete e[Mt],delete e[Qe],delete e[ws],delete e[Yb],delete e[Zb]}function na(e){var n=e[Mt];if(n)return n;for(var a=e.parentNode;a;){if(n=a[fn]||a[Mt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Sp(e);e!==null;){if(a=e[Mt])return a;e=Sp(e)}return n}e=a,a=e.parentNode}return null}function Ma(e){if(e=e[Mt]||e[fn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function _s(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Ia(e){var n=e[pf];return n||(n=e[pf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Xt(e){e[Rs]=!0}var gf=new Set,vf={};function ra(e,n){Ua(e,n),Ua(e+"Capture",n)}function Ua(e,n){for(vf[e]=n,e=0;e<n.length;e++)gf.add(n[e])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bf={},yf={};function Qb(e){return ze.call(yf,e)?!0:ze.call(bf,e)?!1:Xb.test(e)?yf[e]=!0:(bf[e]=!0,!1)}function qi(e,n,a){if(Qb(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Gi(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function sr(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Kb(e){var n=xf(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,h=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(j){o=""+j,h.call(this,j)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(j){o=""+j},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yi(e){e._valueTracker||(e._valueTracker=Kb(e))}function Sf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=xf(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Zi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Jb=/[\n"\\]/g;function jn(e){return e.replace(Jb,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Yo(e,n,a,o,d,h,j,L){e.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.type=j:e.removeAttribute("type"),n!=null?j==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Tn(n)):e.value!==""+Tn(n)&&(e.value=""+Tn(n)):j!=="submit"&&j!=="reset"||e.removeAttribute("value"),n!=null?Zo(e,j,Tn(n)):a!=null?Zo(e,j,Tn(a)):o!=null&&e.removeAttribute("value"),d==null&&h!=null&&(e.defaultChecked=!!h),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?e.name=""+Tn(L):e.removeAttribute("name")}function Ef(e,n,a,o,d,h,j,L){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;a=a!=null?""+Tn(a):"",n=n!=null?""+Tn(n):a,L||n===e.value||(e.value=n),e.defaultValue=n}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=L?e.checked:!!o,e.defaultChecked=!!o,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(e.name=j)}function Zo(e,n,a){n==="number"&&Zi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function La(e,n,a,o){if(e=e.options,n){n={};for(var d=0;d<a.length;d++)n["$"+a[d]]=!0;for(a=0;a<e.length;a++)d=n.hasOwnProperty("$"+e[a].value),e[a].selected!==d&&(e[a].selected=d),d&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Tn(a),n=null,d=0;d<e.length;d++){if(e[d].value===a){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Nf(e,n,a){if(n!=null&&(n=""+Tn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Tn(a):""}function Tf(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(W(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Tn(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function Fa(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Vb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jf(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Vb.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Af(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var d in n)o=n[d],n.hasOwnProperty(d)&&a[d]!==o&&jf(e,d,o)}else for(var h in n)n.hasOwnProperty(h)&&jf(e,h,n[h])}function Xo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ey=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xi(e){return ey.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Qo=null;function Ko(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ka=null,za=null;function Cf(e){var n=Ma(e);if(n&&(e=n.stateNode)){var a=e[Qe]||null;e:switch(e=n.stateNode,n.type){case"input":if(Yo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+jn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var d=o[Qe]||null;if(!d)throw Error(s(90));Yo(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&Sf(o)}break e;case"textarea":Nf(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&La(e,!!a.multiple,n,!1)}}}var Jo=!1;function wf(e,n,a){if(Jo)return e(n,a);Jo=!0;try{var o=e(n);return o}finally{if(Jo=!1,(ka!==null||za!==null)&&(Ol(),ka&&(n=ka,e=za,za=ka=null,Cf(n),e)))for(n=0;n<e.length;n++)Cf(e[n])}}function Os(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Qe]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Vo=!1;if(ar)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){Vo=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{Vo=!1}var Cr=null,Wo=null,Qi=null;function Rf(){if(Qi)return Qi;var e,n=Wo,a=n.length,o,d="value"in Cr?Cr.value:Cr.textContent,h=d.length;for(e=0;e<a&&n[e]===d[e];e++);var j=a-e;for(o=1;o<=j&&n[a-o]===d[h-o];o++);return Qi=d.slice(e,1<o?1-o:void 0)}function Ki(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ji(){return!0}function _f(){return!1}function mn(e){function n(a,o,d,h,j){this._reactName=a,this._targetInst=d,this.type=o,this.nativeEvent=h,this.target=j,this.currentTarget=null;for(var L in e)e.hasOwnProperty(L)&&(a=e[L],this[L]=a?a(h):h[L]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ji:_f,this.isPropagationStopped=_f,this}return M(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),n}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=mn(aa),Ms=M({},aa,{view:0,detail:0}),ty=mn(Ms),ec,tc,Is,Wi=M({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Is&&(Is&&e.type==="mousemove"?(ec=e.screenX-Is.screenX,tc=e.screenY-Is.screenY):tc=ec=0,Is=e),ec)},movementY:function(e){return"movementY"in e?e.movementY:tc}}),Of=mn(Wi),ny=M({},Wi,{dataTransfer:0}),ry=mn(ny),ay=M({},Ms,{relatedTarget:0}),nc=mn(ay),sy=M({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),iy=mn(sy),ly=M({},aa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oy=mn(ly),cy=M({},aa,{data:0}),Df=mn(cy),uy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function my(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=fy[e])?!!n[e]:!1}function rc(){return my}var hy=M({},Ms,{key:function(e){if(e.key){var n=uy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ki(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rc,charCode:function(e){return e.type==="keypress"?Ki(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ki(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),py=mn(hy),gy=M({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mf=mn(gy),vy=M({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rc}),by=mn(vy),yy=M({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),xy=mn(yy),Sy=M({},Wi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ey=mn(Sy),Ny=M({},aa,{newState:0,oldState:0}),Ty=mn(Ny),jy=[9,13,27,32],ac=ar&&"CompositionEvent"in window,Us=null;ar&&"documentMode"in document&&(Us=document.documentMode);var Ay=ar&&"TextEvent"in window&&!Us,If=ar&&(!ac||Us&&8<Us&&11>=Us),Uf=" ",Lf=!1;function Ff(e,n){switch(e){case"keyup":return jy.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ba=!1;function Cy(e,n){switch(e){case"compositionend":return kf(n);case"keypress":return n.which!==32?null:(Lf=!0,Uf);case"textInput":return e=n.data,e===Uf&&Lf?null:e;default:return null}}function wy(e,n){if(Ba)return e==="compositionend"||!ac&&Ff(e,n)?(e=Rf(),Qi=Wo=Cr=null,Ba=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return If&&n.locale!=="ko"?null:n.data;default:return null}}var Ry={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ry[e.type]:n==="textarea"}function Bf(e,n,a,o){ka?za?za.push(o):za=[o]:ka=o,n=Ll(n,"onChange"),0<n.length&&(a=new Vi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Ls=null,Fs=null;function _y(e){fp(e,0)}function el(e){var n=_s(e);if(Sf(n))return e}function Pf(e,n){if(e==="change")return n}var Hf=!1;if(ar){var sc;if(ar){var ic="oninput"in document;if(!ic){var $f=document.createElement("div");$f.setAttribute("oninput","return;"),ic=typeof $f.oninput=="function"}sc=ic}else sc=!1;Hf=sc&&(!document.documentMode||9<document.documentMode)}function qf(){Ls&&(Ls.detachEvent("onpropertychange",Gf),Fs=Ls=null)}function Gf(e){if(e.propertyName==="value"&&el(Fs)){var n=[];Bf(n,Fs,e,Ko(e)),wf(_y,n)}}function Oy(e,n,a){e==="focusin"?(qf(),Ls=n,Fs=a,Ls.attachEvent("onpropertychange",Gf)):e==="focusout"&&qf()}function Dy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return el(Fs)}function My(e,n){if(e==="click")return el(n)}function Iy(e,n){if(e==="input"||e==="change")return el(n)}function Uy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var vn=typeof Object.is=="function"?Object.is:Uy;function ks(e,n){if(vn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var d=a[o];if(!ze.call(n,d)||!vn(e[d],n[d]))return!1}return!0}function Yf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zf(e,n){var a=Yf(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yf(a)}}function Xf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Qf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Zi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Zi(e.document)}return n}function lc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Ly(e,n){var a=Qf(n);n=e.focusedElem;var o=e.selectionRange;if(a!==n&&n&&n.ownerDocument&&Xf(n.ownerDocument.documentElement,n)){if(o!==null&&lc(n)){if(e=o.start,a=o.end,a===void 0&&(a=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(a,n.value.length);else if(a=(e=n.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var d=n.textContent.length,h=Math.min(o.start,d);o=o.end===void 0?h:Math.min(o.end,d),!a.extend&&h>o&&(d=o,o=h,h=d),d=Zf(n,h);var j=Zf(n,o);d&&j&&(a.rangeCount!==1||a.anchorNode!==d.node||a.anchorOffset!==d.offset||a.focusNode!==j.node||a.focusOffset!==j.offset)&&(e=e.createRange(),e.setStart(d.node,d.offset),a.removeAllRanges(),h>o?(a.addRange(e),a.extend(j.node,j.offset)):(e.setEnd(j.node,j.offset),a.addRange(e)))}}for(e=[],a=n;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)a=e[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Fy=ar&&"documentMode"in document&&11>=document.documentMode,Pa=null,oc=null,zs=null,cc=!1;function Kf(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cc||Pa==null||Pa!==Zi(o)||(o=Pa,"selectionStart"in o&&lc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zs&&ks(zs,o)||(zs=o,o=Ll(oc,"onSelect"),0<o.length&&(n=new Vi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=Pa)))}function sa(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ha={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},uc={},Jf={};ar&&(Jf=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function ia(e){if(uc[e])return uc[e];if(!Ha[e])return e;var n=Ha[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Jf)return uc[e]=n[a];return e}var Vf=ia("animationend"),Wf=ia("animationiteration"),em=ia("animationstart"),ky=ia("transitionrun"),zy=ia("transitionstart"),By=ia("transitioncancel"),tm=ia("transitionend"),nm=new Map,rm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function kn(e,n){nm.set(e,n),ra(n,[e])}var An=[],$a=0,dc=0;function tl(){for(var e=$a,n=dc=$a=0;n<e;){var a=An[n];An[n++]=null;var o=An[n];An[n++]=null;var d=An[n];An[n++]=null;var h=An[n];if(An[n++]=null,o!==null&&d!==null){var j=o.pending;j===null?d.next=d:(d.next=j.next,j.next=d),o.pending=d}h!==0&&am(a,d,h)}}function nl(e,n,a,o){An[$a++]=e,An[$a++]=n,An[$a++]=a,An[$a++]=o,dc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function fc(e,n,a,o){return nl(e,n,a,o),rl(e)}function wr(e,n){return nl(e,null,null,n),rl(e)}function am(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var d=!1,h=e.return;h!==null;)h.childLanes|=a,o=h.alternate,o!==null&&(o.childLanes|=a),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(d=!0)),e=h,h=h.return;d&&n!==null&&e.tag===3&&(h=e.stateNode,d=31-je(a),h=h.hiddenUpdates,e=h[d],e===null?h[d]=[n]:e.push(n),n.lane=a|536870912)}function rl(e){if(50<ui)throw ui=0,bu=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var qa={},sm=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var a=sm.get(e);return a!==void 0?a:(n={value:e,source:n,stack:S(n)},sm.set(e,n),n)}return{value:e,source:n,stack:S(n)}}var Ga=[],Ya=0,al=null,sl=0,wn=[],Rn=0,la=null,ir=1,lr="";function oa(e,n){Ga[Ya++]=sl,Ga[Ya++]=al,al=e,sl=n}function im(e,n,a){wn[Rn++]=ir,wn[Rn++]=lr,wn[Rn++]=la,la=e;var o=ir;e=lr;var d=32-je(o)-1;o&=~(1<<d),a+=1;var h=32-je(n)+d;if(30<h){var j=d-d%5;h=(o&(1<<j)-1).toString(32),o>>=j,d-=j,ir=1<<32-je(n)+d|a<<d|o,lr=h+e}else ir=1<<h|a<<d|o,lr=e}function mc(e){e.return!==null&&(oa(e,1),im(e,1,0))}function hc(e){for(;e===al;)al=Ga[--Ya],Ga[Ya]=null,sl=Ga[--Ya],Ga[Ya]=null;for(;e===la;)la=wn[--Rn],wn[Rn]=null,lr=wn[--Rn],wn[Rn]=null,ir=wn[--Rn],wn[Rn]=null}var un=null,Vt=null,ft=!1,zn=null,Qn=!1,pc=Error(s(519));function ca(e){var n=Error(s(418,""));throw Hs(Cn(n,e)),pc}function lm(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Mt]=e,n[Qe]=o,a){case"dialog":ct("cancel",n),ct("close",n);break;case"iframe":case"object":case"embed":ct("load",n);break;case"video":case"audio":for(a=0;a<fi.length;a++)ct(fi[a],n);break;case"source":ct("error",n);break;case"img":case"image":case"link":ct("error",n),ct("load",n);break;case"details":ct("toggle",n);break;case"input":ct("invalid",n),Ef(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Yi(n);break;case"select":ct("invalid",n);break;case"textarea":ct("invalid",n),Tf(n,o.value,o.defaultValue,o.children),Yi(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||gp(n.textContent,a)?(o.popover!=null&&(ct("beforetoggle",n),ct("toggle",n)),o.onScroll!=null&&ct("scroll",n),o.onScrollEnd!=null&&ct("scrollend",n),o.onClick!=null&&(n.onclick=Fl),n=!0):n=!1,n||ca(e)}function om(e){for(un=e.return;un;)switch(un.tag){case 3:case 27:Qn=!0;return;case 5:case 13:Qn=!1;return;default:un=un.return}}function Bs(e){if(e!==un)return!1;if(!ft)return om(e),ft=!0,!1;var n=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Uu(e.type,e.memoizedProps)),a=!a),a&&(n=!0),n&&Vt&&ca(e),om(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){Vt=Pn(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}Vt=null}}else Vt=un?Pn(e.stateNode.nextSibling):null;return!0}function Ps(){Vt=un=null,ft=!1}function Hs(e){zn===null?zn=[e]:zn.push(e)}var $s=Error(s(460)),cm=Error(s(474)),gc={then:function(){}};function um(e){return e=e.status,e==="fulfilled"||e==="rejected"}function il(){}function dm(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(il,il),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===$s?Error(s(483)):e;default:if(typeof n.status=="string")n.then(il,il);else{if(e=Tt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=o}},function(o){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===$s?Error(s(483)):e}throw qs=n,$s}}var qs=null;function fm(){if(qs===null)throw Error(s(459));var e=qs;return qs=null,e}var Za=null,Gs=0;function ll(e){var n=Gs;return Gs+=1,Za===null&&(Za=[]),dm(Za,e,n)}function Ys(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ol(e,n){throw n.$$typeof===u?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function mm(e){var n=e._init;return n(e._payload)}function hm(e){function n(re,ee){if(e){var ae=re.deletions;ae===null?(re.deletions=[ee],re.flags|=16):ae.push(ee)}}function a(re,ee){if(!e)return null;for(;ee!==null;)n(re,ee),ee=ee.sibling;return null}function o(re){for(var ee=new Map;re!==null;)re.key!==null?ee.set(re.key,re):ee.set(re.index,re),re=re.sibling;return ee}function d(re,ee){return re=Br(re,ee),re.index=0,re.sibling=null,re}function h(re,ee,ae){return re.index=ae,e?(ae=re.alternate,ae!==null?(ae=ae.index,ae<ee?(re.flags|=33554434,ee):ae):(re.flags|=33554434,ee)):(re.flags|=1048576,ee)}function j(re){return e&&re.alternate===null&&(re.flags|=33554434),re}function L(re,ee,ae,ye){return ee===null||ee.tag!==6?(ee=uu(ae,re.mode,ye),ee.return=re,ee):(ee=d(ee,ae),ee.return=re,ee)}function X(re,ee,ae,ye){var Be=ae.type;return Be===y?fe(re,ee,ae.props.children,ye,ae.key):ee!==null&&(ee.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===G&&mm(Be)===ee.type)?(ee=d(ee,ae.props),Ys(ee,ae),ee.return=re,ee):(ee=Al(ae.type,ae.key,ae.props,null,re.mode,ye),Ys(ee,ae),ee.return=re,ee)}function te(re,ee,ae,ye){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ae.containerInfo||ee.stateNode.implementation!==ae.implementation?(ee=du(ae,re.mode,ye),ee.return=re,ee):(ee=d(ee,ae.children||[]),ee.return=re,ee)}function fe(re,ee,ae,ye,Be){return ee===null||ee.tag!==7?(ee=ya(ae,re.mode,ye,Be),ee.return=re,ee):(ee=d(ee,ae),ee.return=re,ee)}function Ee(re,ee,ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=uu(""+ee,re.mode,ae),ee.return=re,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case f:return ae=Al(ee.type,ee.key,ee.props,null,re.mode,ae),Ys(ae,ee),ae.return=re,ae;case m:return ee=du(ee,re.mode,ae),ee.return=re,ee;case G:var ye=ee._init;return ee=ye(ee._payload),Ee(re,ee,ae)}if(W(ee)||D(ee))return ee=ya(ee,re.mode,ae,null),ee.return=re,ee;if(typeof ee.then=="function")return Ee(re,ll(ee),ae);if(ee.$$typeof===x)return Ee(re,Nl(re,ee),ae);ol(re,ee)}return null}function le(re,ee,ae,ye){var Be=ee!==null?ee.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Be!==null?null:L(re,ee,""+ae,ye);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case f:return ae.key===Be?X(re,ee,ae,ye):null;case m:return ae.key===Be?te(re,ee,ae,ye):null;case G:return Be=ae._init,ae=Be(ae._payload),le(re,ee,ae,ye)}if(W(ae)||D(ae))return Be!==null?null:fe(re,ee,ae,ye,null);if(typeof ae.then=="function")return le(re,ee,ll(ae),ye);if(ae.$$typeof===x)return le(re,ee,Nl(re,ae),ye);ol(re,ae)}return null}function de(re,ee,ae,ye,Be){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return re=re.get(ae)||null,L(ee,re,""+ye,Be);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case f:return re=re.get(ye.key===null?ae:ye.key)||null,X(ee,re,ye,Be);case m:return re=re.get(ye.key===null?ae:ye.key)||null,te(ee,re,ye,Be);case G:var at=ye._init;return ye=at(ye._payload),de(re,ee,ae,ye,Be)}if(W(ye)||D(ye))return re=re.get(ae)||null,fe(ee,re,ye,Be,null);if(typeof ye.then=="function")return de(re,ee,ae,ll(ye),Be);if(ye.$$typeof===x)return de(re,ee,ae,Nl(ee,ye),Be);ol(ee,ye)}return null}function Pe(re,ee,ae,ye){for(var Be=null,at=null,He=ee,qe=ee=0,Jt=null;He!==null&&qe<ae.length;qe++){He.index>qe?(Jt=He,He=null):Jt=He.sibling;var mt=le(re,He,ae[qe],ye);if(mt===null){He===null&&(He=Jt);break}e&&He&&mt.alternate===null&&n(re,He),ee=h(mt,ee,qe),at===null?Be=mt:at.sibling=mt,at=mt,He=Jt}if(qe===ae.length)return a(re,He),ft&&oa(re,qe),Be;if(He===null){for(;qe<ae.length;qe++)He=Ee(re,ae[qe],ye),He!==null&&(ee=h(He,ee,qe),at===null?Be=He:at.sibling=He,at=He);return ft&&oa(re,qe),Be}for(He=o(He);qe<ae.length;qe++)Jt=de(He,re,qe,ae[qe],ye),Jt!==null&&(e&&Jt.alternate!==null&&He.delete(Jt.key===null?qe:Jt.key),ee=h(Jt,ee,qe),at===null?Be=Jt:at.sibling=Jt,at=Jt);return e&&He.forEach(function(Zr){return n(re,Zr)}),ft&&oa(re,qe),Be}function Ke(re,ee,ae,ye){if(ae==null)throw Error(s(151));for(var Be=null,at=null,He=ee,qe=ee=0,Jt=null,mt=ae.next();He!==null&&!mt.done;qe++,mt=ae.next()){He.index>qe?(Jt=He,He=null):Jt=He.sibling;var Zr=le(re,He,mt.value,ye);if(Zr===null){He===null&&(He=Jt);break}e&&He&&Zr.alternate===null&&n(re,He),ee=h(Zr,ee,qe),at===null?Be=Zr:at.sibling=Zr,at=Zr,He=Jt}if(mt.done)return a(re,He),ft&&oa(re,qe),Be;if(He===null){for(;!mt.done;qe++,mt=ae.next())mt=Ee(re,mt.value,ye),mt!==null&&(ee=h(mt,ee,qe),at===null?Be=mt:at.sibling=mt,at=mt);return ft&&oa(re,qe),Be}for(He=o(He);!mt.done;qe++,mt=ae.next())mt=de(He,re,qe,mt.value,ye),mt!==null&&(e&&mt.alternate!==null&&He.delete(mt.key===null?qe:mt.key),ee=h(mt,ee,qe),at===null?Be=mt:at.sibling=mt,at=mt);return e&&He.forEach(function(e1){return n(re,e1)}),ft&&oa(re,qe),Be}function Lt(re,ee,ae,ye){if(typeof ae=="object"&&ae!==null&&ae.type===y&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case f:e:{for(var Be=ae.key;ee!==null;){if(ee.key===Be){if(Be=ae.type,Be===y){if(ee.tag===7){a(re,ee.sibling),ye=d(ee,ae.props.children),ye.return=re,re=ye;break e}}else if(ee.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===G&&mm(Be)===ee.type){a(re,ee.sibling),ye=d(ee,ae.props),Ys(ye,ae),ye.return=re,re=ye;break e}a(re,ee);break}else n(re,ee);ee=ee.sibling}ae.type===y?(ye=ya(ae.props.children,re.mode,ye,ae.key),ye.return=re,re=ye):(ye=Al(ae.type,ae.key,ae.props,null,re.mode,ye),Ys(ye,ae),ye.return=re,re=ye)}return j(re);case m:e:{for(Be=ae.key;ee!==null;){if(ee.key===Be)if(ee.tag===4&&ee.stateNode.containerInfo===ae.containerInfo&&ee.stateNode.implementation===ae.implementation){a(re,ee.sibling),ye=d(ee,ae.children||[]),ye.return=re,re=ye;break e}else{a(re,ee);break}else n(re,ee);ee=ee.sibling}ye=du(ae,re.mode,ye),ye.return=re,re=ye}return j(re);case G:return Be=ae._init,ae=Be(ae._payload),Lt(re,ee,ae,ye)}if(W(ae))return Pe(re,ee,ae,ye);if(D(ae)){if(Be=D(ae),typeof Be!="function")throw Error(s(150));return ae=Be.call(ae),Ke(re,ee,ae,ye)}if(typeof ae.then=="function")return Lt(re,ee,ll(ae),ye);if(ae.$$typeof===x)return Lt(re,ee,Nl(re,ae),ye);ol(re,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,ee!==null&&ee.tag===6?(a(re,ee.sibling),ye=d(ee,ae),ye.return=re,re=ye):(a(re,ee),ye=uu(ae,re.mode,ye),ye.return=re,re=ye),j(re)):a(re,ee)}return function(re,ee,ae,ye){try{Gs=0;var Be=Lt(re,ee,ae,ye);return Za=null,Be}catch(He){if(He===$s)throw He;var at=Mn(29,He,null,re.mode);return at.lanes=ye,at.return=re,at}finally{}}}var ua=hm(!0),pm=hm(!1),Xa=_e(null),cl=_e(0);function gm(e,n){e=br,ke(cl,e),ke(Xa,n),br=e|n.baseLanes}function vc(){ke(cl,br),ke(Xa,Xa.current)}function bc(){br=cl.current,Ie(Xa),Ie(cl)}var _n=_e(null),Kn=null;function Rr(e){var n=e.alternate;ke(Gt,Gt.current&1),ke(_n,e),Kn===null&&(n===null||Xa.current!==null||n.memoizedState!==null)&&(Kn=e)}function vm(e){if(e.tag===22){if(ke(Gt,Gt.current),ke(_n,e),Kn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Kn=e)}}else _r()}function _r(){ke(Gt,Gt.current),ke(_n,_n.current)}function or(e){Ie(_n),Kn===e&&(Kn=null),Ie(Gt)}var Gt=_e(0);function ul(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Py=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},Hy=t.unstable_scheduleCallback,$y=t.unstable_NormalPriority,Yt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yc(){return{controller:new Py,data:new Map,refCount:0}}function Zs(e){e.refCount--,e.refCount===0&&Hy($y,function(){e.controller.abort()})}var Xs=null,xc=0,Qa=0,Ka=null;function qy(e,n){if(Xs===null){var a=Xs=[];xc=0,Qa=Au(),Ka={status:"pending",value:void 0,then:function(o){a.push(o)}}}return xc++,n.then(bm,bm),n}function bm(){if(--xc===0&&Xs!==null){Ka!==null&&(Ka.status="fulfilled");var e=Xs;Xs=null,Qa=0,Ka=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Gy(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var d=0;d<a.length;d++)(0,a[d])(n)},function(d){for(o.status="rejected",o.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),o}var ym=E.S;E.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&qy(e,n),ym!==null&&ym(e,n)};var da=_e(null);function Sc(){var e=da.current;return e!==null?e:Tt.pooledCache}function dl(e,n){n===null?ke(da,da.current):ke(da,n.pool)}function xm(){var e=Sc();return e===null?null:{parent:Yt._currentValue,pool:e}}var Or=0,rt=null,bt=null,Bt=null,fl=!1,Ja=!1,fa=!1,ml=0,Qs=0,Va=null,Yy=0;function kt(){throw Error(s(321))}function Ec(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!vn(e[a],n[a]))return!1;return!0}function Nc(e,n,a,o,d,h){return Or=h,rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,E.H=e===null||e.memoizedState===null?ma:Dr,fa=!1,h=a(o,d),fa=!1,Ja&&(h=Em(n,a,o,d)),Sm(e),h}function Sm(e){E.H=Jn;var n=bt!==null&&bt.next!==null;if(Or=0,Bt=bt=rt=null,fl=!1,Qs=0,Va=null,n)throw Error(s(300));e===null||Qt||(e=e.dependencies,e!==null&&El(e)&&(Qt=!0))}function Em(e,n,a,o){rt=e;var d=0;do{if(Ja&&(Va=null),Qs=0,Ja=!1,25<=d)throw Error(s(301));if(d+=1,Bt=bt=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}E.H=ha,h=n(a,o)}while(Ja);return h}function Zy(){var e=E.H,n=e.useState()[0];return n=typeof n.then=="function"?Ks(n):n,e=e.useState()[0],(bt!==null?bt.memoizedState:null)!==e&&(rt.flags|=1024),n}function Tc(){var e=ml!==0;return ml=0,e}function jc(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Ac(e){if(fl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}fl=!1}Or=0,Bt=bt=rt=null,Ja=!1,Qs=ml=0,Va=null}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?rt.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function Pt(){if(bt===null){var e=rt.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var n=Bt===null?rt.memoizedState:Bt.next;if(n!==null)Bt=n,bt=e;else{if(e===null)throw rt.alternate===null?Error(s(467)):Error(s(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Bt===null?rt.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}var hl;hl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ks(e){var n=Qs;return Qs+=1,Va===null&&(Va=[]),e=dm(Va,e,n),n=rt,(Bt===null?n.memoizedState:Bt.next)===null&&(n=n.alternate,E.H=n===null||n.memoizedState===null?ma:Dr),e}function pl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ks(e);if(e.$$typeof===x)return rn(e)}throw Error(s(438,String(e)))}function Cc(e){var n=null,a=rt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=hl(),rt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=z;return n.index++,a}function cr(e,n){return typeof n=="function"?n(e):n}function gl(e){var n=Pt();return wc(n,bt,e)}function wc(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var d=e.baseQueue,h=o.pending;if(h!==null){if(d!==null){var j=d.next;d.next=h.next,h.next=j}n.baseQueue=d=h,o.pending=null}if(h=e.baseState,d===null)e.memoizedState=h;else{n=d.next;var L=j=null,X=null,te=n,fe=!1;do{var Ee=te.lane&-536870913;if(Ee!==te.lane?(ut&Ee)===Ee:(Or&Ee)===Ee){var le=te.revertLane;if(le===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),Ee===Qa&&(fe=!0);else if((Or&le)===le){te=te.next,le===Qa&&(fe=!0);continue}else Ee={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},X===null?(L=X=Ee,j=h):X=X.next=Ee,rt.lanes|=le,Pr|=le;Ee=te.action,fa&&a(h,Ee),h=te.hasEagerState?te.eagerState:a(h,Ee)}else le={lane:Ee,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},X===null?(L=X=le,j=h):X=X.next=le,rt.lanes|=Ee,Pr|=Ee;te=te.next}while(te!==null&&te!==n);if(X===null?j=h:X.next=L,!vn(h,e.memoizedState)&&(Qt=!0,fe&&(a=Ka,a!==null)))throw a;e.memoizedState=h,e.baseState=j,e.baseQueue=X,o.lastRenderedState=h}return d===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Rc(e){var n=Pt(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,d=a.pending,h=n.memoizedState;if(d!==null){a.pending=null;var j=d=d.next;do h=e(h,j.action),j=j.next;while(j!==d);vn(h,n.memoizedState)||(Qt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,o]}function Nm(e,n,a){var o=rt,d=Pt(),h=ft;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=n();var j=!vn((bt||d).memoizedState,a);if(j&&(d.memoizedState=a,Qt=!0),d=d.queue,Dc(Am.bind(null,o,d,e),[e]),d.getSnapshot!==n||j||Bt!==null&&Bt.memoizedState.tag&1){if(o.flags|=2048,Wa(9,jm.bind(null,o,d,a,n),{destroy:void 0},null),Tt===null)throw Error(s(349));h||Or&60||Tm(o,n,a)}return a}function Tm(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=rt.updateQueue,n===null?(n=hl(),rt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function jm(e,n,a,o){n.value=a,n.getSnapshot=o,Cm(n)&&wm(e)}function Am(e,n,a){return a(function(){Cm(n)&&wm(e)})}function Cm(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!vn(e,a)}catch{return!0}}function wm(e){var n=wr(e,2);n!==null&&dn(n,e,2)}function _c(e){var n=hn();if(typeof e=="function"){var a=e;if(e=a(),fa){me(!0);try{a()}finally{me(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:e},n}function Rm(e,n,a,o){return e.baseState=a,wc(e,bt,typeof o=="function"?o:cr)}function Xy(e,n,a,o,d){if(yl(e))throw Error(s(485));if(e=n.action,e!==null){var h={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){h.listeners.push(j)}};E.T!==null?a(!0):h.isTransition=!1,o(h),a=n.pending,a===null?(h.next=n.pending=h,_m(n,h)):(h.next=a.next,n.pending=a.next=h)}}function _m(e,n){var a=n.action,o=n.payload,d=e.state;if(n.isTransition){var h=E.T,j={};E.T=j;try{var L=a(d,o),X=E.S;X!==null&&X(j,L),Om(e,n,L)}catch(te){Oc(e,n,te)}finally{E.T=h}}else try{h=a(d,o),Om(e,n,h)}catch(te){Oc(e,n,te)}}function Om(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Dm(e,n,o)},function(o){return Oc(e,n,o)}):Dm(e,n,a)}function Dm(e,n,a){n.status="fulfilled",n.value=a,Mm(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,_m(e,a)))}function Oc(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Mm(n),n=n.next;while(n!==o)}e.action=null}function Mm(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Im(e,n){return n}function Um(e,n){if(ft){var a=Tt.formState;if(a!==null){e:{var o=rt;if(ft){if(Vt){t:{for(var d=Vt,h=Qn;d.nodeType!==8;){if(!h){d=null;break t}if(d=Pn(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){Vt=Pn(d.nextSibling),o=d.data==="F!";break e}}ca(o)}o=!1}o&&(n=a[0])}}return a=hn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Im,lastRenderedState:n},a.queue=o,a=Wm.bind(null,rt,o),o.dispatch=a,o=_c(!1),h=Fc.bind(null,rt,!1,o.queue),o=hn(),d={state:n,dispatch:null,action:e,pending:null},o.queue=d,a=Xy.bind(null,rt,d,h,a),d.dispatch=a,o.memoizedState=e,[n,a,!1]}function Lm(e){var n=Pt();return Fm(n,bt,e)}function Fm(e,n,a){n=wc(e,n,Im)[0],e=gl(cr)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?Ks(n):n;var o=Pt(),d=o.queue,h=d.dispatch;return a!==o.memoizedState&&(rt.flags|=2048,Wa(9,Qy.bind(null,d,a),{destroy:void 0},null)),[n,h,e]}function Qy(e,n){e.action=n}function km(e){var n=Pt(),a=bt;if(a!==null)return Fm(n,a,e);Pt(),n=n.memoizedState,a=Pt();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Wa(e,n,a,o){return e={tag:e,create:n,inst:a,deps:o,next:null},n=rt.updateQueue,n===null&&(n=hl(),rt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function zm(){return Pt().memoizedState}function vl(e,n,a,o){var d=hn();rt.flags|=e,d.memoizedState=Wa(1|n,a,{destroy:void 0},o===void 0?null:o)}function bl(e,n,a,o){var d=Pt();o=o===void 0?null:o;var h=d.memoizedState.inst;bt!==null&&o!==null&&Ec(o,bt.memoizedState.deps)?d.memoizedState=Wa(n,a,h,o):(rt.flags|=e,d.memoizedState=Wa(1|n,a,h,o))}function Bm(e,n){vl(8390656,8,e,n)}function Dc(e,n){bl(2048,8,e,n)}function Pm(e,n){return bl(4,2,e,n)}function Hm(e,n){return bl(4,4,e,n)}function $m(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qm(e,n,a){a=a!=null?a.concat([e]):null,bl(4,4,$m.bind(null,n,e),a)}function Mc(){}function Gm(e,n){var a=Pt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Ec(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Ym(e,n){var a=Pt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Ec(n,o[1]))return o[0];if(o=e(),fa){me(!0);try{e()}finally{me(!1)}}return a.memoizedState=[o,n],o}function Ic(e,n,a){return a===void 0||Or&1073741824?e.memoizedState=n:(e.memoizedState=a,e=Xh(),rt.lanes|=e,Pr|=e,a)}function Zm(e,n,a,o){return vn(a,n)?a:Xa.current!==null?(e=Ic(e,a,o),vn(e,n)||(Qt=!0),e):Or&42?(e=Xh(),rt.lanes|=e,Pr|=e,n):(Qt=!0,e.memoizedState=a)}function Xm(e,n,a,o,d){var h=K.p;K.p=h!==0&&8>h?h:8;var j=E.T,L={};E.T=L,Fc(e,!1,n,a);try{var X=d(),te=E.S;if(te!==null&&te(L,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var fe=Gy(X,o);Js(e,n,fe,Sn(e))}else Js(e,n,o,Sn(e))}catch(Ee){Js(e,n,{then:function(){},status:"rejected",reason:Ee},Sn())}finally{K.p=h,E.T=j}}function Ky(){}function Uc(e,n,a,o){if(e.tag!==5)throw Error(s(476));var d=Qm(e).queue;Xm(e,d,n,J,a===null?Ky:function(){return Km(e),a(o)})}function Qm(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:J},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Km(e){var n=Qm(e).next.queue;Js(e,n,{},Sn())}function Lc(){return rn(vi)}function Jm(){return Pt().memoizedState}function Vm(){return Pt().memoizedState}function Jy(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Sn();e=Ur(a);var o=Lr(n,e,a);o!==null&&(dn(o,n,a),ei(o,n,a)),n={cache:yc()},e.payload=n;return}n=n.return}}function Vy(e,n,a){var o=Sn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},yl(e)?eh(n,a):(a=fc(e,n,a,o),a!==null&&(dn(a,e,o),th(a,n,o)))}function Wm(e,n,a){var o=Sn();Js(e,n,a,o)}function Js(e,n,a,o){var d={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(yl(e))eh(n,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var j=n.lastRenderedState,L=h(j,a);if(d.hasEagerState=!0,d.eagerState=L,vn(L,j))return nl(e,n,d,0),Tt===null&&tl(),!1}catch{}finally{}if(a=fc(e,n,d,o),a!==null)return dn(a,e,o),th(a,n,o),!0}return!1}function Fc(e,n,a,o){if(o={lane:2,revertLane:Au(),action:o,hasEagerState:!1,eagerState:null,next:null},yl(e)){if(n)throw Error(s(479))}else n=fc(e,a,o,2),n!==null&&dn(n,e,2)}function yl(e){var n=e.alternate;return e===rt||n!==null&&n===rt}function eh(e,n){Ja=fl=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function th(e,n,a){if(a&4194176){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,dt(e,a)}}var Jn={readContext:rn,use:pl,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt};Jn.useCacheRefresh=kt,Jn.useMemoCache=kt,Jn.useHostTransitionStatus=kt,Jn.useFormState=kt,Jn.useActionState=kt,Jn.useOptimistic=kt;var ma={readContext:rn,use:pl,useCallback:function(e,n){return hn().memoizedState=[e,n===void 0?null:n],e},useContext:rn,useEffect:Bm,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,vl(4194308,4,$m.bind(null,n,e),a)},useLayoutEffect:function(e,n){return vl(4194308,4,e,n)},useInsertionEffect:function(e,n){vl(4,2,e,n)},useMemo:function(e,n){var a=hn();n=n===void 0?null:n;var o=e();if(fa){me(!0);try{e()}finally{me(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=hn();if(a!==void 0){var d=a(n);if(fa){me(!0);try{a(n)}finally{me(!1)}}}else d=n;return o.memoizedState=o.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},o.queue=e,e=e.dispatch=Vy.bind(null,rt,e),[o.memoizedState,e]},useRef:function(e){var n=hn();return e={current:e},n.memoizedState=e},useState:function(e){e=_c(e);var n=e.queue,a=Wm.bind(null,rt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Mc,useDeferredValue:function(e,n){var a=hn();return Ic(a,e,n)},useTransition:function(){var e=_c(!1);return e=Xm.bind(null,rt,e.queue,!0,!1),hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=rt,d=hn();if(ft){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Tt===null)throw Error(s(349));ut&60||Tm(o,n,a)}d.memoizedState=a;var h={value:a,getSnapshot:n};return d.queue=h,Bm(Am.bind(null,o,h,e),[e]),o.flags|=2048,Wa(9,jm.bind(null,o,h,a,n),{destroy:void 0},null),a},useId:function(){var e=hn(),n=Tt.identifierPrefix;if(ft){var a=lr,o=ir;a=(o&~(1<<32-je(o)-1)).toString(32)+a,n=":"+n+"R"+a,a=ml++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=Yy++,n=":"+n+"r"+a.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return hn().memoizedState=Jy.bind(null,rt)}};ma.useMemoCache=Cc,ma.useHostTransitionStatus=Lc,ma.useFormState=Um,ma.useActionState=Um,ma.useOptimistic=function(e){var n=hn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Fc.bind(null,rt,!0,a),a.dispatch=n,[e,n]};var Dr={readContext:rn,use:pl,useCallback:Gm,useContext:rn,useEffect:Dc,useImperativeHandle:qm,useInsertionEffect:Pm,useLayoutEffect:Hm,useMemo:Ym,useReducer:gl,useRef:zm,useState:function(){return gl(cr)},useDebugValue:Mc,useDeferredValue:function(e,n){var a=Pt();return Zm(a,bt.memoizedState,e,n)},useTransition:function(){var e=gl(cr)[0],n=Pt().memoizedState;return[typeof e=="boolean"?e:Ks(e),n]},useSyncExternalStore:Nm,useId:Jm};Dr.useCacheRefresh=Vm,Dr.useMemoCache=Cc,Dr.useHostTransitionStatus=Lc,Dr.useFormState=Lm,Dr.useActionState=Lm,Dr.useOptimistic=function(e,n){var a=Pt();return Rm(a,bt,e,n)};var ha={readContext:rn,use:pl,useCallback:Gm,useContext:rn,useEffect:Dc,useImperativeHandle:qm,useInsertionEffect:Pm,useLayoutEffect:Hm,useMemo:Ym,useReducer:Rc,useRef:zm,useState:function(){return Rc(cr)},useDebugValue:Mc,useDeferredValue:function(e,n){var a=Pt();return bt===null?Ic(a,e,n):Zm(a,bt.memoizedState,e,n)},useTransition:function(){var e=Rc(cr)[0],n=Pt().memoizedState;return[typeof e=="boolean"?e:Ks(e),n]},useSyncExternalStore:Nm,useId:Jm};ha.useCacheRefresh=Vm,ha.useMemoCache=Cc,ha.useHostTransitionStatus=Lc,ha.useFormState=km,ha.useActionState=km,ha.useOptimistic=function(e,n){var a=Pt();return bt!==null?Rm(a,bt,e,n):(a.baseState=e,[e,a.queue.dispatch])};function kc(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:M({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var zc={isMounted:function(e){return(e=e._reactInternals)?I(e)===e:!1},enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Sn(),d=Ur(o);d.payload=n,a!=null&&(d.callback=a),n=Lr(e,d,o),n!==null&&(dn(n,e,o),ei(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Sn(),d=Ur(o);d.tag=1,d.payload=n,a!=null&&(d.callback=a),n=Lr(e,d,o),n!==null&&(dn(n,e,o),ei(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Sn(),o=Ur(a);o.tag=2,n!=null&&(o.callback=n),n=Lr(e,o,a),n!==null&&(dn(n,e,a),ei(n,e,a))}};function nh(e,n,a,o,d,h,j){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,h,j):n.prototype&&n.prototype.isPureReactComponent?!ks(a,o)||!ks(d,h):!0}function rh(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&zc.enqueueReplaceState(n,n.state,null)}function pa(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=M({},a));for(var d in e)a[d]===void 0&&(a[d]=e[d])}return a}var xl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ah(e){xl(e)}function sh(e){console.error(e)}function ih(e){xl(e)}function Sl(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function lh(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Bc(e,n,a){return a=Ur(a),a.tag=3,a.payload={element:null},a.callback=function(){Sl(e,n)},a}function oh(e){return e=Ur(e),e.tag=3,e}function ch(e,n,a,o){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var h=o.value;e.payload=function(){return d(h)},e.callback=function(){lh(n,a,o)}}var j=a.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(e.callback=function(){lh(n,a,o),typeof d!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var L=o.stack;this.componentDidCatch(o.value,{componentStack:L!==null?L:""})})}function Wy(e,n,a,o,d){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Ws(n,a,d,!0),a=_n.current,a!==null){switch(a.tag){case 13:return Kn===null?Su():a.alternate===null&&Ut===0&&(Ut=3),a.flags&=-257,a.flags|=65536,a.lanes=d,o===gc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Nu(e,o,d)),!1;case 22:return a.flags|=65536,o===gc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Nu(e,o,d)),!1}throw Error(s(435,a.tag))}return Nu(e,o,d),Su(),!1}if(ft)return n=_n.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=d,o!==pc&&(e=Error(s(422),{cause:o}),Hs(Cn(e,a)))):(o!==pc&&(n=Error(s(423),{cause:o}),Hs(Cn(n,a))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,o=Cn(o,a),d=Bc(e.stateNode,o,d),tu(e,d),Ut!==4&&(Ut=2)),!1;var h=Error(s(520),{cause:o});if(h=Cn(h,a),oi===null?oi=[h]:oi.push(h),Ut!==4&&(Ut=2),n===null)return!0;o=Cn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=d&-d,a.lanes|=e,e=Bc(a.stateNode,o,e),tu(a,e),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Hr===null||!Hr.has(h))))return a.flags|=65536,d&=-d,a.lanes|=d,d=oh(d),ch(d,e,a,o),tu(a,d),!1}a=a.return}while(a!==null);return!1}var uh=Error(s(461)),Qt=!1;function Wt(e,n,a,o){n.child=e===null?pm(n,null,a,o):ua(n,e.child,a,o)}function dh(e,n,a,o,d){a=a.render;var h=n.ref;if("ref"in o){var j={};for(var L in o)L!=="ref"&&(j[L]=o[L])}else j=o;return va(n),o=Nc(e,n,a,j,h,d),L=Tc(),e!==null&&!Qt?(jc(e,n,d),ur(e,n,d)):(ft&&L&&mc(n),n.flags|=1,Wt(e,n,o,d),n.child)}function fh(e,n,a,o,d){if(e===null){var h=a.type;return typeof h=="function"&&!cu(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,mh(e,n,h,o,d)):(e=Al(a.type,null,o,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!Qc(e,d)){var j=h.memoizedProps;if(a=a.compare,a=a!==null?a:ks,a(j,o)&&e.ref===n.ref)return ur(e,n,d)}return n.flags|=1,e=Br(h,o),e.ref=n.ref,e.return=n,n.child=e}function mh(e,n,a,o,d){if(e!==null){var h=e.memoizedProps;if(ks(h,o)&&e.ref===n.ref)if(Qt=!1,n.pendingProps=o=h,Qc(e,d))e.flags&131072&&(Qt=!0);else return n.lanes=e.lanes,ur(e,n,d)}return Pc(e,n,a,o,d)}function hh(e,n,a){var o=n.pendingProps,d=o.children,h=(n.stateNode._pendingVisibility&2)!==0,j=e!==null?e.memoizedState:null;if(Vs(e,n),o.mode==="hidden"||h){if(n.flags&128){if(o=j!==null?j.baseLanes|a:a,e!==null){for(d=n.child=e.child,h=0;d!==null;)h=h|d.lanes|d.childLanes,d=d.sibling;n.childLanes=h&~o}else n.childLanes=0,n.child=null;return ph(e,n,o,a)}if(a&536870912)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&dl(n,j!==null?j.cachePool:null),j!==null?gm(n,j):vc(),vm(n);else return n.lanes=n.childLanes=536870912,ph(e,n,j!==null?j.baseLanes|a:a,a)}else j!==null?(dl(n,j.cachePool),gm(n,j),_r(),n.memoizedState=null):(e!==null&&dl(n,null),vc(),_r());return Wt(e,n,d,a),n.child}function ph(e,n,a,o){var d=Sc();return d=d===null?null:{parent:Yt._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},e!==null&&dl(n,null),vc(),vm(n),e!==null&&Ws(e,n,o,!0),null}function Vs(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=2097664)}}function Pc(e,n,a,o,d){return va(n),a=Nc(e,n,a,o,void 0,d),o=Tc(),e!==null&&!Qt?(jc(e,n,d),ur(e,n,d)):(ft&&o&&mc(n),n.flags|=1,Wt(e,n,a,d),n.child)}function gh(e,n,a,o,d,h){return va(n),n.updateQueue=null,a=Em(n,o,a,d),Sm(e),o=Tc(),e!==null&&!Qt?(jc(e,n,h),ur(e,n,h)):(ft&&o&&mc(n),n.flags|=1,Wt(e,n,a,h),n.child)}function vh(e,n,a,o,d){if(va(n),n.stateNode===null){var h=qa,j=a.contextType;typeof j=="object"&&j!==null&&(h=rn(j)),h=new a(o,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=zc,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=o,h.state=n.memoizedState,h.refs={},Wc(n),j=a.contextType,h.context=typeof j=="object"&&j!==null?rn(j):qa,h.state=n.memoizedState,j=a.getDerivedStateFromProps,typeof j=="function"&&(kc(n,a,j,o),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(j=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),j!==h.state&&zc.enqueueReplaceState(h,h.state,null),ni(n,o,h,d),ti(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){h=n.stateNode;var L=n.memoizedProps,X=pa(a,L);h.props=X;var te=h.context,fe=a.contextType;j=qa,typeof fe=="object"&&fe!==null&&(j=rn(fe));var Ee=a.getDerivedStateFromProps;fe=typeof Ee=="function"||typeof h.getSnapshotBeforeUpdate=="function",L=n.pendingProps!==L,fe||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(L||te!==j)&&rh(n,h,o,j),Ir=!1;var le=n.memoizedState;h.state=le,ni(n,o,h,d),ti(),te=n.memoizedState,L||le!==te||Ir?(typeof Ee=="function"&&(kc(n,a,Ee,o),te=n.memoizedState),(X=Ir||nh(n,a,X,o,le,te,j))?(fe||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=te),h.props=o,h.state=te,h.context=j,o=X):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{h=n.stateNode,eu(e,n),j=n.memoizedProps,fe=pa(a,j),h.props=fe,Ee=n.pendingProps,le=h.context,te=a.contextType,X=qa,typeof te=="object"&&te!==null&&(X=rn(te)),L=a.getDerivedStateFromProps,(te=typeof L=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(j!==Ee||le!==X)&&rh(n,h,o,X),Ir=!1,le=n.memoizedState,h.state=le,ni(n,o,h,d),ti();var de=n.memoizedState;j!==Ee||le!==de||Ir||e!==null&&e.dependencies!==null&&El(e.dependencies)?(typeof L=="function"&&(kc(n,a,L,o),de=n.memoizedState),(fe=Ir||nh(n,a,fe,o,le,de,X)||e!==null&&e.dependencies!==null&&El(e.dependencies))?(te||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,de,X),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,de,X)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||j===e.memoizedProps&&le===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&le===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=de),h.props=o,h.state=de,h.context=X,o=fe):(typeof h.componentDidUpdate!="function"||j===e.memoizedProps&&le===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&le===e.memoizedState||(n.flags|=1024),o=!1)}return h=o,Vs(e,n),o=(n.flags&128)!==0,h||o?(h=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&o?(n.child=ua(n,e.child,null,d),n.child=ua(n,null,a,d)):Wt(e,n,a,d),n.memoizedState=h.state,e=n.child):e=ur(e,n,d),e}function bh(e,n,a,o){return Ps(),n.flags|=256,Wt(e,n,a,o),n.child}var Hc={dehydrated:null,treeContext:null,retryLane:0};function $c(e){return{baseLanes:e,cachePool:xm()}}function qc(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=In),e}function yh(e,n,a){var o=n.pendingProps,d=!1,h=(n.flags&128)!==0,j;if((j=h)||(j=e!==null&&e.memoizedState===null?!1:(Gt.current&2)!==0),j&&(d=!0,n.flags&=-129),j=(n.flags&32)!==0,n.flags&=-33,e===null){if(ft){if(d?Rr(n):_r(),ft){var L=Vt,X;if(X=L){e:{for(X=L,L=Qn;X.nodeType!==8;){if(!L){L=null;break e}if(X=Pn(X.nextSibling),X===null){L=null;break e}}L=X}L!==null?(n.memoizedState={dehydrated:L,treeContext:la!==null?{id:ir,overflow:lr}:null,retryLane:536870912},X=Mn(18,null,null,0),X.stateNode=L,X.return=n,n.child=X,un=n,Vt=null,X=!0):X=!1}X||ca(n)}if(L=n.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return L.data==="$!"?n.lanes=16:n.lanes=536870912,null;or(n)}return L=o.children,o=o.fallback,d?(_r(),d=n.mode,L=Yc({mode:"hidden",children:L},d),o=ya(o,d,a,null),L.return=n,o.return=n,L.sibling=o,n.child=L,d=n.child,d.memoizedState=$c(a),d.childLanes=qc(e,j,a),n.memoizedState=Hc,o):(Rr(n),Gc(n,L))}if(X=e.memoizedState,X!==null&&(L=X.dehydrated,L!==null)){if(h)n.flags&256?(Rr(n),n.flags&=-257,n=Zc(e,n,a)):n.memoizedState!==null?(_r(),n.child=e.child,n.flags|=128,n=null):(_r(),d=o.fallback,L=n.mode,o=Yc({mode:"visible",children:o.children},L),d=ya(d,L,a,null),d.flags|=2,o.return=n,d.return=n,o.sibling=d,n.child=o,ua(n,e.child,null,a),o=n.child,o.memoizedState=$c(a),o.childLanes=qc(e,j,a),n.memoizedState=Hc,n=d);else if(Rr(n),L.data==="$!"){if(j=L.nextSibling&&L.nextSibling.dataset,j)var te=j.dgst;j=te,o=Error(s(419)),o.stack="",o.digest=j,Hs({value:o,source:null,stack:null}),n=Zc(e,n,a)}else if(Qt||Ws(e,n,a,!1),j=(a&e.childLanes)!==0,Qt||j){if(j=Tt,j!==null){if(o=a&-a,o&42)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=o&(j.suspendedLanes|a)?0:o,o!==0&&o!==X.retryLane)throw X.retryLane=o,wr(e,o),dn(j,e,o),uh}L.data==="$?"||Su(),n=Zc(e,n,a)}else L.data==="$?"?(n.flags|=128,n.child=e.child,n=hx.bind(null,e),L._reactRetry=n,n=null):(e=X.treeContext,Vt=Pn(L.nextSibling),un=n,ft=!0,zn=null,Qn=!1,e!==null&&(wn[Rn++]=ir,wn[Rn++]=lr,wn[Rn++]=la,ir=e.id,lr=e.overflow,la=n),n=Gc(n,o.children),n.flags|=4096);return n}return d?(_r(),d=o.fallback,L=n.mode,X=e.child,te=X.sibling,o=Br(X,{mode:"hidden",children:o.children}),o.subtreeFlags=X.subtreeFlags&31457280,te!==null?d=Br(te,d):(d=ya(d,L,a,null),d.flags|=2),d.return=n,o.return=n,o.sibling=d,n.child=o,o=d,d=n.child,L=e.child.memoizedState,L===null?L=$c(a):(X=L.cachePool,X!==null?(te=Yt._currentValue,X=X.parent!==te?{parent:te,pool:te}:X):X=xm(),L={baseLanes:L.baseLanes|a,cachePool:X}),d.memoizedState=L,d.childLanes=qc(e,j,a),n.memoizedState=Hc,o):(Rr(n),a=e.child,e=a.sibling,a=Br(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(j=n.deletions,j===null?(n.deletions=[e],n.flags|=16):j.push(e)),n.child=a,n.memoizedState=null,a)}function Gc(e,n){return n=Yc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yc(e,n){return Gh(e,n,0,null)}function Zc(e,n,a){return ua(n,e.child,null,a),e=Gc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function xh(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Jc(e.return,n,a)}function Xc(e,n,a,o,d){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:d}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=a,h.tailMode=d)}function Sh(e,n,a){var o=n.pendingProps,d=o.revealOrder,h=o.tail;if(Wt(e,n,o.children,a),o=Gt.current,o&2)o=o&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xh(e,a,n);else if(e.tag===19)xh(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(ke(Gt,o),d){case"forwards":for(a=n.child,d=null;a!==null;)e=a.alternate,e!==null&&ul(e)===null&&(d=a),a=a.sibling;a=d,a===null?(d=n.child,n.child=null):(d=a.sibling,a.sibling=null),Xc(n,!1,d,a,h);break;case"backwards":for(a=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&ul(e)===null){n.child=d;break}e=d.sibling,d.sibling=a,a=d,d=e}Xc(n,!0,a,null,h);break;case"together":Xc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ur(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Pr|=n.lanes,!(a&n.childLanes))if(e!==null){if(Ws(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Br(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Br(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Qc(e,n){return e.lanes&n?!0:(e=e.dependencies,!!(e!==null&&El(e)))}function ex(e,n,a){switch(n.tag){case 3:pe(n,n.stateNode.containerInfo),Mr(n,Yt,e.memoizedState.cache),Ps();break;case 27:case 5:De(n);break;case 4:pe(n,n.stateNode.containerInfo);break;case 10:Mr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Rr(n),n.flags|=128,null):a&n.child.childLanes?yh(e,n,a):(Rr(n),e=ur(e,n,a),e!==null?e.sibling:null);Rr(n);break;case 19:var d=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Ws(e,n,a,!1),o=(a&n.childLanes)!==0),d){if(o)return Sh(e,n,a);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ke(Gt,Gt.current),o)break;return null;case 22:case 23:return n.lanes=0,hh(e,n,a);case 24:Mr(n,Yt,e.memoizedState.cache)}return ur(e,n,a)}function Eh(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Qt=!0;else{if(!Qc(e,a)&&!(n.flags&128))return Qt=!1,ex(e,n,a);Qt=!!(e.flags&131072)}else Qt=!1,ft&&n.flags&1048576&&im(n,sl,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var o=n.elementType,d=o._init;if(o=d(o._payload),n.type=o,typeof o=="function")cu(o)?(e=pa(o,e),n.tag=1,n=vh(null,n,o,e,a)):(n.tag=0,n=Pc(null,n,o,e,a));else{if(o!=null){if(d=o.$$typeof,d===N){n.tag=11,n=dh(null,n,o,e,a);break e}else if(d===w){n.tag=14,n=fh(null,n,o,e,a);break e}}throw n=R(o)||o,Error(s(306,n,""))}}return n;case 0:return Pc(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,d=pa(o,n.pendingProps),vh(e,n,o,d,a);case 3:e:{if(pe(n,n.stateNode.containerInfo),e===null)throw Error(s(387));var h=n.pendingProps;d=n.memoizedState,o=d.element,eu(e,n),ni(n,h,null,a);var j=n.memoizedState;if(h=j.cache,Mr(n,Yt,h),h!==d.cache&&Vc(n,[Yt],a,!0),ti(),h=j.element,d.isDehydrated)if(d={element:h,isDehydrated:!1,cache:j.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=bh(e,n,h,a);break e}else if(h!==o){o=Cn(Error(s(424)),n),Hs(o),n=bh(e,n,h,a);break e}else for(Vt=Pn(n.stateNode.containerInfo.firstChild),un=n,ft=!0,zn=null,Qn=!0,a=pm(n,null,h,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ps(),h===o){n=ur(e,n,a);break e}Wt(e,n,h,a)}n=n.child}return n;case 26:return Vs(e,n),e===null?(a=jp(n.type,null,n.pendingProps,null))?n.memoizedState=a:ft||(a=n.type,e=n.pendingProps,o=kl(ht.current).createElement(a),o[Mt]=n,o[Qe]=e,en(o,a,e),Xt(o),n.stateNode=o):n.memoizedState=jp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return De(n),e===null&&ft&&(o=n.stateNode=Ep(n.type,n.pendingProps,ht.current),un=n,Qn=!0,Vt=Pn(o.firstChild)),o=n.pendingProps.children,e!==null||ft?Wt(e,n,o,a):n.child=ua(n,null,o,a),Vs(e,n),n.child;case 5:return e===null&&ft&&((d=o=Vt)&&(o=_x(o,n.type,n.pendingProps,Qn),o!==null?(n.stateNode=o,un=n,Vt=Pn(o.firstChild),Qn=!1,d=!0):d=!1),d||ca(n)),De(n),d=n.type,h=n.pendingProps,j=e!==null?e.memoizedProps:null,o=h.children,Uu(d,h)?o=null:j!==null&&Uu(d,j)&&(n.flags|=32),n.memoizedState!==null&&(d=Nc(e,n,Zy,null,null,a),vi._currentValue=d),Vs(e,n),Wt(e,n,o,a),n.child;case 6:return e===null&&ft&&((e=a=Vt)&&(a=Ox(a,n.pendingProps,Qn),a!==null?(n.stateNode=a,un=n,Vt=null,e=!0):e=!1),e||ca(n)),null;case 13:return yh(e,n,a);case 4:return pe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ua(n,null,o,a):Wt(e,n,o,a),n.child;case 11:return dh(e,n,n.type,n.pendingProps,a);case 7:return Wt(e,n,n.pendingProps,a),n.child;case 8:return Wt(e,n,n.pendingProps.children,a),n.child;case 12:return Wt(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Mr(n,n.type,o.value),Wt(e,n,o.children,a),n.child;case 9:return d=n.type._context,o=n.pendingProps.children,va(n),d=rn(d),o=o(d),n.flags|=1,Wt(e,n,o,a),n.child;case 14:return fh(e,n,n.type,n.pendingProps,a);case 15:return mh(e,n,n.type,n.pendingProps,a);case 19:return Sh(e,n,a);case 22:return hh(e,n,a);case 24:return va(n),o=rn(Yt),e===null?(d=Sc(),d===null&&(d=Tt,h=yc(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=a),d=h),n.memoizedState={parent:o,cache:d},Wc(n),Mr(n,Yt,d)):(e.lanes&a&&(eu(e,n),ni(n,null,null,a),ti()),d=e.memoizedState,h=n.memoizedState,d.parent!==o?(d={parent:o,cache:o},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Mr(n,Yt,o)):(o=h.cache,Mr(n,Yt,o),o!==d.cache&&Vc(n,[Yt],a,!0))),Wt(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Kc=_e(null),ga=null,dr=null;function Mr(e,n,a){ke(Kc,n._currentValue),n._currentValue=a}function fr(e){e._currentValue=Kc.current,Ie(Kc)}function Jc(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function Vc(e,n,a,o){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var h=d.dependencies;if(h!==null){var j=d.child;h=h.firstContext;e:for(;h!==null;){var L=h;h=d;for(var X=0;X<n.length;X++)if(L.context===n[X]){h.lanes|=a,L=h.alternate,L!==null&&(L.lanes|=a),Jc(h.return,a,e),o||(j=null);break e}h=L.next}}else if(d.tag===18){if(j=d.return,j===null)throw Error(s(341));j.lanes|=a,h=j.alternate,h!==null&&(h.lanes|=a),Jc(j,a,e),j=null}else j=d.child;if(j!==null)j.return=d;else for(j=d;j!==null;){if(j===e){j=null;break}if(d=j.sibling,d!==null){d.return=j.return,j=d;break}j=j.return}d=j}}function Ws(e,n,a,o){e=null;for(var d=n,h=!1;d!==null;){if(!h){if(d.flags&524288)h=!0;else if(d.flags&262144)break}if(d.tag===10){var j=d.alternate;if(j===null)throw Error(s(387));if(j=j.memoizedProps,j!==null){var L=d.type;vn(d.pendingProps.value,j.value)||(e!==null?e.push(L):e=[L])}}else if(d===be.current){if(j=d.alternate,j===null)throw Error(s(387));j.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(vi):e=[vi])}d=d.return}e!==null&&Vc(n,e,a,o),n.flags|=262144}function El(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function va(e){ga=e,dr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rn(e){return Nh(ga,e)}function Nl(e,n){return ga===null&&va(e),Nh(e,n)}function Nh(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},dr===null){if(e===null)throw Error(s(308));dr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else dr=dr.next=n;return a}var Ir=!1;function Wc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ur(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Lr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Rt&2){var d=o.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),o.pending=n,n=rl(e),am(e,null,a),n}return nl(e,o,n,a),rl(e)}function ei(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,dt(e,a)}}function tu(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var d=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var j={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?d=h=j:h=h.next=j,a=a.next}while(a!==null);h===null?d=h=n:h=h.next=n}else d=h=n;a={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var nu=!1;function ti(){if(nu){var e=Ka;if(e!==null)throw e}}function ni(e,n,a,o){nu=!1;var d=e.updateQueue;Ir=!1;var h=d.firstBaseUpdate,j=d.lastBaseUpdate,L=d.shared.pending;if(L!==null){d.shared.pending=null;var X=L,te=X.next;X.next=null,j===null?h=te:j.next=te,j=X;var fe=e.alternate;fe!==null&&(fe=fe.updateQueue,L=fe.lastBaseUpdate,L!==j&&(L===null?fe.firstBaseUpdate=te:L.next=te,fe.lastBaseUpdate=X))}if(h!==null){var Ee=d.baseState;j=0,fe=te=X=null,L=h;do{var le=L.lane&-536870913,de=le!==L.lane;if(de?(ut&le)===le:(o&le)===le){le!==0&&le===Qa&&(nu=!0),fe!==null&&(fe=fe.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Pe=e,Ke=L;le=n;var Lt=a;switch(Ke.tag){case 1:if(Pe=Ke.payload,typeof Pe=="function"){Ee=Pe.call(Lt,Ee,le);break e}Ee=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ke.payload,le=typeof Pe=="function"?Pe.call(Lt,Ee,le):Pe,le==null)break e;Ee=M({},Ee,le);break e;case 2:Ir=!0}}le=L.callback,le!==null&&(e.flags|=64,de&&(e.flags|=8192),de=d.callbacks,de===null?d.callbacks=[le]:de.push(le))}else de={lane:le,tag:L.tag,payload:L.payload,callback:L.callback,next:null},fe===null?(te=fe=de,X=Ee):fe=fe.next=de,j|=le;if(L=L.next,L===null){if(L=d.shared.pending,L===null)break;de=L,L=de.next,de.next=null,d.lastBaseUpdate=de,d.shared.pending=null}}while(!0);fe===null&&(X=Ee),d.baseState=X,d.firstBaseUpdate=te,d.lastBaseUpdate=fe,h===null&&(d.shared.lanes=0),Pr|=j,e.lanes=j,e.memoizedState=Ee}}function Th(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function jh(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Th(a[e],n)}function ri(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var d=o.next;a=d;do{if((a.tag&e)===e){o=void 0;var h=a.create,j=a.inst;o=h(),j.destroy=o}a=a.next}while(a!==d)}}catch(L){Et(n,n.return,L)}}function Fr(e,n,a){try{var o=n.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var h=d.next;o=h;do{if((o.tag&e)===e){var j=o.inst,L=j.destroy;if(L!==void 0){j.destroy=void 0,d=n;var X=a;try{L()}catch(te){Et(d,X,te)}}}o=o.next}while(o!==h)}}catch(te){Et(n,n.return,te)}}function Ah(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{jh(n,a)}catch(o){Et(e,e.return,o)}}}function Ch(e,n,a){a.props=pa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Et(e,n,o)}}function ba(e,n){try{var a=e.ref;if(a!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var d=o;break;default:d=o}typeof a=="function"?e.refCleanup=a(d):a.current=d}}catch(h){Et(e,n,h)}}function bn(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(d){Et(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Et(e,n,d)}else a.current=null}function wh(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(d){Et(e,e.return,d)}}function Rh(e,n,a){try{var o=e.stateNode;jx(o,e.type,a,n),o[Qe]=n}catch(d){Et(e,e.return,d)}}function _h(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function ru(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_h(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function au(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(e,n):a.insertBefore(e,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(e,a)):(n=a,n.appendChild(e)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Fl));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(au(e,n,a),e=e.sibling;e!==null;)au(e,n,a),e=e.sibling}function Tl(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Tl(e,n,a),e=e.sibling;e!==null;)Tl(e,n,a),e=e.sibling}var mr=!1,It=!1,su=!1,Oh=typeof WeakSet=="function"?WeakSet:Set,Kt=null,Dh=!1;function tx(e,n){if(e=e.containerInfo,Mu=ql,e=Qf(e),lc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var d=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var j=0,L=-1,X=-1,te=0,fe=0,Ee=e,le=null;t:for(;;){for(var de;Ee!==a||d!==0&&Ee.nodeType!==3||(L=j+d),Ee!==h||o!==0&&Ee.nodeType!==3||(X=j+o),Ee.nodeType===3&&(j+=Ee.nodeValue.length),(de=Ee.firstChild)!==null;)le=Ee,Ee=de;for(;;){if(Ee===e)break t;if(le===a&&++te===d&&(L=j),le===h&&++fe===o&&(X=j),(de=Ee.nextSibling)!==null)break;Ee=le,le=Ee.parentNode}Ee=de}a=L===-1||X===-1?null:{start:L,end:X}}else a=null}a=a||{start:0,end:0}}else a=null;for(Iu={focusedElem:e,selectionRange:a},ql=!1,Kt=n;Kt!==null;)if(n=Kt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Kt=e;else for(;Kt!==null;){switch(n=Kt,h=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&h!==null){e=void 0,a=n,d=h.memoizedProps,h=h.memoizedState,o=a.stateNode;try{var Pe=pa(a.type,d,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(Pe,h),o.__reactInternalSnapshotBeforeUpdate=e}catch(Ke){Et(a,a.return,Ke)}}break;case 3:if(e&1024){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)ku(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ku(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Kt=e;break}Kt=n.return}return Pe=Dh,Dh=!1,Pe}function Mh(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:pr(e,a),o&4&&ri(5,a);break;case 1:if(pr(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(L){Et(a,a.return,L)}else{var d=pa(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(L){Et(a,a.return,L)}}o&64&&Ah(a),o&512&&ba(a,a.return);break;case 3:if(pr(e,a),o&64&&(o=a.updateQueue,o!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{jh(o,e)}catch(L){Et(a,a.return,L)}}break;case 26:pr(e,a),o&512&&ba(a,a.return);break;case 27:case 5:pr(e,a),n===null&&o&4&&wh(a),o&512&&ba(a,a.return);break;case 12:pr(e,a);break;case 13:pr(e,a),o&4&&Lh(e,a);break;case 22:if(d=a.memoizedState!==null||mr,!d){n=n!==null&&n.memoizedState!==null||It;var h=mr,j=It;mr=d,(It=n)&&!j?kr(e,a,(a.subtreeFlags&8772)!==0):pr(e,a),mr=h,It=j}o&512&&(a.memoizedProps.mode==="manual"?ba(a,a.return):bn(a,a.return));break;default:pr(e,a)}}function Ih(e){var n=e.alternate;n!==null&&(e.alternate=null,Ih(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Go(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ht=null,yn=!1;function hr(e,n,a){for(a=a.child;a!==null;)Uh(e,n,a),a=a.sibling}function Uh(e,n,a){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Ot,a)}catch{}switch(a.tag){case 26:It||bn(a,n),hr(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||bn(a,n);var o=Ht,d=yn;for(Ht=a.stateNode,hr(e,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);Go(a),Ht=o,yn=d;break;case 5:It||bn(a,n);case 6:d=Ht;var h=yn;if(Ht=null,hr(e,n,a),Ht=d,yn=h,Ht!==null)if(yn)try{e=Ht,o=a.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(j){Et(a,n,j)}else try{Ht.removeChild(a.stateNode)}catch(j){Et(a,n,j)}break;case 18:Ht!==null&&(yn?(n=Ht,a=a.stateNode,n.nodeType===8?Fu(n.parentNode,a):n.nodeType===1&&Fu(n,a),Si(n)):Fu(Ht,a.stateNode));break;case 4:o=Ht,d=yn,Ht=a.stateNode.containerInfo,yn=!0,hr(e,n,a),Ht=o,yn=d;break;case 0:case 11:case 14:case 15:It||Fr(2,a,n),It||Fr(4,a,n),hr(e,n,a);break;case 1:It||(bn(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ch(a,n,o)),hr(e,n,a);break;case 21:hr(e,n,a);break;case 22:It||bn(a,n),It=(o=It)||a.memoizedState!==null,hr(e,n,a),It=o;break;default:hr(e,n,a)}}function Lh(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Si(e)}catch(a){Et(n,n.return,a)}}function nx(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Oh),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Oh),n;default:throw Error(s(435,e.tag))}}function iu(e,n){var a=nx(e);n.forEach(function(o){var d=px.bind(null,e,o);a.has(o)||(a.add(o),o.then(d,d))})}function On(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var d=a[o],h=e,j=n,L=j;e:for(;L!==null;){switch(L.tag){case 27:case 5:Ht=L.stateNode,yn=!1;break e;case 3:Ht=L.stateNode.containerInfo,yn=!0;break e;case 4:Ht=L.stateNode.containerInfo,yn=!0;break e}L=L.return}if(Ht===null)throw Error(s(160));Uh(h,j,d),Ht=null,yn=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Fh(n,e),n=n.sibling}var Bn=null;function Fh(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:On(n,e),Dn(e),o&4&&(Fr(3,e,e.return),ri(3,e),Fr(5,e,e.return));break;case 1:On(n,e),Dn(e),o&512&&(It||a===null||bn(a,a.return)),o&64&&mr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var d=Bn;if(On(n,e),Dn(e),o&512&&(It||a===null||bn(a,a.return)),o&4){var h=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){e:{o=e.type,a=e.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":h=d.getElementsByTagName("title")[0],(!h||h[Rs]||h[Mt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(o),d.head.insertBefore(h,d.querySelector("head > title"))),en(h,o,a),h[Mt]=e,Xt(h),o=h;break e;case"link":var j=wp("link","href",d).get(o+(a.href||""));if(j){for(var L=0;L<j.length;L++)if(h=j[L],h.getAttribute("href")===(a.href==null?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){j.splice(L,1);break t}}h=d.createElement(o),en(h,o,a),d.head.appendChild(h);break;case"meta":if(j=wp("meta","content",d).get(o+(a.content||""))){for(L=0;L<j.length;L++)if(h=j[L],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){j.splice(L,1);break t}}h=d.createElement(o),en(h,o,a),d.head.appendChild(h);break;default:throw Error(s(468,o))}h[Mt]=e,Xt(h),o=h}e.stateNode=o}else Rp(d,e.type,e.stateNode);else e.stateNode=Cp(d,o,e.memoizedProps);else h!==o?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,o===null?Rp(d,e.type,e.stateNode):Cp(d,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Rh(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){d=e.stateNode,h=e.memoizedProps;try{for(var X=d.firstChild;X;){var te=X.nextSibling,fe=X.nodeName;X[Rs]||fe==="HEAD"||fe==="BODY"||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&X.rel.toLowerCase()==="stylesheet"||d.removeChild(X),X=te}for(var Ee=e.type,le=d.attributes;le.length;)d.removeAttributeNode(le[0]);en(d,Ee,h),d[Mt]=e,d[Qe]=h}catch(Pe){Et(e,e.return,Pe)}}case 5:if(On(n,e),Dn(e),o&512&&(It||a===null||bn(a,a.return)),e.flags&32){d=e.stateNode;try{Fa(d,"")}catch(Pe){Et(e,e.return,Pe)}}o&4&&e.stateNode!=null&&(d=e.memoizedProps,Rh(e,d,a!==null?a.memoizedProps:d)),o&1024&&(su=!0);break;case 6:if(On(n,e),Dn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(Pe){Et(e,e.return,Pe)}}break;case 3:if(Pl=null,d=Bn,Bn=zl(n.containerInfo),On(n,e),Bn=d,Dn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Si(n.containerInfo)}catch(Pe){Et(e,e.return,Pe)}su&&(su=!1,kh(e));break;case 4:o=Bn,Bn=zl(e.stateNode.containerInfo),On(n,e),Dn(e),Bn=o;break;case 12:On(n,e),Dn(e);break;case 13:On(n,e),Dn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pu=Te()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,iu(e,o)));break;case 22:if(o&512&&(It||a===null||bn(a,a.return)),X=e.memoizedState!==null,te=a!==null&&a.memoizedState!==null,fe=mr,Ee=It,mr=fe||X,It=Ee||te,On(n,e),It=Ee,mr=fe,Dn(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,o&8192&&(n._visibility=X?n._visibility&-2:n._visibility|1,X&&(n=mr||It,a===null||te||n||es(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(a=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){te=a=n;try{if(d=te.stateNode,X)h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{j=te.stateNode,L=te.memoizedProps.style;var de=L!=null&&L.hasOwnProperty("display")?L.display:null;j.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(Pe){Et(te,te.return,Pe)}}}else if(n.tag===6){if(a===null){te=n;try{te.stateNode.nodeValue=X?"":te.memoizedProps}catch(Pe){Et(te,te.return,Pe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,iu(e,a))));break;case 19:On(n,e),Dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,iu(e,o)));break;case 21:break;default:On(n,e),Dn(e)}}function Dn(e){var n=e.flags;if(n&2){try{if(e.tag!==27){e:{for(var a=e.return;a!==null;){if(_h(a)){var o=a;break e}a=a.return}throw Error(s(160))}switch(o.tag){case 27:var d=o.stateNode,h=ru(e);Tl(e,h,d);break;case 5:var j=o.stateNode;o.flags&32&&(Fa(j,""),o.flags&=-33);var L=ru(e);Tl(e,L,j);break;case 3:case 4:var X=o.stateNode.containerInfo,te=ru(e);au(e,te,X);break;default:throw Error(s(161))}}}catch(fe){Et(e,e.return,fe)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function kh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;kh(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function pr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Mh(e,n.alternate,n),n=n.sibling}function es(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Fr(4,n,n.return),es(n);break;case 1:bn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ch(n,n.return,a),es(n);break;case 26:case 27:case 5:bn(n,n.return),es(n);break;case 22:bn(n,n.return),n.memoizedState===null&&es(n);break;default:es(n)}e=e.sibling}}function kr(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,d=e,h=n,j=h.flags;switch(h.tag){case 0:case 11:case 15:kr(d,h,a),ri(4,h);break;case 1:if(kr(d,h,a),o=h,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(te){Et(o,o.return,te)}if(o=h,d=o.updateQueue,d!==null){var L=o.stateNode;try{var X=d.shared.hiddenCallbacks;if(X!==null)for(d.shared.hiddenCallbacks=null,d=0;d<X.length;d++)Th(X[d],L)}catch(te){Et(o,o.return,te)}}a&&j&64&&Ah(h),ba(h,h.return);break;case 26:case 27:case 5:kr(d,h,a),a&&o===null&&j&4&&wh(h),ba(h,h.return);break;case 12:kr(d,h,a);break;case 13:kr(d,h,a),a&&j&4&&Lh(d,h);break;case 22:h.memoizedState===null&&kr(d,h,a),ba(h,h.return);break;default:kr(d,h,a)}n=n.sibling}}function lu(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Zs(a))}function ou(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Zs(e))}function zr(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zh(e,n,a,o),n=n.sibling}function zh(e,n,a,o){var d=n.flags;switch(n.tag){case 0:case 11:case 15:zr(e,n,a,o),d&2048&&ri(9,n);break;case 3:zr(e,n,a,o),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Zs(e)));break;case 12:if(d&2048){zr(e,n,a,o),e=n.stateNode;try{var h=n.memoizedProps,j=h.id,L=h.onPostCommit;typeof L=="function"&&L(j,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(X){Et(n,n.return,X)}}else zr(e,n,a,o);break;case 23:break;case 22:h=n.stateNode,n.memoizedState!==null?h._visibility&4?zr(e,n,a,o):ai(e,n):h._visibility&4?zr(e,n,a,o):(h._visibility|=4,ts(e,n,a,o,(n.subtreeFlags&10256)!==0)),d&2048&&lu(n.alternate,n);break;case 24:zr(e,n,a,o),d&2048&&ou(n.alternate,n);break;default:zr(e,n,a,o)}}function ts(e,n,a,o,d){for(d=d&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=e,j=n,L=a,X=o,te=j.flags;switch(j.tag){case 0:case 11:case 15:ts(h,j,L,X,d),ri(8,j);break;case 23:break;case 22:var fe=j.stateNode;j.memoizedState!==null?fe._visibility&4?ts(h,j,L,X,d):ai(h,j):(fe._visibility|=4,ts(h,j,L,X,d)),d&&te&2048&&lu(j.alternate,j);break;case 24:ts(h,j,L,X,d),d&&te&2048&&ou(j.alternate,j);break;default:ts(h,j,L,X,d)}n=n.sibling}}function ai(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,d=o.flags;switch(o.tag){case 22:ai(a,o),d&2048&&lu(o.alternate,o);break;case 24:ai(a,o),d&2048&&ou(o.alternate,o);break;default:ai(a,o)}n=n.sibling}}var si=8192;function ns(e){if(e.subtreeFlags&si)for(e=e.child;e!==null;)Bh(e),e=e.sibling}function Bh(e){switch(e.tag){case 26:ns(e),e.flags&si&&e.memoizedState!==null&&qx(Bn,e.memoizedState,e.memoizedProps);break;case 5:ns(e);break;case 3:case 4:var n=Bn;Bn=zl(e.stateNode.containerInfo),ns(e),Bn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=si,si=16777216,ns(e),si=n):ns(e));break;default:ns(e)}}function Ph(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ii(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Kt=o,$h(o,e)}Ph(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hh(e),e=e.sibling}function Hh(e){switch(e.tag){case 0:case 11:case 15:ii(e),e.flags&2048&&Fr(9,e,e.return);break;case 3:ii(e);break;case 12:ii(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,jl(e)):ii(e);break;default:ii(e)}}function jl(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Kt=o,$h(o,e)}Ph(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Fr(8,n,n.return),jl(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,jl(n));break;default:jl(n)}e=e.sibling}}function $h(e,n){for(;Kt!==null;){var a=Kt;switch(a.tag){case 0:case 11:case 15:Fr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Zs(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Kt=o;else e:for(a=e;Kt!==null;){o=Kt;var d=o.sibling,h=o.return;if(Ih(o),o===a){Kt=null;break e}if(d!==null){d.return=h,Kt=d;break e}Kt=h}}}function rx(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,n,a,o){return new rx(e,n,a,o)}function cu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Br(e,n){var a=e.alternate;return a===null?(a=Mn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function qh(e,n){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Al(e,n,a,o,d,h){var j=0;if(o=e,typeof e=="function")cu(e)&&(j=1);else if(typeof e=="string")j=Hx(e,a,Ge.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case y:return ya(a.children,d,h,n);case g:j=8,d|=24;break;case p:return e=Mn(12,a,n,d|2),e.elementType=p,e.lanes=h,e;case O:return e=Mn(13,a,n,d),e.elementType=O,e.lanes=h,e;case C:return e=Mn(19,a,n,d),e.elementType=C,e.lanes=h,e;case $:return Gh(a,d,h,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b:case x:j=10;break e;case v:j=9;break e;case N:j=11;break e;case w:j=14;break e;case G:j=16,o=null;break e}j=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=Mn(j,a,n,d),n.elementType=e,n.type=o,n.lanes=h,n}function ya(e,n,a,o){return e=Mn(7,e,o,n),e.lanes=a,e}function Gh(e,n,a,o){e=Mn(22,e,o,n),e.elementType=$,e.lanes=a;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var h=d._current;if(h===null)throw Error(s(456));if(!(d._pendingVisibility&2)){var j=wr(h,2);j!==null&&(d._pendingVisibility|=2,dn(j,h,2))}},attach:function(){var h=d._current;if(h===null)throw Error(s(456));if(d._pendingVisibility&2){var j=wr(h,2);j!==null&&(d._pendingVisibility&=-3,dn(j,h,2))}}};return e.stateNode=d,e}function uu(e,n,a){return e=Mn(6,e,null,n),e.lanes=a,e}function du(e,n,a){return n=Mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function gr(e){e.flags|=4}function Yh(e,n){if(n.type!=="stylesheet"||n.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!_p(n)){if(n=_n.current,n!==null&&((ut&4194176)===ut?Kn!==null:(ut&62914560)!==ut&&!(ut&536870912)||n!==Kn))throw qs=gc,cm;e.flags|=8192}}function Cl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ce():536870912,e.lanes|=n,as|=n)}function li(e,n){if(!ft)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function wt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var d=e.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags&31457280,o|=d.flags&31457280,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function ax(e,n,a){var o=n.pendingProps;switch(hc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(n),null;case 1:return wt(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),fr(Yt),Ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Bs(n)?gr(n):e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,zn!==null&&(yu(zn),zn=null))),wt(n),null;case 26:return a=n.memoizedState,e===null?(gr(n),a!==null?(wt(n),Yh(n,a)):(wt(n),n.flags&=-16777217)):a?a!==e.memoizedState?(gr(n),wt(n),Yh(n,a)):(wt(n),n.flags&=-16777217):(e.memoizedProps!==o&&gr(n),wt(n),n.flags&=-16777217),null;case 27:Le(n),a=ht.current;var d=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&gr(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return wt(n),null}e=Ge.current,Bs(n)?lm(n):(e=Ep(d,o,a),n.stateNode=e,gr(n))}return wt(n),null;case 5:if(Le(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&gr(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return wt(n),null}if(e=Ge.current,Bs(n))lm(n);else{switch(d=kl(ht.current),e){case 1:e=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?d.createElement("select",{is:o.is}):d.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?d.createElement(a,{is:o.is}):d.createElement(a)}}e[Mt]=n,e[Qe]=o;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)e.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=e;e:switch(en(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&gr(n)}}return wt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&gr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=ht.current,Bs(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,d=un,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}e[Mt]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||gp(e.nodeValue,a)),e||ca(n)}else e=kl(e).createTextNode(o),e[Mt]=n,n.stateNode=e}return wt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Bs(n),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Mt]=n}else Ps(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;wt(n),d=!1}else zn!==null&&(yu(zn),zn=null),d=!0;if(!d)return n.flags&256?(or(n),n):(or(n),null)}if(or(n),n.flags&128)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool);var h=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==d&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Cl(n,n.updateQueue),wt(n),null;case 4:return Ue(),e===null&&_u(n.stateNode.containerInfo),wt(n),null;case 10:return fr(n.type),wt(n),null;case 19:if(Ie(Gt),d=n.memoizedState,d===null)return wt(n),null;if(o=(n.flags&128)!==0,h=d.rendering,h===null)if(o)li(d,!1);else{if(Ut!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(h=ul(e),h!==null){for(n.flags|=128,li(d,!1),e=h.updateQueue,n.updateQueue=e,Cl(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)qh(a,e),a=a.sibling;return ke(Gt,Gt.current&1|2),n.child}e=e.sibling}d.tail!==null&&Te()>wl&&(n.flags|=128,o=!0,li(d,!1),n.lanes=4194304)}else{if(!o)if(e=ul(h),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Cl(n,e),li(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!ft)return wt(n),null}else 2*Te()-d.renderingStartTime>wl&&a!==536870912&&(n.flags|=128,o=!0,li(d,!1),n.lanes=4194304);d.isBackwards?(h.sibling=n.child,n.child=h):(e=d.last,e!==null?e.sibling=h:n.child=h,d.last=h)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Te(),n.sibling=null,e=Gt.current,ke(Gt,o?e&1|2:e&1),n):(wt(n),null);case 22:case 23:return or(n),bc(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?a&536870912&&!(n.flags&128)&&(wt(n),n.subtreeFlags&6&&(n.flags|=8192)):wt(n),a=n.updateQueue,a!==null&&Cl(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&Ie(da),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),fr(Yt),wt(n),null;case 25:return null}throw Error(s(156,n.tag))}function sx(e,n){switch(hc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return fr(Yt),Ue(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Le(n),null;case 13:if(or(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ps()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ie(Gt),null;case 4:return Ue(),null;case 10:return fr(n.type),null;case 22:case 23:return or(n),bc(),e!==null&&Ie(da),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return fr(Yt),null;case 25:return null;default:return null}}function Zh(e,n){switch(hc(n),n.tag){case 3:fr(Yt),Ue();break;case 26:case 27:case 5:Le(n);break;case 4:Ue();break;case 13:or(n);break;case 19:Ie(Gt);break;case 10:fr(n.type);break;case 22:case 23:or(n),bc(),e!==null&&Ie(da);break;case 24:fr(Yt)}}var ix={getCacheForType:function(e){var n=rn(Yt),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},lx=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Tt=null,it=null,ut=0,jt=0,xn=null,vr=!1,rs=!1,fu=!1,br=0,Ut=0,Pr=0,xa=0,mu=0,In=0,as=0,oi=null,Vn=null,hu=!1,pu=0,wl=1/0,Rl=null,Hr=null,_l=!1,Sa=null,ci=0,gu=0,vu=null,ui=0,bu=null;function Sn(){if(Rt&2&&ut!==0)return ut&-ut;if(E.T!==null){var e=Qa;return e!==0?e:Au()}return zt()}function Xh(){In===0&&(In=!(ut&536870912)||ft?Xe():536870912);var e=_n.current;return e!==null&&(e.flags|=32),In}function dn(e,n,a){(e===Tt&&jt===2||e.cancelPendingCommit!==null)&&(ss(e,0),yr(e,ut,In,!1)),lt(e,a),(!(Rt&2)||e!==Tt)&&(e===Tt&&(!(Rt&2)&&(xa|=a),Ut===4&&yr(e,ut,In,!1)),Wn(e))}function Qh(e,n,a){if(Rt&6)throw Error(s(327));var o=!a&&(n&60)===0&&(n&e.expiredLanes)===0||he(e,n),d=o?ux(e,n):Eu(e,n,!0),h=o;do{if(d===0){rs&&!o&&yr(e,n,0,!1);break}else if(d===6)yr(e,n,0,!vr);else{if(a=e.current.alternate,h&&!ox(a)){d=Eu(e,n,!1),h=!1;continue}if(d===2){if(h=n,e.errorRecoveryDisabledLanes&h)var j=0;else j=e.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){n=j;e:{var L=e;d=oi;var X=L.current.memoizedState.isDehydrated;if(X&&(ss(L,j).flags|=256),j=Eu(L,j,!1),j!==2){if(fu&&!X){L.errorRecoveryDisabledLanes|=h,xa|=h,d=4;break e}h=Vn,Vn=d,h!==null&&yu(h)}d=j}if(h=!1,d!==2)continue}}if(d===1){ss(e,0),yr(e,n,0,!0);break}e:{switch(o=e,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){yr(o,n,In,!vr);break e}break;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=a,o.finishedLanes=n,(n&62914560)===n&&(h=pu+300-Te(),10<h)){if(yr(o,n,In,!vr),Ae(o,0)!==0)break e;o.timeoutHandle=yp(Kh.bind(null,o,a,Vn,Rl,hu,n,In,xa,as,vr,2,-0,0),h);break e}Kh(o,a,Vn,Rl,hu,n,In,xa,as,vr,0,-0,0)}}break}while(!0);Wn(e)}function yu(e){Vn===null?Vn=e:Vn.push.apply(Vn,e)}function Kh(e,n,a,o,d,h,j,L,X,te,fe,Ee,le){var de=n.subtreeFlags;if((de&8192||(de&16785408)===16785408)&&(gi={stylesheets:null,count:0,unsuspend:$x},Bh(n),n=Gx(),n!==null)){e.cancelPendingCommit=n(rp.bind(null,e,a,o,d,j,L,X,1,Ee,le)),yr(e,h,j,!te);return}rp(e,a,o,d,j,L,X,fe,Ee,le)}function ox(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var d=a[o],h=d.getSnapshot;d=d.value;try{if(!vn(h(),d))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function yr(e,n,a,o){n&=~mu,n&=~xa,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var d=n;0<d;){var h=31-je(d),j=1<<h;o[h]=-1,d&=~j}a!==0&&vt(e,a,n)}function Ol(){return Rt&6?!0:(di(0),!1)}function xu(){if(it!==null){if(jt===0)var e=it.return;else e=it,dr=ga=null,Ac(e),Za=null,Gs=0,e=it;for(;e!==null;)Zh(e.alternate,e),e=e.return;it=null}}function ss(e,n){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Cx(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),xu(),Tt=e,it=a=Br(e.current,null),ut=n,jt=0,xn=null,vr=!1,rs=he(e,n),fu=!1,as=In=mu=xa=Pr=Ut=0,Vn=oi=null,hu=!1,n&8&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var d=31-je(o),h=1<<d;n|=e[d],o&=~h}return br=n,tl(),a}function Jh(e,n){rt=null,E.H=Jn,n===$s?(n=fm(),jt=3):n===cm?(n=fm(),jt=4):jt=n===uh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,it===null&&(Ut=1,Sl(e,Cn(n,e.current)))}function Vh(){var e=E.H;return E.H=Jn,e===null?Jn:e}function Wh(){var e=E.A;return E.A=ix,e}function Su(){Ut=4,vr||(ut&4194176)!==ut&&_n.current!==null||(rs=!0),!(Pr&134217727)&&!(xa&134217727)||Tt===null||yr(Tt,ut,In,!1)}function Eu(e,n,a){var o=Rt;Rt|=2;var d=Vh(),h=Wh();(Tt!==e||ut!==n)&&(Rl=null,ss(e,n)),n=!1;var j=Ut;e:do try{if(jt!==0&&it!==null){var L=it,X=xn;switch(jt){case 8:xu(),j=6;break e;case 3:case 2:case 6:_n.current===null&&(n=!0);var te=jt;if(jt=0,xn=null,is(e,L,X,te),a&&rs){j=0;break e}break;default:te=jt,jt=0,xn=null,is(e,L,X,te)}}cx(),j=Ut;break}catch(fe){Jh(e,fe)}while(!0);return n&&e.shellSuspendCounter++,dr=ga=null,Rt=o,E.H=d,E.A=h,it===null&&(Tt=null,ut=0,tl()),j}function cx(){for(;it!==null;)ep(it)}function ux(e,n){var a=Rt;Rt|=2;var o=Vh(),d=Wh();Tt!==e||ut!==n?(Rl=null,wl=Te()+500,ss(e,n)):rs=he(e,n);e:do try{if(jt!==0&&it!==null){n=it;var h=xn;t:switch(jt){case 1:jt=0,xn=null,is(e,n,h,1);break;case 2:if(um(h)){jt=0,xn=null,tp(n);break}n=function(){jt===2&&Tt===e&&(jt=7),Wn(e)},h.then(n,n);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:um(h)?(jt=0,xn=null,tp(n)):(jt=0,xn=null,is(e,n,h,7));break;case 5:var j=null;switch(it.tag){case 26:j=it.memoizedState;case 5:case 27:var L=it;if(!j||_p(j)){jt=0,xn=null;var X=L.sibling;if(X!==null)it=X;else{var te=L.return;te!==null?(it=te,Dl(te)):it=null}break t}}jt=0,xn=null,is(e,n,h,5);break;case 6:jt=0,xn=null,is(e,n,h,6);break;case 8:xu(),Ut=6;break e;default:throw Error(s(462))}}dx();break}catch(fe){Jh(e,fe)}while(!0);return dr=ga=null,E.H=o,E.A=d,Rt=a,it!==null?0:(Tt=null,ut=0,tl(),Ut)}function dx(){for(;it!==null&&!Me();)ep(it)}function ep(e){var n=Eh(e.alternate,e,br);e.memoizedProps=e.pendingProps,n===null?Dl(e):it=n}function tp(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=gh(a,n,n.pendingProps,n.type,void 0,ut);break;case 11:n=gh(a,n,n.pendingProps,n.type.render,n.ref,ut);break;case 5:Ac(n);default:Zh(a,n),n=it=qh(n,br),n=Eh(a,n,br)}e.memoizedProps=e.pendingProps,n===null?Dl(e):it=n}function is(e,n,a,o){dr=ga=null,Ac(n),Za=null,Gs=0;var d=n.return;try{if(Wy(e,d,n,a,ut)){Ut=1,Sl(e,Cn(a,e.current)),it=null;return}}catch(h){if(d!==null)throw it=d,h;Ut=1,Sl(e,Cn(a,e.current)),it=null;return}n.flags&32768?(ft||o===1?e=!0:rs||ut&536870912?e=!1:(vr=e=!0,(o===2||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),np(n,e)):Dl(n)}function Dl(e){var n=e;do{if(n.flags&32768){np(n,vr);return}e=n.return;var a=ax(n.alternate,n,br);if(a!==null){it=a;return}if(n=n.sibling,n!==null){it=n;return}it=n=e}while(n!==null);Ut===0&&(Ut=5)}function np(e,n){do{var a=sx(e.alternate,e);if(a!==null){a.flags&=32767,it=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){it=e;return}it=e=a}while(e!==null);Ut=6,it=null}function rp(e,n,a,o,d,h,j,L,X,te){var fe=E.T,Ee=K.p;try{K.p=2,E.T=null,fx(e,n,a,o,Ee,d,h,j,L,X,te)}finally{E.T=fe,K.p=Ee}}function fx(e,n,a,o,d,h,j,L){do ls();while(Sa!==null);if(Rt&6)throw Error(s(327));var X=e.finishedWork;if(o=e.finishedLanes,X===null)return null;if(e.finishedWork=null,e.finishedLanes=0,X===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var te=X.lanes|X.childLanes;if(te|=dc,nt(e,o,te,h,j,L),e===Tt&&(it=Tt=null,ut=0),!(X.subtreeFlags&10256)&&!(X.flags&10256)||_l||(_l=!0,gu=te,vu=a,gx(ot,function(){return ls(),null})),a=(X.flags&15990)!==0,X.subtreeFlags&15990||a?(a=E.T,E.T=null,h=K.p,K.p=2,j=Rt,Rt|=4,tx(e,X),Fh(X,e),Ly(Iu,e.containerInfo),ql=!!Mu,Iu=Mu=null,e.current=X,Mh(e,X.alternate,X),ge(),Rt=j,K.p=h,E.T=a):e.current=X,_l?(_l=!1,Sa=e,ci=o):ap(e,te),te=e.pendingLanes,te===0&&(Hr=null),nn(X.stateNode),Wn(e),n!==null)for(d=e.onRecoverableError,X=0;X<n.length;X++)te=n[X],d(te.value,{componentStack:te.stack});return ci&3&&ls(),te=e.pendingLanes,o&4194218&&te&42?e===bu?ui++:(ui=0,bu=e):ui=0,di(0),null}function ap(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Zs(n)))}function ls(){if(Sa!==null){var e=Sa,n=gu;gu=0;var a=Dt(ci),o=E.T,d=K.p;try{if(K.p=32>a?32:a,E.T=null,Sa===null)var h=!1;else{a=vu,vu=null;var j=Sa,L=ci;if(Sa=null,ci=0,Rt&6)throw Error(s(331));var X=Rt;if(Rt|=4,Hh(j.current),zh(j,j.current,L,a),Rt=X,di(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Ot,j)}catch{}h=!0}return h}finally{K.p=d,E.T=o,ap(e,n)}}return!1}function sp(e,n,a){n=Cn(a,n),n=Bc(e.stateNode,n,2),e=Lr(e,n,2),e!==null&&(lt(e,2),Wn(e))}function Et(e,n,a){if(e.tag===3)sp(e,e,a);else for(;n!==null;){if(n.tag===3){sp(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hr===null||!Hr.has(o))){e=Cn(a,e),a=oh(2),o=Lr(n,a,2),o!==null&&(ch(a,o,n,e),lt(o,2),Wn(o));break}}n=n.return}}function Nu(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new lx;var d=new Set;o.set(n,d)}else d=o.get(n),d===void 0&&(d=new Set,o.set(n,d));d.has(a)||(fu=!0,d.add(a),e=mx.bind(null,e,n,a),n.then(e,e))}function mx(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Tt===e&&(ut&a)===a&&(Ut===4||Ut===3&&(ut&62914560)===ut&&300>Te()-pu?!(Rt&2)&&ss(e,0):mu|=a,as===ut&&(as=0)),Wn(e)}function ip(e,n){n===0&&(n=Ce()),e=wr(e,n),e!==null&&(lt(e,n),Wn(e))}function hx(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),ip(e,a)}function px(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(a=d.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),ip(e,a)}function gx(e,n){return V(e,n)}var Ml=null,os=null,Tu=!1,Il=!1,ju=!1,Ea=0;function Wn(e){e!==os&&e.next===null&&(os===null?Ml=os=e:os=os.next=e),Il=!0,Tu||(Tu=!0,bx(vx))}function di(e,n){if(!ju&&Il){ju=!0;do for(var a=!1,o=Ml;o!==null;){if(e!==0){var d=o.pendingLanes;if(d===0)var h=0;else{var j=o.suspendedLanes,L=o.pingedLanes;h=(1<<31-je(42|e)+1)-1,h&=d&~(j&~L),h=h&201326677?h&201326677|1:h?h|2:0}h!==0&&(a=!0,cp(o,h))}else h=ut,h=Ae(o,o===Tt?h:0),!(h&3)||he(o,h)||(a=!0,cp(o,h));o=o.next}while(a);ju=!1}}function vx(){Il=Tu=!1;var e=0;Ea!==0&&(Ax()&&(e=Ea),Ea=0);for(var n=Te(),a=null,o=Ml;o!==null;){var d=o.next,h=lp(o,n);h===0?(o.next=null,a===null?Ml=d:a.next=d,d===null&&(os=a)):(a=o,(e!==0||h&3)&&(Il=!0)),o=d}di(e)}function lp(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var j=31-je(h),L=1<<j,X=d[j];X===-1?(!(L&a)||L&o)&&(d[j]=Oe(L,n)):X<=n&&(e.expiredLanes|=L),h&=~L}if(n=Tt,a=ut,a=Ae(e,e===n?a:0),o=e.callbackNode,a===0||e===n&&jt===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&oe(o),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||he(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&oe(o),Dt(a)){case 2:case 8:a=pt;break;case 32:a=ot;break;case 268435456:a=At;break;default:a=ot}return o=op.bind(null,e),a=V(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&oe(o),e.callbackPriority=2,e.callbackNode=null,2}function op(e,n){var a=e.callbackNode;if(ls()&&e.callbackNode!==a)return null;var o=ut;return o=Ae(e,e===Tt?o:0),o===0?null:(Qh(e,o,n),lp(e,Te()),e.callbackNode!=null&&e.callbackNode===a?op.bind(null,e):null)}function cp(e,n){if(ls())return null;Qh(e,n,!0)}function bx(e){wx(function(){Rt&6?V(Ye,e):e()})}function Au(){return Ea===0&&(Ea=Xe()),Ea}function up(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xi(""+e)}function dp(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function yx(e,n,a,o,d){if(n==="submit"&&a&&a.stateNode===d){var h=up((d[Qe]||null).action),j=o.submitter;j&&(n=(n=j[Qe]||null)?up(n.formAction):j.getAttribute("formAction"),n!==null&&(h=n,j=null));var L=new Vi("action","action",null,o,d);e.push({event:L,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ea!==0){var X=j?dp(d,j):new FormData(d);Uc(a,{pending:!0,data:X,method:d.method,action:h},null,X)}}else typeof h=="function"&&(L.preventDefault(),X=j?dp(d,j):new FormData(d),Uc(a,{pending:!0,data:X,method:d.method,action:h},h,X))},currentTarget:d}]})}}for(var Cu=0;Cu<rm.length;Cu++){var wu=rm[Cu],xx=wu.toLowerCase(),Sx=wu[0].toUpperCase()+wu.slice(1);kn(xx,"on"+Sx)}kn(Vf,"onAnimationEnd"),kn(Wf,"onAnimationIteration"),kn(em,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(ky,"onTransitionRun"),kn(zy,"onTransitionStart"),kn(By,"onTransitionCancel"),kn(tm,"onTransitionEnd"),Ua("onMouseEnter",["mouseout","mouseover"]),Ua("onMouseLeave",["mouseout","mouseover"]),Ua("onPointerEnter",["pointerout","pointerover"]),Ua("onPointerLeave",["pointerout","pointerover"]),ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ra("onBeforeInput",["compositionend","keypress","textInput","paste"]),ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ex=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fi));function fp(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],d=o.event;o=o.listeners;e:{var h=void 0;if(n)for(var j=o.length-1;0<=j;j--){var L=o[j],X=L.instance,te=L.currentTarget;if(L=L.listener,X!==h&&d.isPropagationStopped())break e;h=L,d.currentTarget=te;try{h(d)}catch(fe){xl(fe)}d.currentTarget=null,h=X}else for(j=0;j<o.length;j++){if(L=o[j],X=L.instance,te=L.currentTarget,L=L.listener,X!==h&&d.isPropagationStopped())break e;h=L,d.currentTarget=te;try{h(d)}catch(fe){xl(fe)}d.currentTarget=null,h=X}}}}function ct(e,n){var a=n[ws];a===void 0&&(a=n[ws]=new Set);var o=e+"__bubble";a.has(o)||(mp(n,e,2,!1),a.add(o))}function Ru(e,n,a){var o=0;n&&(o|=4),mp(a,e,o,n)}var Ul="_reactListening"+Math.random().toString(36).slice(2);function _u(e){if(!e[Ul]){e[Ul]=!0,gf.forEach(function(a){a!=="selectionchange"&&(Ex.has(a)||Ru(a,!1,e),Ru(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ul]||(n[Ul]=!0,Ru("selectionchange",!1,n))}}function mp(e,n,a,o){switch(Lp(n)){case 2:var d=Xx;break;case 8:d=Qx;break;default:d=$u}a=d.bind(null,n,a,e),d=void 0,!Vo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(n,a,{capture:!0,passive:d}):e.addEventListener(n,a,!0):d!==void 0?e.addEventListener(n,a,{passive:d}):e.addEventListener(n,a,!1)}function Ou(e,n,a,o,d){var h=o;if(!(n&1)&&!(n&2)&&o!==null)e:for(;;){if(o===null)return;var j=o.tag;if(j===3||j===4){var L=o.stateNode.containerInfo;if(L===d||L.nodeType===8&&L.parentNode===d)break;if(j===4)for(j=o.return;j!==null;){var X=j.tag;if((X===3||X===4)&&(X=j.stateNode.containerInfo,X===d||X.nodeType===8&&X.parentNode===d))return;j=j.return}for(;L!==null;){if(j=na(L),j===null)return;if(X=j.tag,X===5||X===6||X===26||X===27){o=h=j;continue e}L=L.parentNode}}o=o.return}wf(function(){var te=h,fe=Ko(a),Ee=[];e:{var le=nm.get(e);if(le!==void 0){var de=Vi,Pe=e;switch(e){case"keypress":if(Ki(a)===0)break e;case"keydown":case"keyup":de=py;break;case"focusin":Pe="focus",de=nc;break;case"focusout":Pe="blur",de=nc;break;case"beforeblur":case"afterblur":de=nc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Of;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=ry;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=by;break;case Vf:case Wf:case em:de=iy;break;case tm:de=xy;break;case"scroll":case"scrollend":de=ty;break;case"wheel":de=Ey;break;case"copy":case"cut":case"paste":de=oy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Mf;break;case"toggle":case"beforetoggle":de=Ty}var Ke=(n&4)!==0,Lt=!Ke&&(e==="scroll"||e==="scrollend"),re=Ke?le!==null?le+"Capture":null:le;Ke=[];for(var ee=te,ae;ee!==null;){var ye=ee;if(ae=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||ae===null||re===null||(ye=Os(ee,re),ye!=null&&Ke.push(mi(ee,ye,ae))),Lt)break;ee=ee.return}0<Ke.length&&(le=new de(le,Pe,null,a,fe),Ee.push({event:le,listeners:Ke}))}}if(!(n&7)){e:{if(le=e==="mouseover"||e==="pointerover",de=e==="mouseout"||e==="pointerout",le&&a!==Qo&&(Pe=a.relatedTarget||a.fromElement)&&(na(Pe)||Pe[fn]))break e;if((de||le)&&(le=fe.window===fe?fe:(le=fe.ownerDocument)?le.defaultView||le.parentWindow:window,de?(Pe=a.relatedTarget||a.toElement,de=te,Pe=Pe?na(Pe):null,Pe!==null&&(Lt=I(Pe),Ke=Pe.tag,Pe!==Lt||Ke!==5&&Ke!==27&&Ke!==6)&&(Pe=null)):(de=null,Pe=te),de!==Pe)){if(Ke=Of,ye="onMouseLeave",re="onMouseEnter",ee="mouse",(e==="pointerout"||e==="pointerover")&&(Ke=Mf,ye="onPointerLeave",re="onPointerEnter",ee="pointer"),Lt=de==null?le:_s(de),ae=Pe==null?le:_s(Pe),le=new Ke(ye,ee+"leave",de,a,fe),le.target=Lt,le.relatedTarget=ae,ye=null,na(fe)===te&&(Ke=new Ke(re,ee+"enter",Pe,a,fe),Ke.target=ae,Ke.relatedTarget=Lt,ye=Ke),Lt=ye,de&&Pe)t:{for(Ke=de,re=Pe,ee=0,ae=Ke;ae;ae=cs(ae))ee++;for(ae=0,ye=re;ye;ye=cs(ye))ae++;for(;0<ee-ae;)Ke=cs(Ke),ee--;for(;0<ae-ee;)re=cs(re),ae--;for(;ee--;){if(Ke===re||re!==null&&Ke===re.alternate)break t;Ke=cs(Ke),re=cs(re)}Ke=null}else Ke=null;de!==null&&hp(Ee,le,de,Ke,!1),Pe!==null&&Lt!==null&&hp(Ee,Lt,Pe,Ke,!0)}}e:{if(le=te?_s(te):window,de=le.nodeName&&le.nodeName.toLowerCase(),de==="select"||de==="input"&&le.type==="file")var Be=Pf;else if(zf(le))if(Hf)Be=Iy;else{Be=Dy;var at=Oy}else de=le.nodeName,!de||de.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?te&&Xo(te.elementType)&&(Be=Pf):Be=My;if(Be&&(Be=Be(e,te))){Bf(Ee,Be,a,fe);break e}at&&at(e,le,te),e==="focusout"&&te&&le.type==="number"&&te.memoizedProps.value!=null&&Zo(le,"number",le.value)}switch(at=te?_s(te):window,e){case"focusin":(zf(at)||at.contentEditable==="true")&&(Pa=at,oc=te,zs=null);break;case"focusout":zs=oc=Pa=null;break;case"mousedown":cc=!0;break;case"contextmenu":case"mouseup":case"dragend":cc=!1,Kf(Ee,a,fe);break;case"selectionchange":if(Fy)break;case"keydown":case"keyup":Kf(Ee,a,fe)}var He;if(ac)e:{switch(e){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Ba?Ff(e,a)&&(qe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(qe="onCompositionStart");qe&&(If&&a.locale!=="ko"&&(Ba||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Ba&&(He=Rf()):(Cr=fe,Wo="value"in Cr?Cr.value:Cr.textContent,Ba=!0)),at=Ll(te,qe),0<at.length&&(qe=new Df(qe,e,null,a,fe),Ee.push({event:qe,listeners:at}),He?qe.data=He:(He=kf(a),He!==null&&(qe.data=He)))),(He=Ay?Cy(e,a):wy(e,a))&&(qe=Ll(te,"onBeforeInput"),0<qe.length&&(at=new Df("onBeforeInput","beforeinput",null,a,fe),Ee.push({event:at,listeners:qe}),at.data=He)),yx(Ee,e,te,a,fe)}fp(Ee,n)})}function mi(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Ll(e,n){for(var a=n+"Capture",o=[];e!==null;){var d=e,h=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=Os(e,a),d!=null&&o.unshift(mi(e,d,h)),d=Os(e,n),d!=null&&o.push(mi(e,d,h))),e=e.return}return o}function cs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hp(e,n,a,o,d){for(var h=n._reactName,j=[];a!==null&&a!==o;){var L=a,X=L.alternate,te=L.stateNode;if(L=L.tag,X!==null&&X===o)break;L!==5&&L!==26&&L!==27||te===null||(X=te,d?(te=Os(a,h),te!=null&&j.unshift(mi(a,te,X))):d||(te=Os(a,h),te!=null&&j.push(mi(a,te,X)))),a=a.return}j.length!==0&&e.push({event:n,listeners:j})}var Nx=/\r\n?/g,Tx=/\u0000|\uFFFD/g;function pp(e){return(typeof e=="string"?e:""+e).replace(Nx,`
`).replace(Tx,"")}function gp(e,n){return n=pp(n),pp(e)===n}function Fl(){}function yt(e,n,a,o,d,h){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Fa(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Fa(e,""+o);break;case"className":Gi(e,"class",o);break;case"tabIndex":Gi(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Gi(e,a,o);break;case"style":Af(e,o,h);break;case"data":if(n!=="object"){Gi(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Xi(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&yt(e,n,"name",d.name,d,null),yt(e,n,"formEncType",d.formEncType,d,null),yt(e,n,"formMethod",d.formMethod,d,null),yt(e,n,"formTarget",d.formTarget,d,null)):(yt(e,n,"encType",d.encType,d,null),yt(e,n,"method",d.method,d,null),yt(e,n,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Xi(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Fl);break;case"onScroll":o!=null&&ct("scroll",e);break;case"onScrollEnd":o!=null&&ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Xi(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":ct("beforetoggle",e),ct("toggle",e),qi(e,"popover",o);break;case"xlinkActuate":sr(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":sr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":sr(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":sr(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":sr(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":sr(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":sr(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":sr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":sr(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":qi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wb.get(a)||a,qi(e,a,o))}}function Du(e,n,a,o,d,h){switch(a){case"style":Af(e,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Fa(e,o):(typeof o=="number"||typeof o=="bigint")&&Fa(e,""+o);break;case"onScroll":o!=null&&ct("scroll",e);break;case"onScrollEnd":o!=null&&ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Fl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),n=a.slice(2,d?a.length-7:void 0),h=e[Qe]||null,h=h!=null?h[a]:null,typeof h=="function"&&e.removeEventListener(n,h,d),typeof o=="function")){typeof h!="function"&&h!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,d);break e}a in e?e[a]=o:o===!0?e.setAttribute(a,""):qi(e,a,o)}}}function en(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",e),ct("load",e);var o=!1,d=!1,h;for(h in a)if(a.hasOwnProperty(h)){var j=a[h];if(j!=null)switch(h){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:yt(e,n,h,j,a,null)}}d&&yt(e,n,"srcSet",a.srcSet,a,null),o&&yt(e,n,"src",a.src,a,null);return;case"input":ct("invalid",e);var L=h=j=d=null,X=null,te=null;for(o in a)if(a.hasOwnProperty(o)){var fe=a[o];if(fe!=null)switch(o){case"name":d=fe;break;case"type":j=fe;break;case"checked":X=fe;break;case"defaultChecked":te=fe;break;case"value":h=fe;break;case"defaultValue":L=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(s(137,n));break;default:yt(e,n,o,fe,a,null)}}Ef(e,h,L,X,te,j,d,!1),Yi(e);return;case"select":ct("invalid",e),o=j=h=null;for(d in a)if(a.hasOwnProperty(d)&&(L=a[d],L!=null))switch(d){case"value":h=L;break;case"defaultValue":j=L;break;case"multiple":o=L;default:yt(e,n,d,L,a,null)}n=h,a=j,e.multiple=!!o,n!=null?La(e,!!o,n,!1):a!=null&&La(e,!!o,a,!0);return;case"textarea":ct("invalid",e),h=d=o=null;for(j in a)if(a.hasOwnProperty(j)&&(L=a[j],L!=null))switch(j){case"value":o=L;break;case"defaultValue":d=L;break;case"children":h=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(91));break;default:yt(e,n,j,L,a,null)}Tf(e,o,d,h),Yi(e);return;case"option":for(X in a)if(a.hasOwnProperty(X)&&(o=a[X],o!=null))switch(X){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:yt(e,n,X,o,a,null)}return;case"dialog":ct("cancel",e),ct("close",e);break;case"iframe":case"object":ct("load",e);break;case"video":case"audio":for(o=0;o<fi.length;o++)ct(fi[o],e);break;case"image":ct("error",e),ct("load",e);break;case"details":ct("toggle",e);break;case"embed":case"source":case"link":ct("error",e),ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in a)if(a.hasOwnProperty(te)&&(o=a[te],o!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:yt(e,n,te,o,a,null)}return;default:if(Xo(n)){for(fe in a)a.hasOwnProperty(fe)&&(o=a[fe],o!==void 0&&Du(e,n,fe,o,a,void 0));return}}for(L in a)a.hasOwnProperty(L)&&(o=a[L],o!=null&&yt(e,n,L,o,a,null))}function jx(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,j=null,L=null,X=null,te=null,fe=null;for(de in a){var Ee=a[de];if(a.hasOwnProperty(de)&&Ee!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":X=Ee;default:o.hasOwnProperty(de)||yt(e,n,de,null,o,Ee)}}for(var le in o){var de=o[le];if(Ee=a[le],o.hasOwnProperty(le)&&(de!=null||Ee!=null))switch(le){case"type":h=de;break;case"name":d=de;break;case"checked":te=de;break;case"defaultChecked":fe=de;break;case"value":j=de;break;case"defaultValue":L=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(s(137,n));break;default:de!==Ee&&yt(e,n,le,de,o,Ee)}}Yo(e,j,L,X,te,fe,h,d);return;case"select":de=j=L=le=null;for(h in a)if(X=a[h],a.hasOwnProperty(h)&&X!=null)switch(h){case"value":break;case"multiple":de=X;default:o.hasOwnProperty(h)||yt(e,n,h,null,o,X)}for(d in o)if(h=o[d],X=a[d],o.hasOwnProperty(d)&&(h!=null||X!=null))switch(d){case"value":le=h;break;case"defaultValue":L=h;break;case"multiple":j=h;default:h!==X&&yt(e,n,d,h,o,X)}n=L,a=j,o=de,le!=null?La(e,!!a,le,!1):!!o!=!!a&&(n!=null?La(e,!!a,n,!0):La(e,!!a,a?[]:"",!1));return;case"textarea":de=le=null;for(L in a)if(d=a[L],a.hasOwnProperty(L)&&d!=null&&!o.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:yt(e,n,L,null,o,d)}for(j in o)if(d=o[j],h=a[j],o.hasOwnProperty(j)&&(d!=null||h!=null))switch(j){case"value":le=d;break;case"defaultValue":de=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==h&&yt(e,n,j,d,o,h)}Nf(e,le,de);return;case"option":for(var Pe in a)if(le=a[Pe],a.hasOwnProperty(Pe)&&le!=null&&!o.hasOwnProperty(Pe))switch(Pe){case"selected":e.selected=!1;break;default:yt(e,n,Pe,null,o,le)}for(X in o)if(le=o[X],de=a[X],o.hasOwnProperty(X)&&le!==de&&(le!=null||de!=null))switch(X){case"selected":e.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:yt(e,n,X,le,o,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in a)le=a[Ke],a.hasOwnProperty(Ke)&&le!=null&&!o.hasOwnProperty(Ke)&&yt(e,n,Ke,null,o,le);for(te in o)if(le=o[te],de=a[te],o.hasOwnProperty(te)&&le!==de&&(le!=null||de!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,n));break;default:yt(e,n,te,le,o,de)}return;default:if(Xo(n)){for(var Lt in a)le=a[Lt],a.hasOwnProperty(Lt)&&le!==void 0&&!o.hasOwnProperty(Lt)&&Du(e,n,Lt,void 0,o,le);for(fe in o)le=o[fe],de=a[fe],!o.hasOwnProperty(fe)||le===de||le===void 0&&de===void 0||Du(e,n,fe,le,o,de);return}}for(var re in a)le=a[re],a.hasOwnProperty(re)&&le!=null&&!o.hasOwnProperty(re)&&yt(e,n,re,null,o,le);for(Ee in o)le=o[Ee],de=a[Ee],!o.hasOwnProperty(Ee)||le===de||le==null&&de==null||yt(e,n,Ee,le,o,de)}var Mu=null,Iu=null;function kl(e){return e.nodeType===9?e:e.ownerDocument}function vp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Uu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Lu=null;function Ax(){var e=window.event;return e&&e.type==="popstate"?e===Lu?!1:(Lu=e,!0):(Lu=null,!1)}var yp=typeof setTimeout=="function"?setTimeout:void 0,Cx=typeof clearTimeout=="function"?clearTimeout:void 0,xp=typeof Promise=="function"?Promise:void 0,wx=typeof queueMicrotask=="function"?queueMicrotask:typeof xp<"u"?function(e){return xp.resolve(null).then(e).catch(Rx)}:yp;function Rx(e){setTimeout(function(){throw e})}function Fu(e,n){var a=n,o=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(o===0){e.removeChild(d),Si(n);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=d}while(a);Si(n)}function ku(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ku(a),Go(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function _x(e,n,a,o){for(;e.nodeType===1;){var d=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Rs])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==d.rel||e.getAttribute("href")!==(d.href==null?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function Ox(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pn(e.nextSibling),e===null))return null;return e}function Pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function Sp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Ep(e,n,a){switch(n=kl(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Un=new Map,Np=new Set;function zl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var xr=K.d;K.d={f:Dx,r:Mx,D:Ix,C:Ux,L:Lx,m:Fx,X:zx,S:kx,M:Bx};function Dx(){var e=xr.f(),n=Ol();return e||n}function Mx(e){var n=Ma(e);n!==null&&n.tag===5&&n.type==="form"?Km(n):xr.r(e)}var us=typeof document>"u"?null:document;function Tp(e,n,a){var o=us;if(o&&typeof n=="string"&&n){var d=jn(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Np.has(d)||(Np.add(d),e={rel:e,crossOrigin:a,href:n},o.querySelector(d)===null&&(n=o.createElement("link"),en(n,"link",e),Xt(n),o.head.appendChild(n)))}}function Ix(e){xr.D(e),Tp("dns-prefetch",e,null)}function Ux(e,n){xr.C(e,n),Tp("preconnect",e,n)}function Lx(e,n,a){xr.L(e,n,a);var o=us;if(o&&e&&n){var d='link[rel="preload"][as="'+jn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+jn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+jn(a.imageSizes)+'"]')):d+='[href="'+jn(e)+'"]';var h=d;switch(n){case"style":h=ds(e);break;case"script":h=fs(e)}Un.has(h)||(e=M({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Un.set(h,e),o.querySelector(d)!==null||n==="style"&&o.querySelector(hi(h))||n==="script"&&o.querySelector(pi(h))||(n=o.createElement("link"),en(n,"link",e),Xt(n),o.head.appendChild(n)))}}function Fx(e,n){xr.m(e,n);var a=us;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+jn(o)+'"][href="'+jn(e)+'"]',h=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=fs(e)}if(!Un.has(h)&&(e=M({rel:"modulepreload",href:e},n),Un.set(h,e),a.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pi(h)))return}o=a.createElement("link"),en(o,"link",e),Xt(o),a.head.appendChild(o)}}}function kx(e,n,a){xr.S(e,n,a);var o=us;if(o&&e){var d=Ia(o).hoistableStyles,h=ds(e);n=n||"default";var j=d.get(h);if(!j){var L={loading:0,preload:null};if(j=o.querySelector(hi(h)))L.loading=5;else{e=M({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Un.get(h))&&zu(e,a);var X=j=o.createElement("link");Xt(X),en(X,"link",e),X._p=new Promise(function(te,fe){X.onload=te,X.onerror=fe}),X.addEventListener("load",function(){L.loading|=1}),X.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Bl(j,n,o)}j={type:"stylesheet",instance:j,count:1,state:L},d.set(h,j)}}}function zx(e,n){xr.X(e,n);var a=us;if(a&&e){var o=Ia(a).hoistableScripts,d=fs(e),h=o.get(d);h||(h=a.querySelector(pi(d)),h||(e=M({src:e,async:!0},n),(n=Un.get(d))&&Bu(e,n),h=a.createElement("script"),Xt(h),en(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(d,h))}}function Bx(e,n){xr.M(e,n);var a=us;if(a&&e){var o=Ia(a).hoistableScripts,d=fs(e),h=o.get(d);h||(h=a.querySelector(pi(d)),h||(e=M({src:e,async:!0,type:"module"},n),(n=Un.get(d))&&Bu(e,n),h=a.createElement("script"),Xt(h),en(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(d,h))}}function jp(e,n,a,o){var d=(d=ht.current)?zl(d):null;if(!d)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ds(a.href),a=Ia(d).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ds(a.href);var h=Ia(d).hoistableStyles,j=h.get(e);if(j||(d=d.ownerDocument||d,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,j),(h=d.querySelector(hi(e)))&&!h._p&&(j.instance=h,j.state.loading=5),Un.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(e,a),h||Px(d,e,a,j.state))),n&&o===null)throw Error(s(528,""));return j}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=fs(a),a=Ia(d).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ds(e){return'href="'+jn(e)+'"'}function hi(e){return'link[rel="stylesheet"]['+e+"]"}function Ap(e){return M({},e,{"data-precedence":e.precedence,precedence:null})}function Px(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),en(n,"link",a),Xt(n),e.head.appendChild(n))}function fs(e){return'[src="'+jn(e)+'"]'}function pi(e){return"script[async]"+e}function Cp(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+jn(a.href)+'"]');if(o)return n.instance=o,Xt(o),o;var d=M({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Xt(o),en(o,"style",d),Bl(o,a.precedence,e),n.instance=o;case"stylesheet":d=ds(a.href);var h=e.querySelector(hi(d));if(h)return n.state.loading|=4,n.instance=h,Xt(h),h;o=Ap(a),(d=Un.get(d))&&zu(o,d),h=(e.ownerDocument||e).createElement("link"),Xt(h);var j=h;return j._p=new Promise(function(L,X){j.onload=L,j.onerror=X}),en(h,"link",o),n.state.loading|=4,Bl(h,a.precedence,e),n.instance=h;case"script":return h=fs(a.src),(d=e.querySelector(pi(h)))?(n.instance=d,Xt(d),d):(o=a,(d=Un.get(h))&&(o=M({},a),Bu(o,d)),e=e.ownerDocument||e,d=e.createElement("script"),Xt(d),en(d,"link",o),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(o=n.instance,n.state.loading|=4,Bl(o,a.precedence,e));return n.instance}function Bl(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,h=d,j=0;j<o.length;j++){var L=o[j];if(L.dataset.precedence===n)h=L;else if(h!==d)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function zu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Bu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Pl=null;function wp(e,n,a){if(Pl===null){var o=new Map,d=Pl=new Map;d.set(a,o)}else d=Pl,o=d.get(a),o||(o=new Map,d.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),d=0;d<a.length;d++){var h=a[d];if(!(h[Rs]||h[Mt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var j=h.getAttribute(n)||"";j=e+j;var L=o.get(j);L?L.push(h):o.set(j,[h])}}return o}function Rp(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function Hx(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function _p(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var gi=null;function $x(){}function qx(e,n,a){if(gi===null)throw Error(s(475));var o=gi;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var d=ds(a.href),h=e.querySelector(hi(d));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Hl.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=h,Xt(h);return}h=e.ownerDocument||e,a=Ap(a),(d=Un.get(d))&&zu(a,d),h=h.createElement("link"),Xt(h);var j=h;j._p=new Promise(function(L,X){j.onload=L,j.onerror=X}),en(h,"link",a),n.instance=h}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(o.count++,n=Hl.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function Gx(){if(gi===null)throw Error(s(475));var e=gi;return e.stylesheets&&e.count===0&&Pu(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Pu(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Hl(){if(this.count--,this.count===0){if(this.stylesheets)Pu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $l=null;function Pu(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$l=new Map,n.forEach(Yx,e),$l=null,Hl.call(e))}function Yx(e,n){if(!(n.state.loading&4)){var a=$l.get(e);if(a)var o=a.get(null);else{a=new Map,$l.set(e,a);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var j=d[h];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(a.set(j.dataset.precedence,j),o=j)}o&&a.set(null,o)}d=n.instance,j=d.getAttribute("data-precedence"),h=a.get(j)||o,h===o&&a.set(null,d),a.set(j,d),this.count++,o=Hl.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),h?h.parentNode.insertBefore(d,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var vi={$$typeof:x,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function Zx(e,n,a,o,d,h,j,L){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$e(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$e(0),this.hiddenUpdates=$e(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Op(e,n,a,o,d,h,j,L,X,te,fe,Ee){return e=new Zx(e,n,a,j,L,X,te,Ee),n=1,h===!0&&(n|=24),h=Mn(3,null,null,n),e.current=h,h.stateNode=e,n=yc(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:o,isDehydrated:a,cache:n},Wc(h),e}function Dp(e){return e?(e=qa,e):qa}function Mp(e,n,a,o,d,h){d=Dp(d),o.context===null?o.context=d:o.pendingContext=d,o=Ur(n),o.payload={element:a},h=h===void 0?null:h,h!==null&&(o.callback=h),a=Lr(e,o,n),a!==null&&(dn(a,e,n),ei(a,e,n))}function Ip(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Hu(e,n){Ip(e,n),(e=e.alternate)&&Ip(e,n)}function Up(e){if(e.tag===13){var n=wr(e,67108864);n!==null&&dn(n,e,67108864),Hu(e,67108864)}}var ql=!0;function Xx(e,n,a,o){var d=E.T;E.T=null;var h=K.p;try{K.p=2,$u(e,n,a,o)}finally{K.p=h,E.T=d}}function Qx(e,n,a,o){var d=E.T;E.T=null;var h=K.p;try{K.p=8,$u(e,n,a,o)}finally{K.p=h,E.T=d}}function $u(e,n,a,o){if(ql){var d=qu(o);if(d===null)Ou(e,n,o,Gl,a),Fp(e,o);else if(Jx(d,e,n,a,o))o.stopPropagation();else if(Fp(e,o),n&4&&-1<Kx.indexOf(e)){for(;d!==null;){var h=Ma(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var j=ie(h.pendingLanes);if(j!==0){var L=h;for(L.pendingLanes|=2,L.entangledLanes|=2;j;){var X=1<<31-je(j);L.entanglements[1]|=X,j&=~X}Wn(h),!(Rt&6)&&(wl=Te()+500,di(0))}}break;case 13:L=wr(h,2),L!==null&&dn(L,h,2),Ol(),Hu(h,2)}if(h=qu(o),h===null&&Ou(e,n,o,Gl,a),h===d)break;d=h}d!==null&&o.stopPropagation()}else Ou(e,n,o,null,a)}}function qu(e){return e=Ko(e),Gu(e)}var Gl=null;function Gu(e){if(Gl=null,e=na(e),e!==null){var n=I(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=P(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Gl=e,null}function Lp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(we()){case Ye:return 2;case pt:return 8;case ot:case cn:return 32;case At:return 268435456;default:return 32}default:return 32}}var Yu=!1,$r=null,qr=null,Gr=null,bi=new Map,yi=new Map,Yr=[],Kx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fp(e,n){switch(e){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":bi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yi.delete(n.pointerId)}}function xi(e,n,a,o,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:h,targetContainers:[d]},n!==null&&(n=Ma(n),n!==null&&Up(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function Jx(e,n,a,o,d){switch(n){case"focusin":return $r=xi($r,e,n,a,o,d),!0;case"dragenter":return qr=xi(qr,e,n,a,o,d),!0;case"mouseover":return Gr=xi(Gr,e,n,a,o,d),!0;case"pointerover":var h=d.pointerId;return bi.set(h,xi(bi.get(h)||null,e,n,a,o,d)),!0;case"gotpointercapture":return h=d.pointerId,yi.set(h,xi(yi.get(h)||null,e,n,a,o,d)),!0}return!1}function kp(e){var n=na(e.target);if(n!==null){var a=I(n);if(a!==null){if(n=a.tag,n===13){if(n=P(a),n!==null){e.blockedOn=n,Ze(e.priority,function(){if(a.tag===13){var o=Sn(),d=wr(a,o);d!==null&&dn(d,a,o),Hu(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=qu(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Qo=o,a.target.dispatchEvent(o),Qo=null}else return n=Ma(a),n!==null&&Up(n),e.blockedOn=a,!1;n.shift()}return!0}function zp(e,n,a){Yl(e)&&a.delete(n)}function Vx(){Yu=!1,$r!==null&&Yl($r)&&($r=null),qr!==null&&Yl(qr)&&(qr=null),Gr!==null&&Yl(Gr)&&(Gr=null),bi.forEach(zp),yi.forEach(zp)}function Zl(e,n){e.blockedOn===n&&(e.blockedOn=null,Yu||(Yu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Vx)))}var Xl=null;function Bp(e){Xl!==e&&(Xl=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Xl===e&&(Xl=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],d=e[n+2];if(typeof o!="function"){if(Gu(o||a)===null)continue;break}var h=Ma(a);h!==null&&(e.splice(n,3),n-=3,Uc(h,{pending:!0,data:d,method:a.method,action:o},o,d))}}))}function Si(e){function n(X){return Zl(X,e)}$r!==null&&Zl($r,e),qr!==null&&Zl(qr,e),Gr!==null&&Zl(Gr,e),bi.forEach(n),yi.forEach(n);for(var a=0;a<Yr.length;a++){var o=Yr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Yr.length&&(a=Yr[0],a.blockedOn===null);)kp(a),a.blockedOn===null&&Yr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var d=a[o],h=a[o+1],j=d[Qe]||null;if(typeof h=="function")j||Bp(a);else if(j){var L=null;if(h&&h.hasAttribute("formAction")){if(d=h,j=h[Qe]||null)L=j.formAction;else if(Gu(d)!==null)continue}else L=j.action;typeof L=="function"?a[o+1]=L:(a.splice(o,3),o-=3),Bp(a)}}}function Zu(e){this._internalRoot=e}Ql.prototype.render=Zu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Sn();Mp(a,o,e,n,null,null)},Ql.prototype.unmount=Zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&ls(),Mp(e.current,2,null,e,null,null),Ol(),n[fn]=null}};function Ql(e){this._internalRoot=e}Ql.prototype.unstable_scheduleHydration=function(e){if(e){var n=zt();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Yr.length&&n!==0&&n<Yr[a].priority;a++);Yr.splice(a,0,e),a===0&&kp(e)}};var Pp=r.version;if(Pp!=="19.0.0")throw Error(s(527,Pp,"19.0.0"));K.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Q(n),e=e!==null?Y(e):null,e=e===null?null:e.stateNode,e};var Wx={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:E,findFiberByHostInstance:na,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{Ot=Kl.inject(Wx),gt=Kl}catch{}}return Ni.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",d=ah,h=sh,j=ih,L=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(j=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(L=n.unstable_transitionCallbacks)),n=Op(e,1,!1,null,null,a,o,d,h,j,L,null),e[fn]=n.current,_u(e.nodeType===8?e.parentNode:e),new Zu(n)},Ni.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,d="",h=ah,j=sh,L=ih,X=null,te=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(j=a.onCaughtError),a.onRecoverableError!==void 0&&(L=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(X=a.unstable_transitionCallbacks),a.formState!==void 0&&(te=a.formState)),n=Op(e,1,!0,n,a??null,o,d,h,j,L,X,te),n.context=Dp(null),a=n.current,o=Sn(),d=Ur(o),d.callback=null,Lr(a,d,o),n.current.lanes=o,lt(n,o),Wn(n),e[fn]=n.current,_u(e),new Ql(n)},Ni.version="19.0.0",Ni}var Jp;function u1(){if(Jp)return Ku.exports;Jp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Ku.exports=c1(),Ku.exports}var d1=u1(),Ti={},Vp;function f1(){if(Vp)return Ti;Vp=1,Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.parse=f,Ti.serialize=g;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function f(v,x){const N=new u,O=v.length;if(O<2)return N;const C=(x==null?void 0:x.decode)||p;let w=0;do{const G=v.indexOf("=",w);if(G===-1)break;const $=v.indexOf(";",w),z=$===-1?O:$;if(G>z){w=v.lastIndexOf(";",G-1)+1;continue}const B=m(v,w,G),D=y(v,G,B),Z=v.slice(B,D);if(N[Z]===void 0){let R=m(v,G+1,z),E=y(v,z,R);const M=C(v.slice(R,E));N[Z]=M}w=z+1}while(w<O);return N}function m(v,x,N){do{const O=v.charCodeAt(x);if(O!==32&&O!==9)return x}while(++x<N);return N}function y(v,x,N){for(;x>N;){const O=v.charCodeAt(--x);if(O!==32&&O!==9)return x+1}return N}function g(v,x,N){const O=(N==null?void 0:N.encode)||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const C=O(x);if(!r.test(C))throw new TypeError(`argument val is invalid: ${x}`);let w=v+"="+C;if(!N)return w;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);w+="; Max-Age="+N.maxAge}if(N.domain){if(!i.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);w+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);w+="; Path="+N.path}if(N.expires){if(!b(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);w+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(w+="; HttpOnly"),N.secure&&(w+="; Secure"),N.partitioned&&(w+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return w}function p(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function b(v){return l.call(v)==="[object Date]"}return Ti}f1();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wp="popstate";function m1(t={}){function r(s,l){let{pathname:u,search:f,hash:m}=s.location;return xd("",{pathname:u,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(s,l){return typeof l=="string"?l:Mi(l)}return p1(r,i,null,t)}function Ct(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function Gn(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function h1(){return Math.random().toString(36).substring(2,10)}function eg(t,r){return{usr:t.state,key:t.key,idx:r}}function xd(t,r,i=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof r=="string"?Ss(r):r,state:i,key:r&&r.key||s||h1()}}function Mi({pathname:t="/",search:r="",hash:i=""}){return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Ss(t){let r={};if(t){let i=t.indexOf("#");i>=0&&(r.hash=t.substring(i),t=t.substring(0,i));let s=t.indexOf("?");s>=0&&(r.search=t.substring(s),t=t.substring(0,s)),t&&(r.pathname=t)}return r}function p1(t,r,i,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,f=l.history,m="POP",y=null,g=p();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function p(){return(f.state||{idx:null}).idx}function b(){m="POP";let C=p(),w=C==null?null:C-g;g=C,y&&y({action:m,location:O.location,delta:w})}function v(C,w){m="PUSH";let G=xd(O.location,C,w);g=p()+1;let $=eg(G,g),z=O.createHref(G);try{f.pushState($,"",z)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;l.location.assign(z)}u&&y&&y({action:m,location:O.location,delta:1})}function x(C,w){m="REPLACE";let G=xd(O.location,C,w);g=p();let $=eg(G,g),z=O.createHref(G);f.replaceState($,"",z),u&&y&&y({action:m,location:O.location,delta:0})}function N(C){let w=l.location.origin!=="null"?l.location.origin:l.location.href,G=typeof C=="string"?C:Mi(C);return G=G.replace(/ $/,"%20"),Ct(w,`No window.location.(origin|href) available to create URL for href: ${G}`),new URL(G,w)}let O={get action(){return m},get location(){return t(l,f)},listen(C){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(Wp,b),y=C,()=>{l.removeEventListener(Wp,b),y=null}},createHref(C){return r(l,C)},createURL:N,encodeLocation(C){let w=N(C);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:x,go(C){return f.go(C)}};return O}function R0(t,r,i="/"){return g1(t,r,i,!1)}function g1(t,r,i,s){let l=typeof r=="string"?Ss(r):r,u=jr(l.pathname||"/",i);if(u==null)return null;let f=_0(t);v1(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let g=w1(u);m=A1(f[y],g,s)}return m}function _0(t,r=[],i=[],s=""){let l=(u,f,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};y.relativePath.startsWith("/")&&(Ct(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let g=Tr([s,y.relativePath]),p=i.concat(y);u.children&&u.children.length>0&&(Ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),_0(u.children,r,p,g)),!(u.path==null&&!u.index)&&r.push({path:g,score:T1(g,u.index),routesMeta:p})};return t.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))l(u,f);else for(let y of O0(u.path))l(u,f,y)}),r}function O0(t){let r=t.split("/");if(r.length===0)return[];let[i,...s]=r,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let f=O0(s.join("/")),m=[];return m.push(...f.map(y=>y===""?u:[u,y].join("/"))),l&&m.push(...f),m.map(y=>t.startsWith("/")&&y===""?"/":y)}function v1(t){t.sort((r,i)=>r.score!==i.score?i.score-r.score:j1(r.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var b1=/^:[\w-]+$/,y1=3,x1=2,S1=1,E1=10,N1=-2,tg=t=>t==="*";function T1(t,r){let i=t.split("/"),s=i.length;return i.some(tg)&&(s+=N1),r&&(s+=x1),i.filter(l=>!tg(l)).reduce((l,u)=>l+(b1.test(u)?y1:u===""?S1:E1),s)}function j1(t,r){return t.length===r.length&&t.slice(0,-1).every((s,l)=>s===r[l])?t[t.length-1]-r[r.length-1]:0}function A1(t,r,i=!1){let{routesMeta:s}=t,l={},u="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],g=m===s.length-1,p=u==="/"?r:r.slice(u.length)||"/",b=bo({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},p),v=y.route;if(!b&&g&&i&&!s[s.length-1].route.index&&(b=bo({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},p)),!b)return null;Object.assign(l,b.params),f.push({params:l,pathname:Tr([u,b.pathname]),pathnameBase:D1(Tr([u,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(u=Tr([u,b.pathnameBase]))}return f}function bo(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,s]=C1(t.path,t.caseSensitive,t.end),l=r.match(i);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:s.reduce((g,{paramName:p,isOptional:b},v)=>{if(p==="*"){let N=m[v]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const x=m[v];return b&&!x?g[p]=void 0:g[p]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:t}}function C1(t,r=!1,i=!0){Gn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),s]}function w1(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Gn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),t}}function jr(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let i=r.endsWith("/")?r.length-1:r.length,s=t.charAt(i);return s&&s!=="/"?null:t.slice(i)||"/"}function R1(t,r="/"){let{pathname:i,search:s="",hash:l=""}=typeof t=="string"?Ss(t):t;return{pathname:i?i.startsWith("/")?i:_1(i,r):r,search:M1(s),hash:I1(l)}}function _1(t,r){let i=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function ed(t,r,i,s){return`Cannot include a '${t}' character in a manually specified \`to.${r}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function O1(t){return t.filter((r,i)=>i===0||r.route.path&&r.route.path.length>0)}function Gd(t){let r=O1(t);return r.map((i,s)=>s===r.length-1?i.pathname:i.pathnameBase)}function Yd(t,r,i,s=!1){let l;typeof t=="string"?l=Ss(t):(l={...t},Ct(!l.pathname||!l.pathname.includes("?"),ed("?","pathname","search",l)),Ct(!l.pathname||!l.pathname.includes("#"),ed("#","pathname","hash",l)),Ct(!l.search||!l.search.includes("#"),ed("#","search","hash",l)));let u=t===""||l.pathname==="",f=u?"/":l.pathname,m;if(f==null)m=i;else{let b=r.length-1;if(!s&&f.startsWith("..")){let v=f.split("/");for(;v[0]==="..";)v.shift(),b-=1;l.pathname=v.join("/")}m=b>=0?r[b]:"/"}let y=R1(l,m),g=f&&f!=="/"&&f.endsWith("/"),p=(u||f===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(g||p)&&(y.pathname+="/"),y}var Tr=t=>t.join("/").replace(/\/\/+/g,"/"),D1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),M1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,I1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function U1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var D0=["POST","PUT","PATCH","DELETE"];new Set(D0);var L1=["GET",...D0];new Set(L1);var Es=A.createContext(null);Es.displayName="DataRouter";var _o=A.createContext(null);_o.displayName="DataRouterState";var M0=A.createContext({isTransitioning:!1});M0.displayName="ViewTransition";var F1=A.createContext(new Map);F1.displayName="Fetchers";var k1=A.createContext(null);k1.displayName="Await";var Yn=A.createContext(null);Yn.displayName="Navigation";var Bi=A.createContext(null);Bi.displayName="Location";var Zn=A.createContext({outlet:null,matches:[],isDataRoute:!1});Zn.displayName="Route";var Zd=A.createContext(null);Zd.displayName="RouteError";function z1(t,{relative:r}={}){Ct(Ns(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=A.useContext(Yn),{hash:l,pathname:u,search:f}=Pi(t,{relative:r}),m=u;return i!=="/"&&(m=u==="/"?i:Tr([i,u])),s.createHref({pathname:m,search:f,hash:l})}function Ns(){return A.useContext(Bi)!=null}function Zt(){return Ct(Ns(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Bi).location}var I0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U0(t){A.useContext(Yn).static||A.useLayoutEffect(t)}function St(){let{isDataRoute:t}=A.useContext(Zn);return t?V1():B1()}function B1(){Ct(Ns(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(Es),{basename:r,navigator:i}=A.useContext(Yn),{matches:s}=A.useContext(Zn),{pathname:l}=Zt(),u=JSON.stringify(Gd(s)),f=A.useRef(!1);return U0(()=>{f.current=!0}),A.useCallback((y,g={})=>{if(Gn(f.current,I0),!f.current)return;if(typeof y=="number"){i.go(y);return}let p=Yd(y,JSON.parse(u),l,g.relative==="path");t==null&&r!=="/"&&(p.pathname=p.pathname==="/"?r:Tr([r,p.pathname])),(g.replace?i.replace:i.push)(p,g.state,g)},[r,i,u,l,t])}A.createContext(null);function Ts(){let{matches:t}=A.useContext(Zn),r=t[t.length-1];return r?r.params:{}}function Pi(t,{relative:r}={}){let{matches:i}=A.useContext(Zn),{pathname:s}=Zt(),l=JSON.stringify(Gd(i));return A.useMemo(()=>Yd(t,JSON.parse(l),s,r==="path"),[t,l,s,r])}function P1(t,r){return L0(t,r)}function L0(t,r,i,s){var G;Ct(Ns(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=A.useContext(Yn),{matches:f}=A.useContext(Zn),m=f[f.length-1],y=m?m.params:{},g=m?m.pathname:"/",p=m?m.pathnameBase:"/",b=m&&m.route;{let $=b&&b.path||"";F0(g,!b||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let v=Zt(),x;if(r){let $=typeof r=="string"?Ss(r):r;Ct(p==="/"||((G=$.pathname)==null?void 0:G.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${$.pathname}" was given in the \`location\` prop.`),x=$}else x=v;let N=x.pathname||"/",O=N;if(p!=="/"){let $=p.replace(/^\//,"").split("/");O="/"+N.replace(/^\//,"").split("/").slice($.length).join("/")}let C=!u&&i&&i.matches&&i.matches.length>0?i.matches:R0(t,{pathname:O});Gn(b||C!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Gn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=Y1(C&&C.map($=>Object.assign({},$,{params:Object.assign({},y,$.params),pathname:Tr([p,l.encodeLocation?l.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?p:Tr([p,l.encodeLocation?l.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),f,i,s);return r&&w?A.createElement(Bi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},w):w}function H1(){let t=J1(),r=U1(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",t),f=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:u},"ErrorBoundary")," or"," ",A.createElement("code",{style:u},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},r),i?A.createElement("pre",{style:l},i):null,f)}var $1=A.createElement(H1,null),q1=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?A.createElement(Zn.Provider,{value:this.props.routeContext},A.createElement(Zd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function G1({routeContext:t,match:r,children:i}){let s=A.useContext(Es);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),A.createElement(Zn.Provider,{value:t},i)}function Y1(t,r=[],i=null,s=null){if(t==null){if(!i)return null;if(i.errors)t=i.matches;else if(r.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let l=t,u=i==null?void 0:i.errors;if(u!=null){let y=l.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Ct(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,m=-1;if(i)for(let y=0;y<l.length;y++){let g=l[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=y),g.route.id){let{loaderData:p,errors:b}=i,v=g.route.loader&&!p.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||v){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((y,g,p)=>{let b,v=!1,x=null,N=null;i&&(b=u&&g.route.id?u[g.route.id]:void 0,x=g.route.errorElement||$1,f&&(m<0&&p===0?(F0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,N=null):m===p&&(v=!0,N=g.route.hydrateFallbackElement||null)));let O=r.concat(l.slice(0,p+1)),C=()=>{let w;return b?w=x:v?w=N:g.route.Component?w=A.createElement(g.route.Component,null):g.route.element?w=g.route.element:w=y,A.createElement(G1,{match:g,routeContext:{outlet:y,matches:O,isDataRoute:i!=null},children:w})};return i&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?A.createElement(q1,{location:i.location,revalidation:i.revalidation,component:x,error:b,children:C(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):C()},null)}function Xd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z1(t){let r=A.useContext(Es);return Ct(r,Xd(t)),r}function X1(t){let r=A.useContext(_o);return Ct(r,Xd(t)),r}function Q1(t){let r=A.useContext(Zn);return Ct(r,Xd(t)),r}function Qd(t){let r=Q1(t),i=r.matches[r.matches.length-1];return Ct(i.route.id,`${t} can only be used on routes that contain a unique "id"`),i.route.id}function K1(){return Qd("useRouteId")}function J1(){var s;let t=A.useContext(Zd),r=X1("useRouteError"),i=Qd("useRouteError");return t!==void 0?t:(s=r.errors)==null?void 0:s[i]}function V1(){let{router:t}=Z1("useNavigate"),r=Qd("useNavigate"),i=A.useRef(!1);return U0(()=>{i.current=!0}),A.useCallback(async(l,u={})=>{Gn(i.current,I0),i.current&&(typeof l=="number"?t.navigate(l):await t.navigate(l,{fromRouteId:r,...u}))},[t,r])}var ng={};function F0(t,r,i){!r&&!ng[t]&&(ng[t]=!0,Gn(!1,i))}A.memo(W1);function W1({routes:t,future:r,state:i}){return L0(t,void 0,i,r)}function ji({to:t,replace:r,state:i,relative:s}){Ct(Ns(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=A.useContext(Yn);Gn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=A.useContext(Zn),{pathname:f}=Zt(),m=St(),y=Yd(t,Gd(u),f,s==="path"),g=JSON.stringify(y);return A.useEffect(()=>{m(JSON.parse(g),{replace:r,state:i,relative:s})},[m,g,s,r,i]),null}function xt(t){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eS({basename:t="/",children:r=null,location:i,navigationType:s="POP",navigator:l,static:u=!1}){Ct(!Ns(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=A.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof i=="string"&&(i=Ss(i));let{pathname:y="/",search:g="",hash:p="",state:b=null,key:v="default"}=i,x=A.useMemo(()=>{let N=jr(y,f);return N==null?null:{location:{pathname:N,search:g,hash:p,state:b,key:v},navigationType:s}},[f,y,g,p,b,v,s]);return Gn(x!=null,`<Router basename="${f}"> is not able to match the URL "${y}${g}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:A.createElement(Yn.Provider,{value:m},A.createElement(Bi.Provider,{children:r,value:x}))}function k0({children:t,location:r}){return P1(Sd(t),r)}function Sd(t,r=[]){let i=[];return A.Children.forEach(t,(s,l)=>{if(!A.isValidElement(s))return;let u=[...r,l];if(s.type===A.Fragment){i.push.apply(i,Sd(s.props.children,u));return}Ct(s.type===xt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Sd(s.props.children,u)),i.push(f)}),i}var lo="get",oo="application/x-www-form-urlencoded";function Oo(t){return t!=null&&typeof t.tagName=="string"}function tS(t){return Oo(t)&&t.tagName.toLowerCase()==="button"}function nS(t){return Oo(t)&&t.tagName.toLowerCase()==="form"}function rS(t){return Oo(t)&&t.tagName.toLowerCase()==="input"}function aS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sS(t,r){return t.button===0&&(!r||r==="_self")&&!aS(t)}var Jl=null;function iS(){if(Jl===null)try{new FormData(document.createElement("form"),0),Jl=!1}catch{Jl=!0}return Jl}var lS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function td(t){return t!=null&&!lS.has(t)?(Gn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oo}"`),null):t}function oS(t,r){let i,s,l,u,f;if(nS(t)){let m=t.getAttribute("action");s=m?jr(m,r):null,i=t.getAttribute("method")||lo,l=td(t.getAttribute("enctype"))||oo,u=new FormData(t)}else if(tS(t)||rS(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=t.getAttribute("formaction")||m.getAttribute("action");if(s=y?jr(y,r):null,i=t.getAttribute("formmethod")||m.getAttribute("method")||lo,l=td(t.getAttribute("formenctype"))||td(m.getAttribute("enctype"))||oo,u=new FormData(m,t),!iS()){let{name:g,type:p,value:b}=t;if(p==="image"){let v=g?`${g}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else g&&u.append(g,b)}}else{if(Oo(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=lo,s=null,l=oo,f=t}return u&&l==="text/plain"&&(f=u,u=void 0),{action:s,method:i.toLowerCase(),encType:l,formData:u,body:f}}function Kd(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}async function cS(t,r){if(t.id in r)return r[t.id];try{let i=await import(t.module);return r[t.id]=i,i}catch(i){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function dS(t,r,i){let s=await Promise.all(t.map(async l=>{let u=r.routes[l.route.id];if(u){let f=await cS(u,i);return f.links?f.links():[]}return[]}));return pS(s.flat(1).filter(uS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function rg(t,r,i,s,l,u){let f=(y,g)=>i[g]?y.route.id!==i[g].route.id:!0,m=(y,g)=>{var p;return i[g].pathname!==y.pathname||((p=i[g].route.path)==null?void 0:p.endsWith("*"))&&i[g].params["*"]!==y.params["*"]};return u==="assets"?r.filter((y,g)=>f(y,g)||m(y,g)):u==="data"?r.filter((y,g)=>{var b;let p=s.routes[y.route.id];if(!p||!p.hasLoader)return!1;if(f(y,g)||m(y,g))return!0;if(y.route.shouldRevalidate){let v=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((b=i[0])==null?void 0:b.params)||{},nextUrl:new URL(t,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function fS(t,r,{includeHydrateFallback:i}={}){return mS(t.map(s=>{let l=r.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function mS(t){return[...new Set(t)]}function hS(t){let r={},i=Object.keys(t).sort();for(let s of i)r[s]=t[s];return r}function pS(t,r){let i=new Set;return new Set(r),t.reduce((s,l)=>{let u=JSON.stringify(hS(l));return i.has(u)||(i.add(u),s.push({key:u,link:l})),s},[])}function gS(t,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname="_root.data":r&&jr(i.pathname,r)==="/"?i.pathname=`${r.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function z0(){let t=A.useContext(Es);return Kd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function vS(){let t=A.useContext(_o);return Kd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Jd=A.createContext(void 0);Jd.displayName="FrameworkContext";function B0(){let t=A.useContext(Jd);return Kd(t,"You must render this element inside a <HydratedRouter> element"),t}function bS(t,r){let i=A.useContext(Jd),[s,l]=A.useState(!1),[u,f]=A.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:g,onMouseLeave:p,onTouchStart:b}=r,v=A.useRef(null);A.useEffect(()=>{if(t==="render"&&f(!0),t==="viewport"){let O=w=>{w.forEach(G=>{f(G.isIntersecting)})},C=new IntersectionObserver(O,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[t]),A.useEffect(()=>{if(s){let O=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(O)}}},[s]);let x=()=>{l(!0)},N=()=>{l(!1),f(!1)};return i?t!=="intent"?[u,v,{}]:[u,v,{onFocus:Ai(m,x),onBlur:Ai(y,N),onMouseEnter:Ai(g,x),onMouseLeave:Ai(p,N),onTouchStart:Ai(b,x)}]:[!1,v,{}]}function Ai(t,r){return i=>{t&&t(i),i.defaultPrevented||r(i)}}function yS({page:t,...r}){let{router:i}=z0(),s=A.useMemo(()=>R0(i.routes,t,i.basename),[i.routes,t,i.basename]);return s?A.createElement(SS,{page:t,matches:s,...r}):null}function xS(t){let{manifest:r,routeModules:i}=B0(),[s,l]=A.useState([]);return A.useEffect(()=>{let u=!1;return dS(t,r,i).then(f=>{u||l(f)}),()=>{u=!0}},[t,r,i]),s}function SS({page:t,matches:r,...i}){let s=Zt(),{manifest:l,routeModules:u}=B0(),{basename:f}=z0(),{loaderData:m,matches:y}=vS(),g=A.useMemo(()=>rg(t,r,y,l,s,"data"),[t,r,y,l,s]),p=A.useMemo(()=>rg(t,r,y,l,s,"assets"),[t,r,y,l,s]),b=A.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let N=new Set,O=!1;if(r.forEach(w=>{var $;let G=l.routes[w.route.id];!G||!G.hasLoader||(!g.some(z=>z.route.id===w.route.id)&&w.route.id in m&&(($=u[w.route.id])!=null&&$.shouldRevalidate)||G.hasClientLoader?O=!0:N.add(w.route.id))}),N.size===0)return[];let C=gS(t,f);return O&&N.size>0&&C.searchParams.set("_routes",r.filter(w=>N.has(w.route.id)).map(w=>w.route.id).join(",")),[C.pathname+C.search]},[f,m,s,l,g,r,t,u]),v=A.useMemo(()=>fS(p,l),[p,l]),x=xS(p);return A.createElement(A.Fragment,null,b.map(N=>A.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...i})),v.map(N=>A.createElement("link",{key:N,rel:"modulepreload",href:N,...i})),x.map(({key:N,link:O})=>A.createElement("link",{key:N,...O})))}function ES(...t){return r=>{t.forEach(i=>{typeof i=="function"?i(r):i!=null&&(i.current=r)})}}var P0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{P0&&(window.__reactRouterVersion="7.3.0")}catch{}function NS({basename:t,children:r,window:i}){let s=A.useRef();s.current==null&&(s.current=m1({window:i,v5Compat:!0}));let l=s.current,[u,f]=A.useState({action:l.action,location:l.location}),m=A.useCallback(y=>{A.startTransition(()=>f(y))},[f]);return A.useLayoutEffect(()=>l.listen(m),[l,m]),A.createElement(eS,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:l})}var H0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vr=A.forwardRef(function({onClick:r,discover:i="render",prefetch:s="none",relative:l,reloadDocument:u,replace:f,state:m,target:y,to:g,preventScrollReset:p,viewTransition:b,...v},x){let{basename:N}=A.useContext(Yn),O=typeof g=="string"&&H0.test(g),C,w=!1;if(typeof g=="string"&&O&&(C=g,P0))try{let E=new URL(window.location.href),M=g.startsWith("//")?new URL(E.protocol+g):new URL(g),k=jr(M.pathname,N);M.origin===E.origin&&k!=null?g=k+M.search+M.hash:w=!0}catch{Gn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=z1(g,{relative:l}),[$,z,B]=bS(s,v),D=CS(g,{replace:f,state:m,target:y,preventScrollReset:p,relative:l,viewTransition:b});function Z(E){r&&r(E),E.defaultPrevented||D(E)}let R=A.createElement("a",{...v,...B,href:C||G,onClick:w||u?r:Z,ref:ES(x,z),target:y,"data-discover":!O&&i==="render"?"true":void 0});return $&&!O?A.createElement(A.Fragment,null,R,A.createElement(yS,{page:G})):R});Vr.displayName="Link";var TS=A.forwardRef(function({"aria-current":r="page",caseSensitive:i=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:m,children:y,...g},p){let b=Pi(f,{relative:g.relative}),v=Zt(),x=A.useContext(_o),{navigator:N,basename:O}=A.useContext(Yn),C=x!=null&&DS(b)&&m===!0,w=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,G=v.pathname,$=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(G=G.toLowerCase(),$=$?$.toLowerCase():null,w=w.toLowerCase()),$&&O&&($=jr($,O)||$);const z=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let B=G===w||!l&&G.startsWith(w)&&G.charAt(z)==="/",D=$!=null&&($===w||!l&&$.startsWith(w)&&$.charAt(w.length)==="/"),Z={isActive:B,isPending:D,isTransitioning:C},R=B?r:void 0,E;typeof s=="function"?E=s(Z):E=[s,B?"active":null,D?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(Z):u;return A.createElement(Vr,{...g,"aria-current":R,className:E,ref:p,style:M,to:f,viewTransition:m},typeof y=="function"?y(Z):y)});TS.displayName="NavLink";var jS=A.forwardRef(({discover:t="render",fetcherKey:r,navigate:i,reloadDocument:s,replace:l,state:u,method:f=lo,action:m,onSubmit:y,relative:g,preventScrollReset:p,viewTransition:b,...v},x)=>{let N=_S(),O=OS(m,{relative:g}),C=f.toLowerCase()==="get"?"get":"post",w=typeof m=="string"&&H0.test(m),G=$=>{if(y&&y($),$.defaultPrevented)return;$.preventDefault();let z=$.nativeEvent.submitter,B=(z==null?void 0:z.getAttribute("formmethod"))||f;N(z||$.currentTarget,{fetcherKey:r,method:B,navigate:i,replace:l,state:u,relative:g,preventScrollReset:p,viewTransition:b})};return A.createElement("form",{ref:x,method:C,action:O,onSubmit:s?y:G,...v,"data-discover":!w&&t==="render"?"true":void 0})});jS.displayName="Form";function AS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $0(t){let r=A.useContext(Es);return Ct(r,AS(t)),r}function CS(t,{target:r,replace:i,state:s,preventScrollReset:l,relative:u,viewTransition:f}={}){let m=St(),y=Zt(),g=Pi(t,{relative:u});return A.useCallback(p=>{if(sS(p,r)){p.preventDefault();let b=i!==void 0?i:Mi(y)===Mi(g);m(t,{replace:b,state:s,preventScrollReset:l,relative:u,viewTransition:f})}},[y,m,g,i,s,r,t,l,u,f])}var wS=0,RS=()=>`__${String(++wS)}__`;function _S(){let{router:t}=$0("useSubmit"),{basename:r}=A.useContext(Yn),i=K1();return A.useCallback(async(s,l={})=>{let{action:u,method:f,encType:m,formData:y,body:g}=oS(s,r);if(l.navigate===!1){let p=l.fetcherKey||RS();await t.fetch(p,i,l.action||u,{preventScrollReset:l.preventScrollReset,formData:y,body:g,formMethod:l.method||f,formEncType:l.encType||m,flushSync:l.flushSync})}else await t.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:y,body:g,formMethod:l.method||f,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[t,r,i])}function OS(t,{relative:r}={}){let{basename:i}=A.useContext(Yn),s=A.useContext(Zn);Ct(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...Pi(t||".",{relative:r})},f=Zt();if(t==null){u.search=f.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(p=>p==="")){m.delete("index"),y.filter(b=>b).forEach(b=>m.append("index",b));let p=m.toString();u.search=p?`?${p}`:""}}return(!t||t===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Tr([i,u.pathname])),Mi(u)}function DS(t,r={}){let i=A.useContext(M0);Ct(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=$0("useViewTransitionState"),l=Pi(t,{relative:r.relative});if(!i.isTransitioning)return!1;let u=jr(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=jr(i.nextLocation.pathname,s)||i.nextLocation.pathname;return bo(l.pathname,f)!=null||bo(l.pathname,u)!=null}new TextEncoder;const q0="/assets/Logo-05NgOMmE.png",G0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAnCAYAAABjYToLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJwSURBVHgBxVjRUcMwDFU4/skGeAM6QjagTAAb0A1aJqBMQJmgxwTtBoUJEiZoO4GQLvJVNSRxbV377nRJHFl5lmVZTgEZQMQRXVicam5YiqJYwzlBZBzJnGSL/eD37yQVJKCIVaQPlHSZkkxUc0OyJtmT7KTtDloPjpTeguSFvNiAJZgUyUZ5Y9AT4tmF6lNzG1hCkapPnRohWKv+JViADE1VzDhIQEBuBbkQgx6PkAH2tLJVQQ7IwMRPARiA7Cx9jEIO2O1iaAIGUF7bQg7MXH+wVyqbrk/3qseIU49fYADKY5zrGnl0fbpXEG/QGjd9L6OImeWeY+z7XnYSk+3De2oEBpABOnncJRET+Ngagw38AHc08PS4pRGOVdbPnk61d+blMTFWi7FXyECQ+R3kIjCYtC0Fe+UcrIBtYYgpu4CEgy8qN+YrPCC3xOF6rFJbGsp9NKnoClY+xt7iKtZ/oIF25X7LM7ffklRKh9PCG63CGZyA61hFGS0KGb/snUhfOmH9muPslNJ60GNC6BnaWr8MPsjeYo/8qPZbIcu6YWJegEXtT6Se8fg0tJI2F9mfV+MTHuowjymkANvyJAzcCjKAuYeTIOds0ahIVPYrPD6cuJhO7uROaeQcHp+83FCHeOV8cmXwvbJLcaqmz8EZEMzQskvBI+uYlkBO78Xj8KV3aX45kkZu/mdKsc0zHg4uAIk3ny9nvnF1SW8pcjMV46X52TGDmPbaPW/ivNfxvN7ABcFHRCL0QLd3dP+p/ydsLhVj/6EQMvxriK8NyScMHK2MUJNnPno1gkR3Ttx3cSoCghW01ec5wH98Prp+P/wCx9vhmUk+J2oAAAAASUVORK5CYII=",MS=({position:t="navbar"})=>{const[r,i]=A.useState(()=>{const l=localStorage.getItem("theme");return l?l==="dark":!0}),s=()=>{const l=!r;i(l),localStorage.setItem("theme",l?"dark":"light"),document.documentElement.setAttribute("data-theme",l?"dark":"light")};return A.useEffect(()=>{document.documentElement.setAttribute("data-theme",r?"dark":"light")},[r]),c.jsx("div",{className:`theme-toggle ${t}`,children:c.jsx("button",{className:"theme-toggle-button",onClick:s,"aria-label":r?"Passer au thme clair":"Passer au thme sombre",title:r?"Passer au thme clair":"Passer au thme sombre",children:r?c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"theme-icon",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),c.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),c.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),c.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),c.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),c.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),c.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),c.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"theme-icon",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})};function Y0(t,r){return function(){return t.apply(r,arguments)}}const{toString:IS}=Object.prototype,{getPrototypeOf:Vd}=Object,Do=(t=>r=>{const i=IS.call(r);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Xn=t=>(t=t.toLowerCase(),r=>Do(r)===t),Mo=t=>r=>typeof r===t,{isArray:js}=Array,Ii=Mo("undefined");function US(t){return t!==null&&!Ii(t)&&t.constructor!==null&&!Ii(t.constructor)&&En(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Z0=Xn("ArrayBuffer");function LS(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&Z0(t.buffer),r}const FS=Mo("string"),En=Mo("function"),X0=Mo("number"),Io=t=>t!==null&&typeof t=="object",kS=t=>t===!0||t===!1,co=t=>{if(Do(t)!=="object")return!1;const r=Vd(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},zS=Xn("Date"),BS=Xn("File"),PS=Xn("Blob"),HS=Xn("FileList"),$S=t=>Io(t)&&En(t.pipe),qS=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||En(t.append)&&((r=Do(t))==="formdata"||r==="object"&&En(t.toString)&&t.toString()==="[object FormData]"))},GS=Xn("URLSearchParams"),[YS,ZS,XS,QS]=["ReadableStream","Request","Response","Headers"].map(Xn),KS=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hi(t,r,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let s,l;if(typeof t!="object"&&(t=[t]),js(t))for(s=0,l=t.length;s<l;s++)r.call(null,t[s],s,t);else{const u=i?Object.getOwnPropertyNames(t):Object.keys(t),f=u.length;let m;for(s=0;s<f;s++)m=u[s],r.call(null,t[m],m,t)}}function Q0(t,r){r=r.toLowerCase();const i=Object.keys(t);let s=i.length,l;for(;s-- >0;)if(l=i[s],r===l.toLowerCase())return l;return null}const ja=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,K0=t=>!Ii(t)&&t!==ja;function Ed(){const{caseless:t}=K0(this)&&this||{},r={},i=(s,l)=>{const u=t&&Q0(r,l)||l;co(r[u])&&co(s)?r[u]=Ed(r[u],s):co(s)?r[u]=Ed({},s):js(s)?r[u]=s.slice():r[u]=s};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&Hi(arguments[s],i);return r}const JS=(t,r,i,{allOwnKeys:s}={})=>(Hi(r,(l,u)=>{i&&En(l)?t[u]=Y0(l,i):t[u]=l},{allOwnKeys:s}),t),VS=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),WS=(t,r,i,s)=>{t.prototype=Object.create(r.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),i&&Object.assign(t.prototype,i)},eE=(t,r,i,s)=>{let l,u,f;const m={};if(r=r||{},t==null)return r;do{for(l=Object.getOwnPropertyNames(t),u=l.length;u-- >0;)f=l[u],(!s||s(f,t,r))&&!m[f]&&(r[f]=t[f],m[f]=!0);t=i!==!1&&Vd(t)}while(t&&(!i||i(t,r))&&t!==Object.prototype);return r},tE=(t,r,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=r.length;const s=t.indexOf(r,i);return s!==-1&&s===i},nE=t=>{if(!t)return null;if(js(t))return t;let r=t.length;if(!X0(r))return null;const i=new Array(r);for(;r-- >0;)i[r]=t[r];return i},rE=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&Vd(Uint8Array)),aE=(t,r)=>{const s=(t&&t[Symbol.iterator]).call(t);let l;for(;(l=s.next())&&!l.done;){const u=l.value;r.call(t,u[0],u[1])}},sE=(t,r)=>{let i;const s=[];for(;(i=t.exec(r))!==null;)s.push(i);return s},iE=Xn("HTMLFormElement"),lE=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,s,l){return s.toUpperCase()+l}),ag=(({hasOwnProperty:t})=>(r,i)=>t.call(r,i))(Object.prototype),oE=Xn("RegExp"),J0=(t,r)=>{const i=Object.getOwnPropertyDescriptors(t),s={};Hi(i,(l,u)=>{let f;(f=r(l,u,t))!==!1&&(s[u]=f||l)}),Object.defineProperties(t,s)},cE=t=>{J0(t,(r,i)=>{if(En(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const s=t[i];if(En(s)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},uE=(t,r)=>{const i={},s=l=>{l.forEach(u=>{i[u]=!0})};return js(t)?s(t):s(String(t).split(r)),i},dE=()=>{},fE=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r;function mE(t){return!!(t&&En(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const hE=t=>{const r=new Array(10),i=(s,l)=>{if(Io(s)){if(r.indexOf(s)>=0)return;if(!("toJSON"in s)){r[l]=s;const u=js(s)?[]:{};return Hi(s,(f,m)=>{const y=i(f,l+1);!Ii(y)&&(u[m]=y)}),r[l]=void 0,u}}return s};return i(t,0)},pE=Xn("AsyncFunction"),gE=t=>t&&(Io(t)||En(t))&&En(t.then)&&En(t.catch),V0=((t,r)=>t?setImmediate:r?((i,s)=>(ja.addEventListener("message",({source:l,data:u})=>{l===ja&&u===i&&s.length&&s.shift()()},!1),l=>{s.push(l),ja.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",En(ja.postMessage)),vE=typeof queueMicrotask<"u"?queueMicrotask.bind(ja):typeof process<"u"&&process.nextTick||V0,ue={isArray:js,isArrayBuffer:Z0,isBuffer:US,isFormData:qS,isArrayBufferView:LS,isString:FS,isNumber:X0,isBoolean:kS,isObject:Io,isPlainObject:co,isReadableStream:YS,isRequest:ZS,isResponse:XS,isHeaders:QS,isUndefined:Ii,isDate:zS,isFile:BS,isBlob:PS,isRegExp:oE,isFunction:En,isStream:$S,isURLSearchParams:GS,isTypedArray:rE,isFileList:HS,forEach:Hi,merge:Ed,extend:JS,trim:KS,stripBOM:VS,inherits:WS,toFlatObject:eE,kindOf:Do,kindOfTest:Xn,endsWith:tE,toArray:nE,forEachEntry:aE,matchAll:sE,isHTMLForm:iE,hasOwnProperty:ag,hasOwnProp:ag,reduceDescriptors:J0,freezeMethods:cE,toObjectSet:uE,toCamelCase:lE,noop:dE,toFiniteNumber:fE,findKey:Q0,global:ja,isContextDefined:K0,isSpecCompliantForm:mE,toJSONObject:hE,isAsyncFn:pE,isThenable:gE,setImmediate:V0,asap:vE};function We(t,r,i,s,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),i&&(this.config=i),s&&(this.request=s),l&&(this.response=l,this.status=l.status?l.status:null)}ue.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.status}}});const W0=We.prototype,ev={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ev[t]={value:t}});Object.defineProperties(We,ev);Object.defineProperty(W0,"isAxiosError",{value:!0});We.from=(t,r,i,s,l,u)=>{const f=Object.create(W0);return ue.toFlatObject(t,f,function(y){return y!==Error.prototype},m=>m!=="isAxiosError"),We.call(f,t.message,r,i,s,l),f.cause=t,f.name=t.name,u&&Object.assign(f,u),f};const bE=null;function Nd(t){return ue.isPlainObject(t)||ue.isArray(t)}function tv(t){return ue.endsWith(t,"[]")?t.slice(0,-2):t}function sg(t,r,i){return t?t.concat(r).map(function(l,u){return l=tv(l),!i&&u?"["+l+"]":l}).join(i?".":""):r}function yE(t){return ue.isArray(t)&&!t.some(Nd)}const xE=ue.toFlatObject(ue,{},null,function(r){return/^is[A-Z]/.test(r)});function Uo(t,r,i){if(!ue.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,i=ue.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,C){return!ue.isUndefined(C[O])});const s=i.metaTokens,l=i.visitor||p,u=i.dots,f=i.indexes,y=(i.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(r);if(!ue.isFunction(l))throw new TypeError("visitor must be a function");function g(N){if(N===null)return"";if(ue.isDate(N))return N.toISOString();if(!y&&ue.isBlob(N))throw new We("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(N)||ue.isTypedArray(N)?y&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function p(N,O,C){let w=N;if(N&&!C&&typeof N=="object"){if(ue.endsWith(O,"{}"))O=s?O:O.slice(0,-2),N=JSON.stringify(N);else if(ue.isArray(N)&&yE(N)||(ue.isFileList(N)||ue.endsWith(O,"[]"))&&(w=ue.toArray(N)))return O=tv(O),w.forEach(function($,z){!(ue.isUndefined($)||$===null)&&r.append(f===!0?sg([O],z,u):f===null?O:O+"[]",g($))}),!1}return Nd(N)?!0:(r.append(sg(C,O,u),g(N)),!1)}const b=[],v=Object.assign(xE,{defaultVisitor:p,convertValue:g,isVisitable:Nd});function x(N,O){if(!ue.isUndefined(N)){if(b.indexOf(N)!==-1)throw Error("Circular reference detected in "+O.join("."));b.push(N),ue.forEach(N,function(w,G){(!(ue.isUndefined(w)||w===null)&&l.call(r,w,ue.isString(G)?G.trim():G,O,v))===!0&&x(w,O?O.concat(G):[G])}),b.pop()}}if(!ue.isObject(t))throw new TypeError("data must be an object");return x(t),r}function ig(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return r[s]})}function Wd(t,r){this._pairs=[],t&&Uo(t,this,r)}const nv=Wd.prototype;nv.append=function(r,i){this._pairs.push([r,i])};nv.toString=function(r){const i=r?function(s){return r.call(this,s,ig)}:ig;return this._pairs.map(function(l){return i(l[0])+"="+i(l[1])},"").join("&")};function SE(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rv(t,r,i){if(!r)return t;const s=i&&i.encode||SE;ue.isFunction(i)&&(i={serialize:i});const l=i&&i.serialize;let u;if(l?u=l(r,i):u=ue.isURLSearchParams(r)?r.toString():new Wd(r,i).toString(s),u){const f=t.indexOf("#");f!==-1&&(t=t.slice(0,f)),t+=(t.indexOf("?")===-1?"?":"&")+u}return t}class lg{constructor(){this.handlers=[]}use(r,i,s){return this.handlers.push({fulfilled:r,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){ue.forEach(this.handlers,function(s){s!==null&&r(s)})}}const av={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},EE=typeof URLSearchParams<"u"?URLSearchParams:Wd,NE=typeof FormData<"u"?FormData:null,TE=typeof Blob<"u"?Blob:null,jE={isBrowser:!0,classes:{URLSearchParams:EE,FormData:NE,Blob:TE},protocols:["http","https","file","blob","url","data"]},ef=typeof window<"u"&&typeof document<"u",Td=typeof navigator=="object"&&navigator||void 0,AE=ef&&(!Td||["ReactNative","NativeScript","NS"].indexOf(Td.product)<0),CE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wE=ef&&window.location.href||"http://localhost",RE=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ef,hasStandardBrowserEnv:AE,hasStandardBrowserWebWorkerEnv:CE,navigator:Td,origin:wE},Symbol.toStringTag,{value:"Module"})),on={...RE,...jE};function _E(t,r){return Uo(t,new on.classes.URLSearchParams,Object.assign({visitor:function(i,s,l,u){return on.isNode&&ue.isBuffer(i)?(this.append(s,i.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},r))}function OE(t){return ue.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function DE(t){const r={},i=Object.keys(t);let s;const l=i.length;let u;for(s=0;s<l;s++)u=i[s],r[u]=t[u];return r}function sv(t){function r(i,s,l,u){let f=i[u++];if(f==="__proto__")return!0;const m=Number.isFinite(+f),y=u>=i.length;return f=!f&&ue.isArray(l)?l.length:f,y?(ue.hasOwnProp(l,f)?l[f]=[l[f],s]:l[f]=s,!m):((!l[f]||!ue.isObject(l[f]))&&(l[f]=[]),r(i,s,l[f],u)&&ue.isArray(l[f])&&(l[f]=DE(l[f])),!m)}if(ue.isFormData(t)&&ue.isFunction(t.entries)){const i={};return ue.forEachEntry(t,(s,l)=>{r(OE(s),l,i,0)}),i}return null}function ME(t,r,i){if(ue.isString(t))try{return(r||JSON.parse)(t),ue.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(i||JSON.stringify)(t)}const $i={transitional:av,adapter:["xhr","http","fetch"],transformRequest:[function(r,i){const s=i.getContentType()||"",l=s.indexOf("application/json")>-1,u=ue.isObject(r);if(u&&ue.isHTMLForm(r)&&(r=new FormData(r)),ue.isFormData(r))return l?JSON.stringify(sv(r)):r;if(ue.isArrayBuffer(r)||ue.isBuffer(r)||ue.isStream(r)||ue.isFile(r)||ue.isBlob(r)||ue.isReadableStream(r))return r;if(ue.isArrayBufferView(r))return r.buffer;if(ue.isURLSearchParams(r))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let m;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return _E(r,this.formSerializer).toString();if((m=ue.isFileList(r))||s.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return Uo(m?{"files[]":r}:r,y&&new y,this.formSerializer)}}return u||l?(i.setContentType("application/json",!1),ME(r)):r}],transformResponse:[function(r){const i=this.transitional||$i.transitional,s=i&&i.forcedJSONParsing,l=this.responseType==="json";if(ue.isResponse(r)||ue.isReadableStream(r))return r;if(r&&ue.isString(r)&&(s&&!this.responseType||l)){const f=!(i&&i.silentJSONParsing)&&l;try{return JSON.parse(r)}catch(m){if(f)throw m.name==="SyntaxError"?We.from(m,We.ERR_BAD_RESPONSE,this,null,this.response):m}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:on.classes.FormData,Blob:on.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],t=>{$i.headers[t]={}});const IE=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),UE=t=>{const r={};let i,s,l;return t&&t.split(`
`).forEach(function(f){l=f.indexOf(":"),i=f.substring(0,l).trim().toLowerCase(),s=f.substring(l+1).trim(),!(!i||r[i]&&IE[i])&&(i==="set-cookie"?r[i]?r[i].push(s):r[i]=[s]:r[i]=r[i]?r[i]+", "+s:s)}),r},og=Symbol("internals");function Ci(t){return t&&String(t).trim().toLowerCase()}function uo(t){return t===!1||t==null?t:ue.isArray(t)?t.map(uo):String(t)}function LE(t){const r=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=i.exec(t);)r[s[1]]=s[2];return r}const FE=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function nd(t,r,i,s,l){if(ue.isFunction(s))return s.call(this,r,i);if(l&&(r=i),!!ue.isString(r)){if(ue.isString(s))return r.indexOf(s)!==-1;if(ue.isRegExp(s))return s.test(r)}}function kE(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,i,s)=>i.toUpperCase()+s)}function zE(t,r){const i=ue.toCamelCase(" "+r);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+i,{value:function(l,u,f){return this[s].call(this,r,l,u,f)},configurable:!0})})}let gn=class{constructor(r){r&&this.set(r)}set(r,i,s){const l=this;function u(m,y,g){const p=Ci(y);if(!p)throw new Error("header name must be a non-empty string");const b=ue.findKey(l,p);(!b||l[b]===void 0||g===!0||g===void 0&&l[b]!==!1)&&(l[b||y]=uo(m))}const f=(m,y)=>ue.forEach(m,(g,p)=>u(g,p,y));if(ue.isPlainObject(r)||r instanceof this.constructor)f(r,i);else if(ue.isString(r)&&(r=r.trim())&&!FE(r))f(UE(r),i);else if(ue.isHeaders(r))for(const[m,y]of r.entries())u(y,m,s);else r!=null&&u(i,r,s);return this}get(r,i){if(r=Ci(r),r){const s=ue.findKey(this,r);if(s){const l=this[s];if(!i)return l;if(i===!0)return LE(l);if(ue.isFunction(i))return i.call(this,l,s);if(ue.isRegExp(i))return i.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,i){if(r=Ci(r),r){const s=ue.findKey(this,r);return!!(s&&this[s]!==void 0&&(!i||nd(this,this[s],s,i)))}return!1}delete(r,i){const s=this;let l=!1;function u(f){if(f=Ci(f),f){const m=ue.findKey(s,f);m&&(!i||nd(s,s[m],m,i))&&(delete s[m],l=!0)}}return ue.isArray(r)?r.forEach(u):u(r),l}clear(r){const i=Object.keys(this);let s=i.length,l=!1;for(;s--;){const u=i[s];(!r||nd(this,this[u],u,r,!0))&&(delete this[u],l=!0)}return l}normalize(r){const i=this,s={};return ue.forEach(this,(l,u)=>{const f=ue.findKey(s,u);if(f){i[f]=uo(l),delete i[u];return}const m=r?kE(u):String(u).trim();m!==u&&delete i[u],i[m]=uo(l),s[m]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const i=Object.create(null);return ue.forEach(this,(s,l)=>{s!=null&&s!==!1&&(i[l]=r&&ue.isArray(s)?s.join(", "):s)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,i])=>r+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...i){const s=new this(r);return i.forEach(l=>s.set(l)),s}static accessor(r){const s=(this[og]=this[og]={accessors:{}}).accessors,l=this.prototype;function u(f){const m=Ci(f);s[m]||(zE(l,f),s[m]=!0)}return ue.isArray(r)?r.forEach(u):u(r),this}};gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ue.reduceDescriptors(gn.prototype,({value:t},r)=>{let i=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(s){this[i]=s}}});ue.freezeMethods(gn);function rd(t,r){const i=this||$i,s=r||i,l=gn.from(s.headers);let u=s.data;return ue.forEach(t,function(m){u=m.call(i,u,l.normalize(),r?r.status:void 0)}),l.normalize(),u}function iv(t){return!!(t&&t.__CANCEL__)}function As(t,r,i){We.call(this,t??"canceled",We.ERR_CANCELED,r,i),this.name="CanceledError"}ue.inherits(As,We,{__CANCEL__:!0});function lv(t,r,i){const s=i.config.validateStatus;!i.status||!s||s(i.status)?t(i):r(new We("Request failed with status code "+i.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function BE(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function PE(t,r){t=t||10;const i=new Array(t),s=new Array(t);let l=0,u=0,f;return r=r!==void 0?r:1e3,function(y){const g=Date.now(),p=s[u];f||(f=g),i[l]=y,s[l]=g;let b=u,v=0;for(;b!==l;)v+=i[b++],b=b%t;if(l=(l+1)%t,l===u&&(u=(u+1)%t),g-f<r)return;const x=p&&g-p;return x?Math.round(v*1e3/x):void 0}}function HE(t,r){let i=0,s=1e3/r,l,u;const f=(g,p=Date.now())=>{i=p,l=null,u&&(clearTimeout(u),u=null),t.apply(null,g)};return[(...g)=>{const p=Date.now(),b=p-i;b>=s?f(g,p):(l=g,u||(u=setTimeout(()=>{u=null,f(l)},s-b)))},()=>l&&f(l)]}const yo=(t,r,i=3)=>{let s=0;const l=PE(50,250);return HE(u=>{const f=u.loaded,m=u.lengthComputable?u.total:void 0,y=f-s,g=l(y),p=f<=m;s=f;const b={loaded:f,total:m,progress:m?f/m:void 0,bytes:y,rate:g||void 0,estimated:g&&m&&p?(m-f)/g:void 0,event:u,lengthComputable:m!=null,[r?"download":"upload"]:!0};t(b)},i)},cg=(t,r)=>{const i=t!=null;return[s=>r[0]({lengthComputable:i,total:t,loaded:s}),r[1]]},ug=t=>(...r)=>ue.asap(()=>t(...r)),$E=on.hasStandardBrowserEnv?((t,r)=>i=>(i=new URL(i,on.origin),t.protocol===i.protocol&&t.host===i.host&&(r||t.port===i.port)))(new URL(on.origin),on.navigator&&/(msie|trident)/i.test(on.navigator.userAgent)):()=>!0,qE=on.hasStandardBrowserEnv?{write(t,r,i,s,l,u){const f=[t+"="+encodeURIComponent(r)];ue.isNumber(i)&&f.push("expires="+new Date(i).toGMTString()),ue.isString(s)&&f.push("path="+s),ue.isString(l)&&f.push("domain="+l),u===!0&&f.push("secure"),document.cookie=f.join("; ")},read(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function GE(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function YE(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function ov(t,r,i){let s=!GE(r);return t&&(s||i==!1)?YE(t,r):r}const dg=t=>t instanceof gn?{...t}:t;function wa(t,r){r=r||{};const i={};function s(g,p,b,v){return ue.isPlainObject(g)&&ue.isPlainObject(p)?ue.merge.call({caseless:v},g,p):ue.isPlainObject(p)?ue.merge({},p):ue.isArray(p)?p.slice():p}function l(g,p,b,v){if(ue.isUndefined(p)){if(!ue.isUndefined(g))return s(void 0,g,b,v)}else return s(g,p,b,v)}function u(g,p){if(!ue.isUndefined(p))return s(void 0,p)}function f(g,p){if(ue.isUndefined(p)){if(!ue.isUndefined(g))return s(void 0,g)}else return s(void 0,p)}function m(g,p,b){if(b in r)return s(g,p);if(b in t)return s(void 0,g)}const y={url:u,method:u,data:u,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:m,headers:(g,p,b)=>l(dg(g),dg(p),b,!0)};return ue.forEach(Object.keys(Object.assign({},t,r)),function(p){const b=y[p]||l,v=b(t[p],r[p],p);ue.isUndefined(v)&&b!==m||(i[p]=v)}),i}const cv=t=>{const r=wa({},t);let{data:i,withXSRFToken:s,xsrfHeaderName:l,xsrfCookieName:u,headers:f,auth:m}=r;r.headers=f=gn.from(f),r.url=rv(ov(r.baseURL,r.url,r.allowAbsoluteUrls),t.params,t.paramsSerializer),m&&f.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let y;if(ue.isFormData(i)){if(on.hasStandardBrowserEnv||on.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if((y=f.getContentType())!==!1){const[g,...p]=y?y.split(";").map(b=>b.trim()).filter(Boolean):[];f.setContentType([g||"multipart/form-data",...p].join("; "))}}if(on.hasStandardBrowserEnv&&(s&&ue.isFunction(s)&&(s=s(r)),s||s!==!1&&$E(r.url))){const g=l&&u&&qE.read(u);g&&f.set(l,g)}return r},ZE=typeof XMLHttpRequest<"u",XE=ZE&&function(t){return new Promise(function(i,s){const l=cv(t);let u=l.data;const f=gn.from(l.headers).normalize();let{responseType:m,onUploadProgress:y,onDownloadProgress:g}=l,p,b,v,x,N;function O(){x&&x(),N&&N(),l.cancelToken&&l.cancelToken.unsubscribe(p),l.signal&&l.signal.removeEventListener("abort",p)}let C=new XMLHttpRequest;C.open(l.method.toUpperCase(),l.url,!0),C.timeout=l.timeout;function w(){if(!C)return;const $=gn.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),B={data:!m||m==="text"||m==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:$,config:t,request:C};lv(function(Z){i(Z),O()},function(Z){s(Z),O()},B),C=null}"onloadend"in C?C.onloadend=w:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(w)},C.onabort=function(){C&&(s(new We("Request aborted",We.ECONNABORTED,t,C)),C=null)},C.onerror=function(){s(new We("Network Error",We.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let z=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const B=l.transitional||av;l.timeoutErrorMessage&&(z=l.timeoutErrorMessage),s(new We(z,B.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,t,C)),C=null},u===void 0&&f.setContentType(null),"setRequestHeader"in C&&ue.forEach(f.toJSON(),function(z,B){C.setRequestHeader(B,z)}),ue.isUndefined(l.withCredentials)||(C.withCredentials=!!l.withCredentials),m&&m!=="json"&&(C.responseType=l.responseType),g&&([v,N]=yo(g,!0),C.addEventListener("progress",v)),y&&C.upload&&([b,x]=yo(y),C.upload.addEventListener("progress",b),C.upload.addEventListener("loadend",x)),(l.cancelToken||l.signal)&&(p=$=>{C&&(s(!$||$.type?new As(null,t,C):$),C.abort(),C=null)},l.cancelToken&&l.cancelToken.subscribe(p),l.signal&&(l.signal.aborted?p():l.signal.addEventListener("abort",p)));const G=BE(l.url);if(G&&on.protocols.indexOf(G)===-1){s(new We("Unsupported protocol "+G+":",We.ERR_BAD_REQUEST,t));return}C.send(u||null)})},QE=(t,r)=>{const{length:i}=t=t?t.filter(Boolean):[];if(r||i){let s=new AbortController,l;const u=function(g){if(!l){l=!0,m();const p=g instanceof Error?g:this.reason;s.abort(p instanceof We?p:new As(p instanceof Error?p.message:p))}};let f=r&&setTimeout(()=>{f=null,u(new We(`timeout ${r} of ms exceeded`,We.ETIMEDOUT))},r);const m=()=>{t&&(f&&clearTimeout(f),f=null,t.forEach(g=>{g.unsubscribe?g.unsubscribe(u):g.removeEventListener("abort",u)}),t=null)};t.forEach(g=>g.addEventListener("abort",u));const{signal:y}=s;return y.unsubscribe=()=>ue.asap(m),y}},KE=function*(t,r){let i=t.byteLength;if(i<r){yield t;return}let s=0,l;for(;s<i;)l=s+r,yield t.slice(s,l),s=l},JE=async function*(t,r){for await(const i of VE(t))yield*KE(i,r)},VE=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:i,value:s}=await r.read();if(i)break;yield s}}finally{await r.cancel()}},fg=(t,r,i,s)=>{const l=JE(t,r);let u=0,f,m=y=>{f||(f=!0,s&&s(y))};return new ReadableStream({async pull(y){try{const{done:g,value:p}=await l.next();if(g){m(),y.close();return}let b=p.byteLength;if(i){let v=u+=b;i(v)}y.enqueue(new Uint8Array(p))}catch(g){throw m(g),g}},cancel(y){return m(y),l.return()}},{highWaterMark:2})},Lo=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",uv=Lo&&typeof ReadableStream=="function",WE=Lo&&(typeof TextEncoder=="function"?(t=>r=>t.encode(r))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),dv=(t,...r)=>{try{return!!t(...r)}catch{return!1}},e2=uv&&dv(()=>{let t=!1;const r=new Request(on.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!r}),mg=64*1024,jd=uv&&dv(()=>ue.isReadableStream(new Response("").body)),xo={stream:jd&&(t=>t.body)};Lo&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!xo[r]&&(xo[r]=ue.isFunction(t[r])?i=>i[r]():(i,s)=>{throw new We(`Response type '${r}' is not supported`,We.ERR_NOT_SUPPORT,s)})})})(new Response);const t2=async t=>{if(t==null)return 0;if(ue.isBlob(t))return t.size;if(ue.isSpecCompliantForm(t))return(await new Request(on.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ue.isArrayBufferView(t)||ue.isArrayBuffer(t))return t.byteLength;if(ue.isURLSearchParams(t)&&(t=t+""),ue.isString(t))return(await WE(t)).byteLength},n2=async(t,r)=>{const i=ue.toFiniteNumber(t.getContentLength());return i??t2(r)},r2=Lo&&(async t=>{let{url:r,method:i,data:s,signal:l,cancelToken:u,timeout:f,onDownloadProgress:m,onUploadProgress:y,responseType:g,headers:p,withCredentials:b="same-origin",fetchOptions:v}=cv(t);g=g?(g+"").toLowerCase():"text";let x=QE([l,u&&u.toAbortSignal()],f),N;const O=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let C;try{if(y&&e2&&i!=="get"&&i!=="head"&&(C=await n2(p,s))!==0){let B=new Request(r,{method:"POST",body:s,duplex:"half"}),D;if(ue.isFormData(s)&&(D=B.headers.get("content-type"))&&p.setContentType(D),B.body){const[Z,R]=cg(C,yo(ug(y)));s=fg(B.body,mg,Z,R)}}ue.isString(b)||(b=b?"include":"omit");const w="credentials"in Request.prototype;N=new Request(r,{...v,signal:x,method:i.toUpperCase(),headers:p.normalize().toJSON(),body:s,duplex:"half",credentials:w?b:void 0});let G=await fetch(N);const $=jd&&(g==="stream"||g==="response");if(jd&&(m||$&&O)){const B={};["status","statusText","headers"].forEach(E=>{B[E]=G[E]});const D=ue.toFiniteNumber(G.headers.get("content-length")),[Z,R]=m&&cg(D,yo(ug(m),!0))||[];G=new Response(fg(G.body,mg,Z,()=>{R&&R(),O&&O()}),B)}g=g||"text";let z=await xo[ue.findKey(xo,g)||"text"](G,t);return!$&&O&&O(),await new Promise((B,D)=>{lv(B,D,{data:z,headers:gn.from(G.headers),status:G.status,statusText:G.statusText,config:t,request:N})})}catch(w){throw O&&O(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new We("Network Error",We.ERR_NETWORK,t,N),{cause:w.cause||w}):We.from(w,w&&w.code,t,N)}}),Ad={http:bE,xhr:XE,fetch:r2};ue.forEach(Ad,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const hg=t=>`- ${t}`,a2=t=>ue.isFunction(t)||t===null||t===!1,fv={getAdapter:t=>{t=ue.isArray(t)?t:[t];const{length:r}=t;let i,s;const l={};for(let u=0;u<r;u++){i=t[u];let f;if(s=i,!a2(i)&&(s=Ad[(f=String(i)).toLowerCase()],s===void 0))throw new We(`Unknown adapter '${f}'`);if(s)break;l[f||"#"+u]=s}if(!s){const u=Object.entries(l).map(([m,y])=>`adapter ${m} `+(y===!1?"is not supported by the environment":"is not available in the build"));let f=r?u.length>1?`since :
`+u.map(hg).join(`
`):" "+hg(u[0]):"as no adapter specified";throw new We("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return s},adapters:Ad};function ad(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new As(null,t)}function pg(t){return ad(t),t.headers=gn.from(t.headers),t.data=rd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fv.getAdapter(t.adapter||$i.adapter)(t).then(function(s){return ad(t),s.data=rd.call(t,t.transformResponse,s),s.headers=gn.from(s.headers),s},function(s){return iv(s)||(ad(t),s&&s.response&&(s.response.data=rd.call(t,t.transformResponse,s.response),s.response.headers=gn.from(s.response.headers))),Promise.reject(s)})}const mv="1.8.4",Fo={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{Fo[t]=function(s){return typeof s===t||"a"+(r<1?"n ":" ")+t}});const gg={};Fo.transitional=function(r,i,s){function l(u,f){return"[Axios v"+mv+"] Transitional option '"+u+"'"+f+(s?". "+s:"")}return(u,f,m)=>{if(r===!1)throw new We(l(f," has been removed"+(i?" in "+i:"")),We.ERR_DEPRECATED);return i&&!gg[f]&&(gg[f]=!0,console.warn(l(f," has been deprecated since v"+i+" and will be removed in the near future"))),r?r(u,f,m):!0}};Fo.spelling=function(r){return(i,s)=>(console.warn(`${s} is likely a misspelling of ${r}`),!0)};function s2(t,r,i){if(typeof t!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let l=s.length;for(;l-- >0;){const u=s[l],f=r[u];if(f){const m=t[u],y=m===void 0||f(m,u,t);if(y!==!0)throw new We("option "+u+" must be "+y,We.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new We("Unknown option "+u,We.ERR_BAD_OPTION)}}const fo={assertOptions:s2,validators:Fo},er=fo.validators;let Ca=class{constructor(r){this.defaults=r,this.interceptors={request:new lg,response:new lg}}async request(r,i){try{return await this._request(r,i)}catch(s){if(s instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const u=l.stack?l.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(r,i){typeof r=="string"?(i=i||{},i.url=r):i=r||{},i=wa(this.defaults,i);const{transitional:s,paramsSerializer:l,headers:u}=i;s!==void 0&&fo.assertOptions(s,{silentJSONParsing:er.transitional(er.boolean),forcedJSONParsing:er.transitional(er.boolean),clarifyTimeoutError:er.transitional(er.boolean)},!1),l!=null&&(ue.isFunction(l)?i.paramsSerializer={serialize:l}:fo.assertOptions(l,{encode:er.function,serialize:er.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),fo.assertOptions(i,{baseUrl:er.spelling("baseURL"),withXsrfToken:er.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let f=u&&ue.merge(u.common,u[i.method]);u&&ue.forEach(["delete","get","head","post","put","patch","common"],N=>{delete u[N]}),i.headers=gn.concat(f,u);const m=[];let y=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(i)===!1||(y=y&&O.synchronous,m.unshift(O.fulfilled,O.rejected))});const g=[];this.interceptors.response.forEach(function(O){g.push(O.fulfilled,O.rejected)});let p,b=0,v;if(!y){const N=[pg.bind(this),void 0];for(N.unshift.apply(N,m),N.push.apply(N,g),v=N.length,p=Promise.resolve(i);b<v;)p=p.then(N[b++],N[b++]);return p}v=m.length;let x=i;for(b=0;b<v;){const N=m[b++],O=m[b++];try{x=N(x)}catch(C){O.call(this,C);break}}try{p=pg.call(this,x)}catch(N){return Promise.reject(N)}for(b=0,v=g.length;b<v;)p=p.then(g[b++],g[b++]);return p}getUri(r){r=wa(this.defaults,r);const i=ov(r.baseURL,r.url,r.allowAbsoluteUrls);return rv(i,r.params,r.paramsSerializer)}};ue.forEach(["delete","get","head","options"],function(r){Ca.prototype[r]=function(i,s){return this.request(wa(s||{},{method:r,url:i,data:(s||{}).data}))}});ue.forEach(["post","put","patch"],function(r){function i(s){return function(u,f,m){return this.request(wa(m||{},{method:r,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:f}))}}Ca.prototype[r]=i(),Ca.prototype[r+"Form"]=i(!0)});let i2=class hv{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(u){i=u});const s=this;this.promise.then(l=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](l);s._listeners=null}),this.promise.then=l=>{let u;const f=new Promise(m=>{s.subscribe(m),u=m}).then(l);return f.cancel=function(){s.unsubscribe(u)},f},r(function(u,f,m){s.reason||(s.reason=new As(u,f,m),i(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const r=new AbortController,i=s=>{r.abort(s)};return this.subscribe(i),r.signal.unsubscribe=()=>this.unsubscribe(i),r.signal}static source(){let r;return{token:new hv(function(l){r=l}),cancel:r}}};function l2(t){return function(i){return t.apply(null,i)}}function o2(t){return ue.isObject(t)&&t.isAxiosError===!0}const Cd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cd).forEach(([t,r])=>{Cd[r]=t});function pv(t){const r=new Ca(t),i=Y0(Ca.prototype.request,r);return ue.extend(i,Ca.prototype,r,{allOwnKeys:!0}),ue.extend(i,r,null,{allOwnKeys:!0}),i.create=function(l){return pv(wa(t,l))},i}const _t=pv($i);_t.Axios=Ca;_t.CanceledError=As;_t.CancelToken=i2;_t.isCancel=iv;_t.VERSION=mv;_t.toFormData=Uo;_t.AxiosError=We;_t.Cancel=_t.CanceledError;_t.all=function(r){return Promise.all(r)};_t.spread=l2;_t.isAxiosError=o2;_t.mergeConfig=wa;_t.AxiosHeaders=gn;_t.formToJSON=t=>sv(ue.isHTMLForm(t)?new FormData(t):t);_t.getAdapter=fv.getAdapter;_t.HttpStatusCode=Cd;_t.default=_t;const{Axios:a_,AxiosError:s_,CanceledError:i_,isCancel:l_,CancelToken:o_,VERSION:c_,all:u_,Cancel:d_,isAxiosError:f_,spread:m_,toFormData:h_,AxiosHeaders:p_,HttpStatusCode:g_,formToJSON:v_,getAdapter:b_,mergeConfig:y_}=_t,Ne=_t.create({baseURL:"http://localhost:8080/api",headers:{"Content-Type":"application/json"},withCredentials:!0});let Nr=null;const tf=async()=>{try{return Nr=(await _t.get(`${Ne.defaults.baseURL}/csrf-token`,{withCredentials:!0})).data.csrfToken,Nr}catch(t){return console.error("Erreur lors de la rcupration du token CSRF:",t),null}};tf();Ne.interceptors.request.use(async t=>{var i;const r=localStorage.getItem("token");return r&&(t.headers.Authorization=`Bearer ${r}`),["post","put","delete"].includes(((i=t.method)==null?void 0:i.toLowerCase())||"")&&(Nr||(Nr=await tf()),Nr&&(t.headers["x-csrf-token"]=Nr)),t});Ne.interceptors.response.use(t=>t,async t=>{var r,i;if(t.response&&(t.response.status===401||t.response.status===403)){console.log("Session expire ou authentification invalide"),localStorage.removeItem("token");const s=new CustomEvent("tokenExpired");window.dispatchEvent(s),["/login","/register","/forgot-password","/reset-password"].some(f=>window.location.pathname.includes(f))||(alert("Votre session a expir. Veuillez vous reconnecter."),window.location.href="/login")}if(t.response&&t.response.status===403&&((i=(r=t.response.data)==null?void 0:r.message)!=null&&i.includes("csrf"))){Nr=await tf();const s=t.config;if(Nr)return s.headers["x-csrf-token"]=Nr,_t(s)}return Promise.reject(t)});const gv=async(t,r)=>{try{return(await Ne.post("/login",{identifier:t,password:r})).data}catch(i){throw console.error("Login error:",i),i}},c2=async(t,r,i,s)=>{try{return(await Ne.post("/register",{username:t,nametag:r,email:i,password:s})).data}catch(l){throw console.error("Register error:",l),l}},wd=async()=>{try{return(await Ne.get("/me")).data}catch(t){throw console.error("Get current user error:",t),t}},So=async()=>{try{const t=await Ne.get("/me");return t.data&&t.data.data&&t.data.data.roles?t.data.data.roles.some(i=>i.libelle.toLowerCase()==="admin"):!1}catch(t){return console.error("Check admin error:",t),!1}},u2=async()=>{try{const t=await Ne.post("/revocation",null);return console.log("Token revoked successfully"),t.data}catch(t){throw console.error("Erreur lors de la rvocation du token:",t),t}},Ui=()=>{const t=localStorage.getItem("token");if(!t)return!1;try{const r=t.split(".")[1];if(!r)return!1;const i=r.replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(i).split("").map(u=>"%"+("00"+u.charCodeAt(0).toString(16)).slice(-2)).join("")),l=JSON.parse(s);return l.exp&&l.exp*1e3<Date.now()?(console.log("Token expir selon la date d'expiration"),localStorage.removeItem("token"),!1):!0}catch(r){return console.warn("Impossible de dcoder le token JWT",r),!0}},d2=({user:t,onLogout:r,isAdmin:i})=>{const s=St(),l=Zt(),[u,f]=A.useState(!1),[m,y]=A.useState(!1);A.useEffect(()=>{const p=()=>{const v=Ui();y(!!(!v&&t))};p();const b=setInterval(p,60*1e3);return()=>{clearInterval(b)}},[t]),A.useEffect(()=>{m&&t&&(console.log("Token expir dtect dans Navbar, dconnexion..."),g())},[m,t]);const g=()=>{r(),window.location.href="/"};return c.jsx("div",{className:"navbar-bg",children:c.jsxs("div",{className:"navbar",children:[c.jsx("img",{src:q0,alt:"TierHub Logo",className:"logo",onClick:()=>s("/")}),c.jsxs("div",{className:`nav-links ${u?"active":""}`,children:[c.jsx("button",{className:l.pathname==="/tierlists"?"active":"",onClick:()=>s("/tierlists"),children:"TierList"}),c.jsx("button",{className:l.pathname==="/classements"?"active":"",onClick:()=>s("/classements"),children:"Classement"}),c.jsx("button",{className:l.pathname==="/tournois"?"active":"",onClick:()=>s("/tournois"),children:"Tournois"}),c.jsx("button",{className:l.pathname==="/allalbum"?"active":"",onClick:()=>s("/allalbum"),children:"Albums"}),i&&t&&c.jsx("button",{className:`admin ${l.pathname==="/admin"?"active":""}`,onClick:()=>s("/admin"),children:"ADMIN"})]}),c.jsxs("div",{className:"nav-actions",children:[c.jsx(MS,{position:"navbar"}),t?c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"add-album-button",onClick:()=>s("/add-album"),children:"Add Album"}),c.jsx("img",{src:G0,alt:"Profil",className:"profile-pic square",onClick:()=>s("/profile")}),c.jsx("div",{className:"profile-dropdown",children:c.jsxs("div",{className:"dropdown-content",children:[c.jsxs("div",{className:"dropdown-user-info",children:[c.jsx("p",{className:"dropdown-username",children:t}),c.jsx("p",{children:i?"Administrateur":"Utilisateur"})]}),c.jsx("button",{onClick:()=>s("/profile"),children:"Mon profil"}),c.jsx("button",{onClick:()=>s("/add-album"),children:"Ajouter un album"}),c.jsx("button",{className:"logout-button",onClick:g,children:"Se dconnecter"})]})})]}):c.jsx("button",{onClick:()=>s("/login"),className:"login-button",children:"Connexion"})]}),c.jsx("button",{className:"mobile-menu-toggle",onClick:()=>f(!u),children:c.jsxs("div",{className:`hamburger ${u?"active":""}`,children:[c.jsx("span",{}),c.jsx("span",{}),c.jsx("span",{})]})})]})})},f2=()=>{const t=new Date().getFullYear();return c.jsxs("footer",{className:"footer-container",children:[c.jsxs("div",{className:"footer-content",children:[c.jsxs("div",{className:"footer-section about",children:[c.jsx("div",{className:"footer-logo",children:c.jsx("img",{src:q0,alt:"TierHub Logo"})}),c.jsx("p",{children:"Crez et partagez des tierlist, tournois et classements pour vos passions."})]}),c.jsxs("div",{className:"footer-section links",children:[c.jsx("h3",{children:"Liens rapides"}),c.jsxs("ul",{children:[c.jsx("li",{children:c.jsx(Vr,{to:"/tierlists",children:"Tierlists"})}),c.jsx("li",{children:c.jsx(Vr,{to:"/tournois",children:"Tournois"})}),c.jsx("li",{children:c.jsx(Vr,{to:"/classements",children:"Classements"})}),c.jsx("li",{children:c.jsx(Vr,{to:"/allalbum",children:"Albums"})})]})]}),c.jsxs("div",{className:"footer-section contact",children:[c.jsx("h3",{children:"Contact"}),c.jsx("p",{children:"Des questions ou suggestions ?"}),c.jsx("a",{href:"mailto:contact@tierhub.com",className:"contact-link",children:"contact@tierhub.com"})]})]}),c.jsxs("div",{className:"footer-bottom",children:[c.jsxs("p",{children:[" ",t," TierHub - Tous droits rservs"]}),c.jsxs("div",{className:"footer-legal",children:[c.jsx(Vr,{to:"/terms",children:"Conditions d'utilisation"}),c.jsx(Vr,{to:"/privacy",children:"Politique de confidentialit"})]})]})]})},rr=({name:t,image:r,categories:i=[],authorName:s})=>{const l=y=>y&&(y.startsWith("http")||y.startsWith("/")),u="/assets/default-image.jpg",f=l(r)?r:u,m=y=>{y.currentTarget.src=u};return c.jsxs("div",{className:"category-card",children:[c.jsx("img",{src:f,alt:t,onError:m}),c.jsx("h3",{children:t}),i&&i.length>0&&c.jsxs("div",{className:"card-categories",children:[i.slice(0,2).map((y,g)=>c.jsx("span",{className:"card-category-badge",children:y},g)),i.length>2&&c.jsxs("span",{className:"card-category-badge",children:["+",i.length-2]})]}),s&&c.jsx("div",{className:"card-author",children:c.jsxs("span",{children:["Par ",s]})}),c.jsx("div",{className:"card-stats"})]})};var Vl={exports:{}},Xr={},sd={exports:{}},id,vg;function m2(){if(vg)return id;vg=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return id=t,id}var ld,bg;function h2(){if(bg)return ld;bg=1;var t=m2();function r(){}function i(){}return i.resetWarningCache=r,ld=function(){function s(f,m,y,g,p,b){if(b!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}s.isRequired=s;function l(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:l,element:s,elementType:s,instanceOf:l,node:s,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:i,resetWarningCache:r};return u.PropTypes=u,u},ld}var yg;function vv(){return yg||(yg=1,sd.exports=h2()()),sd.exports}var Wl={exports:{}},Ln={},eo={exports:{}},xg;function bv(){return xg||(xg=1,function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=p;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var i="none",s="contents",l=/^(input|select|textarea|button|object|iframe)$/;function u(b,v){return v.getPropertyValue("overflow")!=="visible"||b.scrollWidth<=0&&b.scrollHeight<=0}function f(b){var v=b.offsetWidth<=0&&b.offsetHeight<=0;if(v&&!b.innerHTML)return!0;try{var x=window.getComputedStyle(b),N=x.getPropertyValue("display");return v?N!==s&&u(b,x):N===i}catch{return console.warn("Failed to inspect element style"),!1}}function m(b){for(var v=b,x=b.getRootNode&&b.getRootNode();v&&v!==document.body;){if(x&&v===x&&(v=x.host.parentNode),f(v))return!1;v=v.parentNode}return!0}function y(b,v){var x=b.nodeName.toLowerCase(),N=l.test(x)&&!b.disabled||x==="a"&&b.href||v;return N&&m(b)}function g(b){var v=b.getAttribute("tabindex");v===null&&(v=void 0);var x=isNaN(v);return(x||v>=0)&&y(b,!x)}function p(b){var v=[].slice.call(b.querySelectorAll("*"),0).reduce(function(x,N){return x.concat(N.shadowRoot?p(N.shadowRoot):[N])},[]);return v.filter(g)}t.exports=r.default}(eo,eo.exports)),eo.exports}var Sg;function p2(){if(Sg)return Ln;Sg=1,Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.resetState=f,Ln.log=m,Ln.handleBlur=y,Ln.handleFocus=g,Ln.markForFocusLater=p,Ln.returnFocus=b,Ln.popWithoutFocus=v,Ln.setupScopedFocus=x,Ln.teardownScopedFocus=N;var t=bv(),r=i(t);function i(O){return O&&O.__esModule?O:{default:O}}var s=[],l=null,u=!1;function f(){s=[]}function m(){}function y(){u=!0}function g(){if(u){if(u=!1,!l)return;setTimeout(function(){if(!l.contains(document.activeElement)){var O=(0,r.default)(l)[0]||l;O.focus()}},0)}}function p(){s.push(document.activeElement)}function b(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,C=null;try{s.length!==0&&(C=s.pop(),C.focus({preventScroll:O}));return}catch{console.warn(["You tried to return focus to",C,"but it is not in the DOM anymore"].join(" "))}}function v(){s.length>0&&s.pop()}function x(O){l=O,window.addEventListener?(window.addEventListener("blur",y,!1),document.addEventListener("focus",g,!0)):(window.attachEvent("onBlur",y),document.attachEvent("onFocus",g))}function N(){l=null,window.addEventListener?(window.removeEventListener("blur",y),document.removeEventListener("focus",g)):(window.detachEvent("onBlur",y),document.detachEvent("onFocus",g))}return Ln}var to={exports:{}},Eg;function g2(){return Eg||(Eg=1,function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=f;var i=bv(),s=l(i);function l(m){return m&&m.__esModule?m:{default:m}}function u(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return m.activeElement.shadowRoot?u(m.activeElement.shadowRoot):m.activeElement}function f(m,y){var g=(0,s.default)(m);if(!g.length){y.preventDefault();return}var p=void 0,b=y.shiftKey,v=g[0],x=g[g.length-1],N=u();if(m===N){if(!b)return;p=x}if(x===N&&!b&&(p=v),v===N&&b&&(p=x),p){y.preventDefault(),p.focus();return}var O=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),C=O!=null&&O[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(C){var w=g.indexOf(N);if(w>-1&&(w+=b?-1:1),p=g[w],typeof p>"u"){y.preventDefault(),p=b?x:v,p.focus();return}y.preventDefault(),p.focus()}}t.exports=r.default}(to,to.exports)),to.exports}var Hn={},od,Ng;function v2(){if(Ng)return od;Ng=1;var t=function(){};return od=t,od}var tr={},cd={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var Tg;function b2(){return Tg||(Tg=1,function(t){(function(){var r=!!(typeof window<"u"&&window.document&&window.document.createElement),i={canUseDOM:r,canUseWorkers:typeof Worker<"u",canUseEventListeners:r&&!!(window.addEventListener||window.attachEvent),canUseViewport:r&&!!window.screen};t.exports?t.exports=i:window.ExecutionEnvironment=i})()}(cd)),cd.exports}var jg;function nf(){if(jg)return tr;jg=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.canUseDOM=tr.SafeNodeList=tr.SafeHTMLCollection=void 0;var t=b2(),r=i(t);function i(u){return u&&u.__esModule?u:{default:u}}var s=r.default,l=s.canUseDOM?window.HTMLElement:{};return tr.SafeHTMLCollection=s.canUseDOM?window.HTMLCollection:{},tr.SafeNodeList=s.canUseDOM?window.NodeList:{},tr.canUseDOM=s.canUseDOM,tr.default=l,tr}var Ag;function yv(){if(Ag)return Hn;Ag=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.resetState=u,Hn.log=f,Hn.assertNodeList=m,Hn.setElement=y,Hn.validateElement=g,Hn.hide=p,Hn.show=b,Hn.documentNotReadyOrSSRTesting=v;var t=v2(),r=s(t),i=nf();function s(x){return x&&x.__esModule?x:{default:x}}var l=null;function u(){l&&(l.removeAttribute?l.removeAttribute("aria-hidden"):l.length!=null?l.forEach(function(x){return x.removeAttribute("aria-hidden")}):document.querySelectorAll(l).forEach(function(x){return x.removeAttribute("aria-hidden")})),l=null}function f(){}function m(x,N){if(!x||!x.length)throw new Error("react-modal: No elements were found for selector "+N+".")}function y(x){var N=x;if(typeof N=="string"&&i.canUseDOM){var O=document.querySelectorAll(N);m(O,N),N=O}return l=N||l,l}function g(x){var N=x||l;return N?Array.isArray(N)||N instanceof HTMLCollection||N instanceof NodeList?N:[N]:((0,r.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function p(x){var N=!0,O=!1,C=void 0;try{for(var w=g(x)[Symbol.iterator](),G;!(N=(G=w.next()).done);N=!0){var $=G.value;$.setAttribute("aria-hidden","true")}}catch(z){O=!0,C=z}finally{try{!N&&w.return&&w.return()}finally{if(O)throw C}}}function b(x){var N=!0,O=!1,C=void 0;try{for(var w=g(x)[Symbol.iterator](),G;!(N=(G=w.next()).done);N=!0){var $=G.value;$.removeAttribute("aria-hidden")}}catch(z){O=!0,C=z}finally{try{!N&&w.return&&w.return()}finally{if(O)throw C}}}function v(){l=null}return Hn}var Na={},Cg;function y2(){if(Cg)return Na;Cg=1,Object.defineProperty(Na,"__esModule",{value:!0}),Na.resetState=s,Na.log=l;var t={},r={};function i(g,p){g.classList.remove(p)}function s(){var g=document.getElementsByTagName("html")[0];for(var p in t)i(g,t[p]);var b=document.body;for(var v in r)i(b,r[v]);t={},r={}}function l(){}var u=function(p,b){return p[b]||(p[b]=0),p[b]+=1,b},f=function(p,b){return p[b]&&(p[b]-=1),b},m=function(p,b,v){v.forEach(function(x){u(b,x),p.add(x)})},y=function(p,b,v){v.forEach(function(x){f(b,x),b[x]===0&&p.remove(x)})};return Na.add=function(p,b){return m(p.classList,p.nodeName.toLowerCase()=="html"?t:r,b.split(" "))},Na.remove=function(p,b){return y(p.classList,p.nodeName.toLowerCase()=="html"?t:r,b.split(" "))},Na}var ms={},wg;function xv(){if(wg)return ms;wg=1,Object.defineProperty(ms,"__esModule",{value:!0}),ms.log=s,ms.resetState=l;function t(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var r=function u(){var f=this;t(this,u),this.register=function(m){f.openInstances.indexOf(m)===-1&&(f.openInstances.push(m),f.emit("register"))},this.deregister=function(m){var y=f.openInstances.indexOf(m);y!==-1&&(f.openInstances.splice(y,1),f.emit("deregister"))},this.subscribe=function(m){f.subscribers.push(m)},this.emit=function(m){f.subscribers.forEach(function(y){return y(m,f.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},i=new r;function s(){console.log("portalOpenInstances ----------"),console.log(i.openInstances.length),i.openInstances.forEach(function(u){return console.log(u)}),console.log("end portalOpenInstances ----------")}function l(){i=new r}return ms.default=i,ms}var wi={},Rg;function x2(){if(Rg)return wi;Rg=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.resetState=f,wi.log=m;var t=xv(),r=i(t);function i(p){return p&&p.__esModule?p:{default:p}}var s=void 0,l=void 0,u=[];function f(){for(var p=[s,l],b=0;b<p.length;b++){var v=p[b];v&&v.parentNode&&v.parentNode.removeChild(v)}s=l=null,u=[]}function m(){console.log("bodyTrap ----------"),console.log(u.length);for(var p=[s,l],b=0;b<p.length;b++){var v=p[b],x=v||{};console.log(x.nodeName,x.className,x.id)}console.log("edn bodyTrap ----------")}function y(){u.length!==0&&u[u.length-1].focusContent()}function g(p,b){!s&&!l&&(s=document.createElement("div"),s.setAttribute("data-react-modal-body-trap",""),s.style.position="absolute",s.style.opacity="0",s.setAttribute("tabindex","0"),s.addEventListener("focus",y),l=s.cloneNode(),l.addEventListener("focus",y)),u=b,u.length>0?(document.body.firstChild!==s&&document.body.insertBefore(s,document.body.firstChild),document.body.lastChild!==l&&document.body.appendChild(l)):(s.parentElement&&s.parentElement.removeChild(s),l.parentElement&&l.parentElement.removeChild(l))}return r.default.subscribe(g),wi}var _g;function S2(){return _g||(_g=1,function(t,r){Object.defineProperty(r,"__esModule",{value:!0});var i=Object.assign||function(F){for(var q=1;q<arguments.length;q++){var T=arguments[q];for(var S in T)Object.prototype.hasOwnProperty.call(T,S)&&(F[S]=T[S])}return F},s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},l=function(){function F(q,T){for(var S=0;S<T.length;S++){var I=T[S];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(q,I.key,I)}}return function(q,T,S){return T&&F(q.prototype,T),S&&F(q,S),q}}(),u=zi(),f=vv(),m=B(f),y=p2(),g=z(y),p=g2(),b=B(p),v=yv(),x=z(v),N=y2(),O=z(N),C=nf(),w=B(C),G=xv(),$=B(G);x2();function z(F){if(F&&F.__esModule)return F;var q={};if(F!=null)for(var T in F)Object.prototype.hasOwnProperty.call(F,T)&&(q[T]=F[T]);return q.default=F,q}function B(F){return F&&F.__esModule?F:{default:F}}function D(F,q){if(!(F instanceof q))throw new TypeError("Cannot call a class as a function")}function Z(F,q){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:F}function R(F,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);F.prototype=Object.create(q&&q.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(F,q):F.__proto__=q)}var E={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},M=function(q){return q.code==="Tab"||q.keyCode===9},k=function(q){return q.code==="Escape"||q.keyCode===27},U=0,H=function(F){R(q,F);function q(T){D(this,q);var S=Z(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,T));return S.setOverlayRef=function(I){S.overlay=I,S.props.overlayRef&&S.props.overlayRef(I)},S.setContentRef=function(I){S.content=I,S.props.contentRef&&S.props.contentRef(I)},S.afterClose=function(){var I=S.props,P=I.appElement,_=I.ariaHideApp,Q=I.htmlOpenClassName,Y=I.bodyOpenClassName,W=I.parentSelector,K=W&&W().ownerDocument||document;Y&&O.remove(K.body,Y),Q&&O.remove(K.getElementsByTagName("html")[0],Q),_&&U>0&&(U-=1,U===0&&x.show(P)),S.props.shouldFocusAfterRender&&(S.props.shouldReturnFocusAfterClose?(g.returnFocus(S.props.preventScroll),g.teardownScopedFocus()):g.popWithoutFocus()),S.props.onAfterClose&&S.props.onAfterClose(),$.default.deregister(S)},S.open=function(){S.beforeOpen(),S.state.afterOpen&&S.state.beforeClose?(clearTimeout(S.closeTimer),S.setState({beforeClose:!1})):(S.props.shouldFocusAfterRender&&(g.setupScopedFocus(S.node),g.markForFocusLater()),S.setState({isOpen:!0},function(){S.openAnimationFrame=requestAnimationFrame(function(){S.setState({afterOpen:!0}),S.props.isOpen&&S.props.onAfterOpen&&S.props.onAfterOpen({overlayEl:S.overlay,contentEl:S.content})})}))},S.close=function(){S.props.closeTimeoutMS>0?S.closeWithTimeout():S.closeWithoutTimeout()},S.focusContent=function(){return S.content&&!S.contentHasFocus()&&S.content.focus({preventScroll:!0})},S.closeWithTimeout=function(){var I=Date.now()+S.props.closeTimeoutMS;S.setState({beforeClose:!0,closesAt:I},function(){S.closeTimer=setTimeout(S.closeWithoutTimeout,S.state.closesAt-Date.now())})},S.closeWithoutTimeout=function(){S.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},S.afterClose)},S.handleKeyDown=function(I){M(I)&&(0,b.default)(S.content,I),S.props.shouldCloseOnEsc&&k(I)&&(I.stopPropagation(),S.requestClose(I))},S.handleOverlayOnClick=function(I){S.shouldClose===null&&(S.shouldClose=!0),S.shouldClose&&S.props.shouldCloseOnOverlayClick&&(S.ownerHandlesClose()?S.requestClose(I):S.focusContent()),S.shouldClose=null},S.handleContentOnMouseUp=function(){S.shouldClose=!1},S.handleOverlayOnMouseDown=function(I){!S.props.shouldCloseOnOverlayClick&&I.target==S.overlay&&I.preventDefault()},S.handleContentOnClick=function(){S.shouldClose=!1},S.handleContentOnMouseDown=function(){S.shouldClose=!1},S.requestClose=function(I){return S.ownerHandlesClose()&&S.props.onRequestClose(I)},S.ownerHandlesClose=function(){return S.props.onRequestClose},S.shouldBeClosed=function(){return!S.state.isOpen&&!S.state.beforeClose},S.contentHasFocus=function(){return document.activeElement===S.content||S.content.contains(document.activeElement)},S.buildClassName=function(I,P){var _=(typeof P>"u"?"undefined":s(P))==="object"?P:{base:E[I],afterOpen:E[I]+"--after-open",beforeClose:E[I]+"--before-close"},Q=_.base;return S.state.afterOpen&&(Q=Q+" "+_.afterOpen),S.state.beforeClose&&(Q=Q+" "+_.beforeClose),typeof P=="string"&&P?Q+" "+P:Q},S.attributesFromObject=function(I,P){return Object.keys(P).reduce(function(_,Q){return _[I+"-"+Q]=P[Q],_},{})},S.state={afterOpen:!1,beforeClose:!1},S.shouldClose=null,S.moveFromContentToOverlay=null,S}return l(q,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(S,I){this.props.isOpen&&!S.isOpen?this.open():!this.props.isOpen&&S.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!I.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var S=this.props,I=S.appElement,P=S.ariaHideApp,_=S.htmlOpenClassName,Q=S.bodyOpenClassName,Y=S.parentSelector,W=Y&&Y().ownerDocument||document;Q&&O.add(W.body,Q),_&&O.add(W.getElementsByTagName("html")[0],_),P&&(U+=1,x.hide(I)),$.default.register(this)}},{key:"render",value:function(){var S=this.props,I=S.id,P=S.className,_=S.overlayClassName,Q=S.defaultStyles,Y=S.children,W=P?{}:Q.content,K=_?{}:Q.overlay;if(this.shouldBeClosed())return null;var J={ref:this.setOverlayRef,className:this.buildClassName("overlay",_),style:i({},K,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},ve=i({id:I,ref:this.setContentRef,style:i({},W,this.props.style.content),className:this.buildClassName("content",P),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",i({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Fe=this.props.contentElement(ve,Y);return this.props.overlayElement(J,Fe)}}]),q}(u.Component);H.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},H.propTypes={isOpen:m.default.bool.isRequired,defaultStyles:m.default.shape({content:m.default.object,overlay:m.default.object}),style:m.default.shape({content:m.default.object,overlay:m.default.object}),className:m.default.oneOfType([m.default.string,m.default.object]),overlayClassName:m.default.oneOfType([m.default.string,m.default.object]),parentSelector:m.default.func,bodyOpenClassName:m.default.string,htmlOpenClassName:m.default.string,ariaHideApp:m.default.bool,appElement:m.default.oneOfType([m.default.instanceOf(w.default),m.default.instanceOf(C.SafeHTMLCollection),m.default.instanceOf(C.SafeNodeList),m.default.arrayOf(m.default.instanceOf(w.default))]),onAfterOpen:m.default.func,onAfterClose:m.default.func,onRequestClose:m.default.func,closeTimeoutMS:m.default.number,shouldFocusAfterRender:m.default.bool,shouldCloseOnOverlayClick:m.default.bool,shouldReturnFocusAfterClose:m.default.bool,preventScroll:m.default.bool,role:m.default.string,contentLabel:m.default.string,aria:m.default.object,data:m.default.object,children:m.default.node,shouldCloseOnEsc:m.default.bool,overlayRef:m.default.func,contentRef:m.default.func,id:m.default.string,overlayElement:m.default.func,contentElement:m.default.func,testId:m.default.string},r.default=H,t.exports=r.default}(Wl,Wl.exports)),Wl.exports}function Sv(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function Ev(t){function r(i){var s=this.constructor.getDerivedStateFromProps(t,i);return s??null}this.setState(r.bind(this))}function Nv(t,r){try{var i=this.props,s=this.state;this.props=t,this.state=r,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(i,s)}finally{this.props=i,this.state=s}}Sv.__suppressDeprecationWarning=!0;Ev.__suppressDeprecationWarning=!0;Nv.__suppressDeprecationWarning=!0;function E2(t){var r=t.prototype;if(!r||!r.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof r.getSnapshotBeforeUpdate!="function")return t;var i=null,s=null,l=null;if(typeof r.componentWillMount=="function"?i="componentWillMount":typeof r.UNSAFE_componentWillMount=="function"&&(i="UNSAFE_componentWillMount"),typeof r.componentWillReceiveProps=="function"?s="componentWillReceiveProps":typeof r.UNSAFE_componentWillReceiveProps=="function"&&(s="UNSAFE_componentWillReceiveProps"),typeof r.componentWillUpdate=="function"?l="componentWillUpdate":typeof r.UNSAFE_componentWillUpdate=="function"&&(l="UNSAFE_componentWillUpdate"),i!==null||s!==null||l!==null){var u=t.displayName||t.name,f=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+u+" uses "+f+" but also contains the following legacy lifecycles:"+(i!==null?`
  `+i:"")+(s!==null?`
  `+s:"")+(l!==null?`
  `+l:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(r.componentWillMount=Sv,r.componentWillReceiveProps=Ev),typeof r.getSnapshotBeforeUpdate=="function"){if(typeof r.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");r.componentWillUpdate=Nv;var m=r.componentDidUpdate;r.componentDidUpdate=function(g,p,b){var v=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:b;m.call(this,g,p,v)}}return t}const N2=Object.freeze(Object.defineProperty({__proto__:null,polyfill:E2},Symbol.toStringTag,{value:"Module"})),T2=t1(N2);var Og;function j2(){if(Og)return Xr;Og=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.bodyOpenClassName=Xr.portalClassName=void 0;var t=Object.assign||function(k){for(var U=1;U<arguments.length;U++){var H=arguments[U];for(var F in H)Object.prototype.hasOwnProperty.call(H,F)&&(k[F]=H[F])}return k},r=function(){function k(U,H){for(var F=0;F<H.length;F++){var q=H[F];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(U,q.key,q)}}return function(U,H,F){return H&&k(U.prototype,H),F&&k(U,F),U}}(),i=zi(),s=C(i),l=w0(),u=C(l),f=vv(),m=C(f),y=S2(),g=C(y),p=yv(),b=O(p),v=nf(),x=C(v),N=T2;function O(k){if(k&&k.__esModule)return k;var U={};if(k!=null)for(var H in k)Object.prototype.hasOwnProperty.call(k,H)&&(U[H]=k[H]);return U.default=k,U}function C(k){return k&&k.__esModule?k:{default:k}}function w(k,U){if(!(k instanceof U))throw new TypeError("Cannot call a class as a function")}function G(k,U){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:k}function $(k,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);k.prototype=Object.create(U&&U.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(k,U):k.__proto__=U)}var z=Xr.portalClassName="ReactModalPortal",B=Xr.bodyOpenClassName="ReactModal__Body--open",D=v.canUseDOM&&u.default.createPortal!==void 0,Z=function(U){return document.createElement(U)},R=function(){return D?u.default.createPortal:u.default.unstable_renderSubtreeIntoContainer};function E(k){return k()}var M=function(k){$(U,k);function U(){var H,F,q,T;w(this,U);for(var S=arguments.length,I=Array(S),P=0;P<S;P++)I[P]=arguments[P];return T=(F=(q=G(this,(H=U.__proto__||Object.getPrototypeOf(U)).call.apply(H,[this].concat(I))),q),q.removePortal=function(){!D&&u.default.unmountComponentAtNode(q.node);var _=E(q.props.parentSelector);_&&_.contains(q.node)?_.removeChild(q.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},q.portalRef=function(_){q.portal=_},q.renderPortal=function(_){var Q=R(),Y=Q(q,s.default.createElement(g.default,t({defaultStyles:U.defaultStyles},_)),q.node);q.portalRef(Y)},F),G(q,T)}return r(U,[{key:"componentDidMount",value:function(){if(v.canUseDOM){D||(this.node=Z("div")),this.node.className=this.props.portalClassName;var F=E(this.props.parentSelector);F.appendChild(this.node),!D&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(F){var q=E(F.parentSelector),T=E(this.props.parentSelector);return{prevParent:q,nextParent:T}}},{key:"componentDidUpdate",value:function(F,q,T){if(v.canUseDOM){var S=this.props,I=S.isOpen,P=S.portalClassName;F.portalClassName!==P&&(this.node.className=P);var _=T.prevParent,Q=T.nextParent;Q!==_&&(_.removeChild(this.node),Q.appendChild(this.node)),!(!F.isOpen&&!I)&&!D&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!v.canUseDOM||!this.node||!this.portal)){var F=this.portal.state,q=Date.now(),T=F.isOpen&&this.props.closeTimeoutMS&&(F.closesAt||q+this.props.closeTimeoutMS);T?(F.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,T-q)):this.removePortal()}}},{key:"render",value:function(){if(!v.canUseDOM||!D)return null;!this.node&&D&&(this.node=Z("div"));var F=R();return F(s.default.createElement(g.default,t({ref:this.portalRef,defaultStyles:U.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(F){b.setElement(F)}}]),U}(i.Component);return M.propTypes={isOpen:m.default.bool.isRequired,style:m.default.shape({content:m.default.object,overlay:m.default.object}),portalClassName:m.default.string,bodyOpenClassName:m.default.string,htmlOpenClassName:m.default.string,className:m.default.oneOfType([m.default.string,m.default.shape({base:m.default.string.isRequired,afterOpen:m.default.string.isRequired,beforeClose:m.default.string.isRequired})]),overlayClassName:m.default.oneOfType([m.default.string,m.default.shape({base:m.default.string.isRequired,afterOpen:m.default.string.isRequired,beforeClose:m.default.string.isRequired})]),appElement:m.default.oneOfType([m.default.instanceOf(x.default),m.default.instanceOf(v.SafeHTMLCollection),m.default.instanceOf(v.SafeNodeList),m.default.arrayOf(m.default.instanceOf(x.default))]),onAfterOpen:m.default.func,onRequestClose:m.default.func,closeTimeoutMS:m.default.number,ariaHideApp:m.default.bool,shouldFocusAfterRender:m.default.bool,shouldCloseOnOverlayClick:m.default.bool,shouldReturnFocusAfterClose:m.default.bool,preventScroll:m.default.bool,parentSelector:m.default.func,aria:m.default.object,data:m.default.object,role:m.default.string,contentLabel:m.default.string,shouldCloseOnEsc:m.default.bool,overlayRef:m.default.func,contentRef:m.default.func,id:m.default.string,overlayElement:m.default.func,contentElement:m.default.func},M.defaultProps={isOpen:!1,portalClassName:z,bodyOpenClassName:B,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(U,H){return s.default.createElement("div",U,H)},contentElement:function(U,H){return s.default.createElement("div",U,H)}},M.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,N.polyfill)(M),Xr.default=M,Xr}var Dg;function A2(){return Dg||(Dg=1,function(t,r){Object.defineProperty(r,"__esModule",{value:!0});var i=j2(),s=l(i);function l(u){return u&&u.__esModule?u:{default:u}}r.default=s.default,t.exports=r.default}(Vl,Vl.exports)),Vl.exports}var C2=A2();const Nn=C0(C2);Nn.setAppElement("#root");const rf=({isOpen:t,onClose:r,albumName:i,albumId:s,isUserLoggedIn:l=!0,categories:u=[]})=>{const f=St(),[m,y]=A.useState(null),[g,p]=A.useState(""),b=()=>{switch(m){case"tierlist":return`Tierlist ${i}`;case"tournoi":return`Tournoi ${i}`;case"classement":return`Classement ${i}`;default:return""}};s1.useEffect(()=>{p(b())},[m,i]);const v=()=>{if(!m)return;const N={tierlist:"tierlists",tournoi:"tournois",classement:"classements"},O=new URLSearchParams;O.append("album",s),O.append("type",N[m]),O.append("name",g),u&&u.length>0&&console.log("Catgories utilises:",u),f(`/setup?${O.toString()}`),r()},x=()=>{f("/login"),r()};return c.jsxs(Nn,{isOpen:t,onRequestClose:r,className:"album-modal-content",overlayClassName:"album-modal-overlay",children:[c.jsxs("div",{className:"album-modal-header",children:[c.jsxs("h2",{children:[`Utiliser l'album "`,i,'"']}),c.jsx("button",{className:"close-button",onClick:r,children:""})]}),c.jsx("p",{className:"album-modal-subtitle",children:"Que souhaitez-vous crer avec cet album ?"}),c.jsxs("div",{className:"album-options",children:[c.jsxs("div",{className:`album-option ${m==="tierlist"?"selected":""}`,onClick:()=>y("tierlist"),children:[c.jsx("div",{className:"option-icon tierlist-icon",children:""}),c.jsx("span",{className:"option-label",children:"Tierlist"})]}),c.jsxs("div",{className:`album-option ${m==="tournoi"?"selected":""}`,onClick:()=>y("tournoi"),children:[c.jsx("div",{className:"option-icon tournoi-icon",children:""}),c.jsx("span",{className:"option-label",children:"Tournoi"})]}),c.jsxs("div",{className:`album-option ${m==="classement"?"selected":""}`,onClick:()=>y("classement"),children:[c.jsx("div",{className:"option-icon classement-icon",children:""}),c.jsx("span",{className:"option-label",children:"Classement"})]})]}),m&&c.jsxs("div",{className:"name-input-container",children:[c.jsx("label",{htmlFor:"custom-name",children:"Nom personnalis :"}),c.jsx("input",{type:"text",id:"custom-name",value:g,onChange:N=>p(N.target.value),placeholder:`Entrez un nom pour votre ${m}`})]}),!l&&m&&c.jsxs("div",{className:"login-message",children:[c.jsxs("p",{children:["Vous n'tes pas connect ! Vous pourrez crer un ",m," ","mais ne pourrez pas l'enregistrer."]}),c.jsx("button",{className:"login-button",onClick:x,children:"Se connecter"})]}),c.jsxs("div",{className:"album-modal-actions",children:[c.jsx("button",{className:"cancel-button",onClick:r,children:"Annuler"}),c.jsx("button",{className:"create-button",onClick:v,disabled:!m,children:"Continuer"})]})]})},Tv=async t=>{try{const i=(await Ne.get(`/album/${t}`)).data.data;if(!i)return null;let s=0,l=0,u=0;const f=s+l+u,m=i.images?i.images.length:0;return{id:i.id,name:i.name,tierlistCount:s,tournamentCount:l,rankingCount:u,totalUsageCount:f,imageCount:m,categories:i.categories.map(y=>y.name),imagePath:i.images&&i.images.length>0?i.images[0].path_image:"/default-image.jpg",authorName:i.author.username}}catch(r){return console.warn(`Erreur lors de la rcupration des statistiques pour l'album ${t}:`,r),null}},w2=async(t=10)=>{try{const i=(await Ne.get("/album")).data.data.filter(l=>l.status==="public"),s=[];for(const l of i)try{const u=await Tv(l.id);u&&s.push(u)}catch(u){console.warn(`Erreur lors de la rcupration des statistiques pour l'album ${l.id}:`,u)}return s.sort((l,u)=>u.imageCount-l.imageCount),s.slice(0,t)}catch(r){return console.error("Erreur lors de la rcupration des albums par richesse en images:",r),[]}},R2=async()=>{var t;try{const i=(await Ne.get("/album")).data.data.filter(l=>l.status==="public");console.log(i);const s=new Map;for(const l of i)try{const u=await Tv(l.id);if(u)for(const f of u.categories)s.has(f)||s.set(f,[]),(t=s.get(f))==null||t.push(u)}catch(u){console.warn(`Erreur lors de la rcupration des statistiques pour l'album ${l.id}:`,u)}return s.forEach((l,u)=>{l.sort((f,m)=>m.imageCount-f.imageCount),s.set(u,l.slice(0,8))}),s}catch(r){return console.error("Erreur lors de la rcupration des albums riches en images par catgorie:",r),new Map}},_2=2,O2=2,D2=({user:t})=>{const r=St(),[i,s]=A.useState(!1),[l,u]=A.useState(null),[f,m]=A.useState([]),[y,g]=A.useState([]),[p,b]=A.useState([]),[v,x]=A.useState(!0),[N,O]=A.useState(null),C=A.useRef(null);A.useEffect(()=>{(async()=>{try{x(!0),O(null);const B=await w2(7);m(B);try{const D=await R2(),Z=Array.from(D.entries()).map(([R,E])=>({title:R,albums:E})).filter(R=>R.albums.length>0);g(Z),b(Z.slice(0,_2))}catch(D){console.error("Erreur lors de la rcupration des albums par catgorie:",D)}x(!1)}catch(B){console.error("Erreur lors de la rcupration des albums:",B),O("Impossible de charger les albums. Veuillez ressayer plus tard."),x(!1)}})()},[]);const w=A.useCallback(()=>{b(z=>{const B=z.length,D=y.slice(B,B+O2);return[...z,...D]})},[y]);A.useEffect(()=>{const z={root:null,rootMargin:"0px",threshold:.1},B=new IntersectionObserver(D=>{const[Z]=D;Z.isIntersecting&&p.length<y.length&&w()},z);return C.current&&B.observe(C.current),()=>{C.current&&B.unobserve(C.current)}},[C,p.length,y.length,w]);const G=z=>{r(z?`/allalbum?category=${encodeURIComponent(z)}`:"/allalbum")},$=z=>{u(z),s(!0)};return v?c.jsx("div",{className:"homepage",children:c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Chargement des albums..."})]})}):N?c.jsx("div",{className:"homepage",children:c.jsxs("div",{className:"error-container",children:[c.jsx("h2",{children:"Erreur"}),c.jsx("p",{children:N}),c.jsx("button",{onClick:()=>window.location.reload(),children:"Ressayer"})]})}):c.jsxs("div",{className:"homepage",children:[c.jsxs("div",{className:"album-populaire-header",children:[c.jsx("h2",{className:"section-title",children:"Albums Populaires"}),c.jsx("button",{className:"view-more",onClick:()=>G(null),children:"Voir tout"})]}),f.length>0?c.jsx("div",{className:"categories",children:f.map((z,B)=>c.jsxs("div",{onClick:()=>$(z),className:"category-container",children:[c.jsxs("div",{className:"album-usage-count",children:[z.imageCount," ",z.imageCount===1?"image":"images"]}),c.jsx(rr,{name:z.name,image:z.imagePath,categories:z.categories,authorName:z.authorName})]},`popular-${z.id}-${B}`))}):c.jsx("p",{className:"no-items",children:"Aucun album populaire disponible"}),p.map((z,B)=>c.jsxs("div",{children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h3",{className:"section-title",children:z.title}),c.jsx("button",{onClick:()=>G(z.title),className:"view-more",children:"Voir Plus"})]}),c.jsx("div",{className:"categories",children:z.albums.map((D,Z)=>c.jsxs("div",{onClick:()=>$(D),className:"category-container",children:[c.jsxs("div",{className:"album-usage-count",children:[D.imageCount," ",D.imageCount===1?"image":"images"]}),c.jsx(rr,{name:D.name,image:D.imagePath,categories:D.categories,authorName:D.authorName})]},`category-${D.id}-${Z}`))})]},`section-${z.title}-${B}`)),p.length<y.length&&c.jsxs("div",{ref:C,className:"category-loader",children:[c.jsx("div",{className:"loading-spinner-small"}),c.jsx("p",{children:"Chargement de plus de catgories..."})]}),f.length>0&&y.length===0&&c.jsx("div",{className:"no-categories-message",children:c.jsx("p",{children:"Aucune catgorie d'album n'est disponible pour le moment."})}),l&&c.jsx(rf,{isOpen:i,onClose:()=>s(!1),albumName:l.name,albumId:l.id.toString(),isUserLoggedIn:t!==null,categories:l.categories})]})},M2=({setUser:t,updateUserStatus:r})=>{const[i,s]=A.useState(""),[l,u]=A.useState(""),[f,m]=A.useState(""),[y,g]=A.useState(!1),p=St(),b=async v=>{var x,N;v.preventDefault(),m(""),g(!0);try{const O=await gv(i,l);if(O&&O.status==="success"){if(localStorage.setItem("token",O.token),t(i),r)await r();else{const C=await So();console.log("User logged in, admin status:",C)}p("/")}else m("Une erreur est survenue lors de la connexion.")}catch(O){console.error("Erreur de connexion:",O),m(((N=(x=O.response)==null?void 0:x.data)==null?void 0:N.message)||"Identifiants incorrects ou serveur indisponible")}finally{g(!1)}};return c.jsxs("div",{className:"auth-container",children:[c.jsx("h2",{children:"Connexion"}),f&&c.jsx("p",{className:"error-message",children:f}),c.jsxs("form",{onSubmit:b,children:[c.jsx("input",{type:"text",placeholder:"Nametag ou Email",value:i,onChange:v=>s(v.target.value),required:!0,disabled:y}),c.jsx("input",{type:"password",placeholder:"Mot de passe",value:l,onChange:v=>u(v.target.value),required:!0,disabled:y}),c.jsx("button",{type:"submit",disabled:y,children:y?"Connexion en cours...":"Se connecter"})]}),c.jsx("p",{children:c.jsx("a",{href:"/forgot-password",children:"Mot de passe oubli?"})}),c.jsxs("p",{children:["Pas encore de compte ? ",c.jsx("a",{href:"/register",children:"S'inscrire"})]})]})},I2=({setUser:t,updateUserStatus:r})=>{const[i,s]=A.useState(""),[l,u]=A.useState(""),[f,m]=A.useState(""),[y,g]=A.useState(""),[p,b]=A.useState(""),[v,x]=A.useState(!1),[N,O]=A.useState(!1),C=St(),w=async G=>{var $,z;if(G.preventDefault(),b(""),x(!1),O(!0),i.length<3||l.length<3||y.length<8){b("Le nom d'utilisateur et nametag doivent contenir au moins 3 caractres, et le mot de passe au moins 8 caractres."),x(!0),O(!1);return}try{const B=await c2(i,l,f,y);if(B&&B.status==="success"){b("Inscription russie! Connexion en cours..."),x(!1);try{const D=await gv(l,y);D&&D.status==="success"&&(localStorage.setItem("token",D.token),t(i),r?await r():await So(),setTimeout(()=>{C("/")},1e3))}catch(D){console.error("Erreur de connexion aprs inscription:",D),b("Inscription russie, mais erreur lors de la connexion automatique. Veuillez vous connecter manuellement."),x(!0),setTimeout(()=>{C("/login")},2e3)}}else b("Une erreur est survenue lors de l'inscription."),x(!0)}catch(B){console.error("Erreur d'inscription:",B),b(((z=($=B.response)==null?void 0:$.data)==null?void 0:z.message)||"Erreur lors de l'inscription. Veuillez ressayer."),x(!0)}finally{O(!1)}};return c.jsxs("div",{className:"auth-container",children:[c.jsx("h2",{children:"Inscription"}),p&&c.jsx("p",{className:v?"error-message":"success-message",children:p}),c.jsxs("form",{onSubmit:w,children:[c.jsx("input",{type:"text",placeholder:"Nom d'utilisateur",value:i,onChange:G=>s(G.target.value),required:!0,disabled:N}),c.jsx("input",{type:"text",placeholder:"Nom d'utilisateur unique (nametag)",value:l,onChange:G=>u(G.target.value),required:!0,disabled:N}),c.jsx("input",{type:"email",placeholder:"Email",value:f,onChange:G=>m(G.target.value),required:!0,disabled:N}),c.jsx("input",{type:"password",placeholder:"Mot de passe",value:y,onChange:G=>g(G.target.value),required:!0,disabled:N}),c.jsx("button",{type:"submit",disabled:N,children:N?"Inscription en cours...":"S'inscrire"})]}),c.jsxs("p",{children:["Dj un compte ? ",c.jsx("a",{href:"/login",children:"Se connecter"})]})]})},U2=async t=>{try{console.log(`[rankingService] Rcupration des infos de l'album ${t}`);const r=await Ne.get(`/album/${t}`);return console.log("[rankingService] Infos d'album reues:",r.data.data),{id:r.data.data.id,name:r.data.data.name}}catch(r){throw console.error(`[rankingService] Erreur lors de la rcupration des infos de l'album ${t}:`,r),r}},L2=async t=>{try{console.log(`[rankingService] Rcupration des images de l'album ${t}`);const r=await Ne.get(`/album/${t}`);if(!r.data.data.images||r.data.data.images.length===0)return console.warn(`[rankingService] Aucune image trouve pour l'album ${t}`),[];const i=r.data.data.images.map(s=>({id:s.id.toString(),src:s.path_image,name:s.name,description:s.description,url:s.url,score:0,viewed:0}));return console.log("[rankingService] Images rcupres:",i),i}catch(r){throw console.error(`[rankingService] Erreur lors de la rcupration des images de l'album ${t}:`,r),r}},jv=async t=>{try{const r={name:t.name,description:t.description||"",private:!!t.private,id_album:Number(t.id_album)};console.log("[rankingService] Cration du classement avec les donnes:",r);const i=await Ne.post("/ranking",r);return console.log("[rankingService] Classement cr. Rponse du serveur:",i.data.data),i.data.data.id}catch(r){throw console.error("[rankingService] Erreur lors de la cration du classement:",r),r}},af=async(t,r,i,s,l)=>{try{const u={id_image:Number(r),id_ranking:Number(t),points:Number(i),viewed:Number(l||0)};console.log(`[rankingService] Ajout de l'image ${r} au classement ${t} avec le payload:`,u),await Ne.post("/ranking/image",u),console.log(`[rankingService] Image ${r} ajoute avec succs au classement ${t}`)}catch(u){throw console.error(`[rankingService] Erreur lors de l'ajout de l'image ${r} au classement ${t}:`,u),u}},F2=async(t,r)=>{try{console.log("[rankingService] Dbut de la sauvegarde complte du classement.");const i=await jv(t);console.log(`[rankingService] Classement cr avec l'ID ${i}.`);const s=r.filter(l=>l.score&&l.score!==0);for(const l of s){let u;l.score<0?u=Math.abs(l.score):u=l.score,console.log(`[rankingService] Sauvegarde image ${l.name}: score=${l.score}, points=${u}, viewed=${l.viewed||0}`),await af(i,Number(l.id),u,l.score,l.viewed||0)}return console.log(`[rankingService] Toutes les images ont t ajoutes au classement ${i}.`),i}catch(i){throw console.error("[rankingService] Erreur lors de la sauvegarde complte du classement:",i),i}},k2=async t=>{try{return console.log(`[rankingService] Rcupration du classement avec l'ID ${t}.`),(await Ne.get(`/ranking/${t}`)).data.data}catch(r){throw console.error(`[rankingService] Erreur lors de la rcupration du classement ${t}:`,r),r}},z2=async t=>{try{console.log(`[rankingService] Rcupration des images pour le classement ${t}.`);const i=(await Ne.get(`/ranking/${t}/image`)).data.data.map(s=>({id:s.id_image.toString(),src:s.image.path_image,name:s.image.name,description:s.image.description,url:s.image.url,score:s.score}));return console.log(`[rankingService] Images rcupres pour le classement ${t}:`,i),i}catch(r){throw console.error(`[rankingService] Erreur lors de la rcupration des images pour le classement ${t}:`,r),r}},B2=async(t,r,i)=>{try{console.log(`[rankingService] Mise  jour du classement ${t}.`);const s={name:r.name,description:r.description||"",private:!!r.private,id_album:Number(r.id_album)};await Ne.put(`/ranking/${t}`,s),console.log(`[rankingService] Mtadonnes du classement ${t} mises  jour.`);try{await Ne.delete(`/ranking/${t}/images`),console.log(`[rankingService] Images existantes supprimes pour le classement ${t}.`)}catch(u){console.warn("Erreur lors de la suppression des images existantes:",u)}const l=i.filter(u=>u.score&&u.score<0);for(const u of l){const f=Math.abs(u.score);await af(t,Number(u.id),f,u.score)}return console.log(`[rankingService] Classement ${t} mis  jour avec succs.`),t}catch(s){throw console.error(`[rankingService] Erreur lors de la mise  jour du classement ${t}:`,s),s}},P2=async t=>{try{console.log(`[rankingService] Suppression du classement ${t}`),await Ne.delete(`/ranking/${t}`),console.log(`[rankingService] Classement ${t} supprim avec succs`)}catch(r){throw console.error(`[rankingService] Erreur lors de la suppression du classement ${t}:`,r),r}},Jr={getAlbumInfo:U2,getAlbumImages:L2,createRanking:jv,addRankingImage:af,saveRanking:F2,updateRanking:B2,getRankingById:k2,getRankingImages:z2,deleteRanking:P2},H2=async t=>{try{console.log(`[tournamentService] Rcupration des infos de l'album ${t}`);const r=await Ne.get(`/album/${t}`);return console.log("[tournamentService] Infos d'album reues:",r.data.data),{id:r.data.data.id,name:r.data.data.name}}catch(r){throw console.error(`[tournamentService] Erreur lors de la rcupration des infos de l'album ${t}:`,r),r}},$2=async t=>{try{console.log(`[tournamentService] Rcupration des images de l'album ${t}`);const r=await Ne.get(`/album/${t}`);if(!r.data.data.images||r.data.data.images.length===0)return console.warn(`[tournamentService] Aucune image trouve pour l'album ${t}`),[];const i=r.data.data.images.map(s=>({id:s.id.toString(),src:s.path_image,name:s.name,description:s.description,url:s.url}));return console.log("[tournamentService] Images rcupres:",i),i}catch(r){throw console.error(`[tournamentService] Erreur lors de la rcupration des images de l'album ${t}:`,r),r}},Av=async t=>{try{const r={name:t.name,description:t.description||"",private:!!t.private,id_album:Number(t.id_album),turn:t.turn||1,winner_id:t.winner_id?Number(t.winner_id):null};console.log("[tournamentService] Cration du tournoi avec les donnes:",r);const i=await Ne.post("/tournament",r);return console.log("[tournamentService] Tournoi cr. Rponse du serveur:",i.data.data),i.data.data.id}catch(r){throw console.error("[tournamentService] Erreur lors de la cration du tournoi:",r),r}},sf=async(t,r,i=0,s=0,l=!1)=>{try{const u={id_image:Number(r),id_tournament:Number(t),place:Number(i),turn:Number(s),lose:!l,disable:!1};console.log(`[tournamentService] Ajout de l'image ${r} au tournoi ${t} avec le payload:`,u),await Ne.post("/tournament/image",u),console.log(`[tournamentService] Image ${r} ajoute avec succs au tournoi ${t}`)}catch(u){throw console.error(`[tournamentService] Erreur lors de l'ajout de l'image ${r} au tournoi ${t}:`,u),u}},q2=async(t,r,i)=>{try{console.log("[tournamentService] Dbut de la sauvegarde complte du tournoi.");const s=r.reduce((u,f)=>f.score!==void 0&&f.score>u?f.score:u,0),l=await Av({...t,turn:s+1,winner_id:i});console.log(`[tournamentService] Tournoi cr avec l'ID ${l}.`);for(let u=0;u<r.length;u++){const f=r[u],m=i===f.id,y=f.score||0,g=r.filter(p=>(p.score||0)>y).length+1;console.log(`[tournamentService] Traitement de l'image ${f.id} (place ${g}, turn ${y}, isWinner=${m}).`);try{await sf(l,parseInt(f.id),g,y,m)}catch(p){console.error(`[tournamentService] chec lors de l'ajout de l'image ${f.id}. Erreur:`,p)}}if(i){console.log(`[tournamentService] Mise  jour du tournoi ${l} avec le vainqueur ${i}.`);try{await Ne.put(`/tournament/${l}`,{winner_id:parseInt(i)}),console.log(`[tournamentService] Vainqueur mis  jour avec succs pour le tournoi ${l}.`)}catch(u){console.error(`[tournamentService] Erreur lors de la mise  jour du vainqueur pour le tournoi ${l}:`,u)}}return console.log(`[tournamentService] Sauvegarde complte du tournoi ${l} termine avec succs.`),l}catch(s){throw console.error("[tournamentService] Erreur lors de la sauvegarde complte du tournoi:",s),s}},G2=async t=>{try{return console.log(`[tournamentService] Rcupration du tournoi avec l'ID ${t}.`),(await Ne.get(`/tournament/${t}`)).data.data}catch(r){throw console.error(`[tournamentService] Erreur lors de la rcupration du tournoi ${t}:`,r),r}},Y2=async t=>{try{console.log(`[tournamentService] Rcupration des images pour le tournoi ${t}.`);const i=(await Ne.get(`/tournament/${t}/image`)).data.data.map(s=>({id:s.id_image.toString(),src:s.image.path_image,name:s.image.name,description:s.image.description,url:s.image.url,score:s.turn}));return console.log(`[tournamentService] Images rcupres pour le tournoi ${t}:`,i),i}catch(r){throw console.error(`[tournamentService] Erreur lors de la rcupration des images pour le tournoi ${t}:`,r),r}},Z2=async t=>{try{console.log(`[tournamentService] Suppression du tournoi ${t}`),await Ne.delete(`/tournament/${t}`),console.log(`[tournamentService] Tournoi ${t} supprim avec succs`)}catch(r){throw console.error(`[tournamentService] Erreur lors de la suppression du tournoi ${t}:`,r),r}},X2=async(t,r,i,s=null)=>{try{console.log(`[tournamentService] Mise  jour du tournoi ${t}`);const l={name:r.name,description:r.description||"",private:!!r.private,id_album:Number(r.id_album),winner_id:s?Number(s):null};await Ne.put(`/tournament/${t}`,l),console.log(`[tournamentService] Mtadonnes du tournoi ${t} mises  jour`);try{await Ne.delete(`/tournament/${t}/images`),console.log(`[tournamentService] Images existantes supprimes pour le tournoi ${t}`)}catch(f){console.warn("Erreur lors de la suppression des images existantes:",f)}const u=i.reduce((f,m)=>m.score!==void 0&&m.score>f?m.score:f,0);for(let f=0;f<i.length;f++){const m=i[f],y=s===m.id,g=m.score||0,p=i.filter(b=>(b.score||0)>g).length+1;try{await sf(t,parseInt(m.id),p,g,y)}catch(b){console.error(`[tournamentService] chec lors de l'ajout de l'image ${m.id}:`,b)}}return console.log(`[tournamentService] Tournoi ${t} mis  jour avec succs`),t}catch(l){throw console.error(`[tournamentService] Erreur lors de la mise  jour du tournoi ${t}:`,l),l}},mo={getAlbumInfo:H2,getAlbumImages:$2,createTournament:Av,addTournamentImage:sf,saveTournament:q2,getTournamentById:G2,getTournamentImages:Y2,deleteTournament:Z2,updateTournament:X2},Q2=async t=>{var r;try{console.log(" VRIFICATION ALBUM/IMAGES"),console.log("Album ID demand:",t);const i=await Ne.get(`/album/${t}`);if(console.log(" Album rcupr:",{id:i.data.data.id,name:i.data.data.name,nbImages:(r=i.data.data.images)==null?void 0:r.length}),!i.data.data.images||i.data.data.images.length===0)return console.warn("Aucune image trouve dans l'album"),[];console.log(" IMAGES DE L'ALBUM:"),i.data.data.images.forEach((l,u)=>{console.log(`Image ${u+1}:`,{id:l.id,name:l.name})});const s=i.data.data.images.map(l=>({id:l.id.toString(),id_image:l.id,src:l.path_image,alt:l.name,name:l.name,description:l.description,url:l.url}));return console.log(" RSUM:"),console.log(`Album ID: ${t}`),console.log(`Images trouves: ${s.map(l=>l.id).join(", ")}`),s}catch(i){throw console.error(" Erreur getAlbumImages:",i),i}},Cv=async t=>{try{const r={name:t.name,description:t.description||"",private:!!t.private,id_album:Number(t.id_album)};console.log(" API CALL: POST /tierlist"),console.log(" BODY:",JSON.stringify(r,null,2));const i=await Ne.post("/tierlist",r);return console.log(" RESPONSE:",i.status,i.data),i.data.data.id}catch(r){throw console.error(" ERROR POST /tierlist"),console.error(" BODY SENT:",JSON.stringify({name:t.name,description:t.description||"",private:!!t.private,id_album:Number(t.id_album)},null,2)),r.response&&console.error(" ERROR RESPONSE:",r.response.status,r.response.data),r}},Li=async t=>{try{const r={label:t.label||"",placement:Number(t.placement),color:t.color.replace("#",""),id_tierlist:Number(t.id_tierlist)};console.log(" API CALL: POST /tierlist/line"),console.log(" BODY:",JSON.stringify(r,null,2));const i=await Ne.post("/tierlist/line",r);return console.log(" RESPONSE:",i.status,i.data),i.data.data.id}catch(r){throw console.error(" ERROR POST /tierlist/line"),console.error(" BODY SENT:",JSON.stringify({label:t.label||"",placement:Number(t.placement),color:t.color.replace("#",""),id_tierlist:Number(t.id_tierlist)},null,2)),r.response&&console.error(" ERROR RESPONSE:",r.response.status,r.response.data),r}},Fi=async(t,r,i,s=!1)=>{try{const l={id_image:Number(r),id_tierlist_line:Number(t),placement:Number(i),disable:!!s};console.log(" API CALL: POST /tierlist/line/image"),console.log(" BODY:",JSON.stringify(l,null,2));const u=await Ne.post("/tierlist/line/image",l);console.log(" RESPONSE:",u.status,u.data)}catch(l){throw console.error(" ERROR POST /tierlist/line/image"),console.error(" BODY SENT:",JSON.stringify({id_image:Number(r),id_tierlist_line:Number(t),placement:Number(i),disable:!!s},null,2)),l.response&&console.error(" ERROR RESPONSE:",l.response.status,l.response.data),l}},K2=async(t,r,i=[])=>{try{const s=await Cv(t);for(let l=0;l<r.length;l++){const u=r[l];try{const f=await Li({...u,id_tierlist:s,placement:l+1});for(let m=0;m<u.images.length;m++){const y=u.images[m];try{await Fi(f,y.id_image||parseInt(y.id),m+1,y.disable||!1)}catch(g){console.error(`Erreur lors de l'ajout de l'image ${y.id}  la ligne:`,g)}}}catch(f){console.error(`Erreur lors de la cration de la ligne ${u.label}:`,f)}}if(i.length>0)try{const u=await Li({label:"Non class",placement:0,color:"CCCCCC",id_tierlist:s,images:[]});for(let f=0;f<i.length;f++){const m=i[f];try{await Fi(u,m.id_image||parseInt(m.id),f+1,!1)}catch(y){console.error(`Erreur lors de l'ajout de l'image non classe ${m.id}:`,y)}}}catch(l){console.error("Erreur lors de la cration du tier pour les images non classes:",l)}return s}catch(s){throw console.error("Erreur lors de la sauvegarde complte de la tierlist:",s),s}},J2=async t=>{try{return(await Ne.get(`/tierlist/${t}`)).data.data}catch(r){throw console.error(`Erreur lors de la rcupration de la tierlist ${t}:`,r),r}},V2=async t=>{try{return(await Ne.get(`/tierlist/${t}/line`)).data.data}catch(r){return console.error(`Erreur lors de la rcupration des lignes de la tierlist ${t}:`,r),[]}},wv=async t=>{try{const i=(await Ne.get(`/tierlist/${t}`)).data.data;if(!i)throw new Error(`Tierlist with ID ${t} not found`);const s=[],l=[];return i.tierlistLine&&Array.isArray(i.tierlistLine)&&i.tierlistLine.forEach(f=>{const m={id:f.id.toString(),label:f.label||"",placement:f.placement,color:f.color||"FFFFFF",id_tierlist:t,images:[]};f.tierlistLineImage&&Array.isArray(f.tierlistLineImage)&&(m.images=f.tierlistLineImage.map(y=>{const g=y.image,p={id:g.id.toString(),id_image:g.id,src:g.path_image,alt:g.name,name:g.name,description:g.description,url:g.url,placement:y.placement,disable:y.disable};return l.push({...p}),p})),s.push(m)}),{tierlist:{id:i.id,name:i.name,description:i.description,private:i.private,id_album:i.album.id},lines:s,allImages:l}}catch(r){throw console.error(`Error fetching tierlist details for ID ${t}:`,r),r}},Rv=async(t,r)=>{try{const i={};return r.name!==void 0&&(i.name=r.name),r.description!==void 0&&(i.description=r.description===null?"":r.description),r.private!==void 0&&(i.private=!!r.private),r.id_album!==void 0&&r.id_album>0&&(i.id_album=r.id_album),console.log("Donnes formates pour mise  jour:",i),(await Ne.put(`/tierlist/${t}`,i)).data.data.id}catch(i){throw console.error(`Error updating tierlist ${t}:`,i),i}},W2=async(t,r)=>{try{const i={};return r.label!==void 0&&(i.label=r.label||""),r.placement!==void 0&&(i.placement=Number(r.placement)),r.color!==void 0&&(i.color=r.color.replace("#","")),console.log("Mise  jour des donnes de ligne:",i),(await Ne.put(`/tierlist/line/${t}`,i)).data.data.id}catch(i){throw console.error(`Error updating tierlist line ${t}:`,i),i}},eN=async(t,r)=>{try{const i={};return r.placement!==void 0&&(i.placement=Number(r.placement)),r.disable!==void 0&&(i.disable=!!r.disable),r.id_image!==void 0&&(i.id_image=Number(r.id_image)),r.id_tierlist_line!==void 0&&(i.id_tierlist_line=Number(r.id_tierlist_line)),console.log("Mise  jour des donnes d'image:",i),(await Ne.put(`/tierlist/line/image/${t}`,i)).data.data.id}catch(i){throw console.error(`Error updating tierlist image ${t}:`,i),i}},_v=async t=>{try{console.log(`Suppression de la ligne ${t}`),await Ne.delete(`/tierlist/line/${t}`),console.log(`Ligne ${t} supprime avec succs`)}catch(r){throw console.error(`Erreur lors de la suppression de la ligne ${t}:`,r),r}},tN=async(t,r,i,s=[])=>{try{console.log("UpdateCompleteTierlist - Dbut de mise  jour pour ID:",t),await Rv(t,r);let l=[];try{l=(await wv(t)).lines||[],console.log("Lignes existantes rcupres:",l.length)}catch(u){console.error("Erreur lors de la rcupration des lignes existantes:",u),l=[]}for(const u of l)try{console.log(`Suppression de la ligne ${u.id}`),await _v(parseInt(u.id))}catch(f){console.error(`Erreur lors de la suppression de la ligne ${u.id}:`,f)}for(let u=0;u<i.length;u++){const f=i[u],m=u+1;try{const y=await Li({label:f.label,placement:m,color:f.color,id_tierlist:t,images:[]});for(let g=0;g<f.images.length;g++){const p=f.images[g];try{await Fi(y,parseInt(p.id),g+1,p.disable||!1)}catch(b){console.error(`Erreur lors de l'ajout de l'image ${p.id}  la ligne:`,b)}}}catch(y){console.error(`Erreur lors de la cration de la ligne ${f.label}:`,y)}}if(s.length>0)try{const f=await Li({label:"Non class",placement:0,color:"CCCCCC",id_tierlist:t,images:[]});for(let m=0;m<s.length;m++){const y=s[m];try{await Fi(f,parseInt(y.id),m+1,!1)}catch(g){console.error(`Erreur lors de l'ajout de l'image non classe ${y.id}:`,g)}}}catch(u){console.error("Erreur lors du traitement des images non classes:",u)}return console.log("Mise  jour complte termine avec succs"),t}catch(l){throw console.error("Erreur lors de la mise  jour complte de la tierlist:",l),l}},nN=async t=>{try{console.log(`Suppression de la tierlist ${t}`),await Ne.delete(`/tierlist/${t}`),console.log(`Tierlist ${t} supprime avec succs`)}catch(r){throw console.error(`Erreur lors de la suppression de la tierlist ${t}:`,r),r}},Er={getAlbumImages:Q2,createTierlist:Cv,createTierlistLine:Li,addImageToTierlistLine:Fi,saveTierlist:K2,getTierlistById:J2,getTierlistLines:V2,getTierlistWithDetails:wv,updateTierlist:Rv,updateTierlistLine:W2,updateTierlistImage:eN,deleteTierlistLine:_v,updateCompleteTierlist:tN,deleteTierlist:nN},rN=({isOpen:t,onClose:r,itemId:i,itemName:s,itemType:l,canEdit:u,onItemDeleted:f})=>{const m=St(),[y,g]=A.useState(!1),[p,b]=A.useState(!1),v=()=>{m(`/${{tierlist:"tierlists",tournoi:"tournois",classement:"classements"}[l]}/${i}`),r()},x=()=>{m(`/${{tierlist:"tierlists",tournoi:"tournois",classement:"classements"}[l]}/edit/${i}?continue=true`),r()},N=async()=>{if(!p){b(!0);return}g(!0);try{const C=parseInt(i);switch(l){case"tierlist":await Er.deleteTierlist(C);break;case"tournoi":await mo.deleteTournament(C);break;case"classement":await Jr.deleteRanking(C);break}alert(`${l==="tierlist"?"Tierlist":l} supprim(e) avec succs !`),f&&f(),r()}catch(C){console.error(`Erreur lors de la suppression du ${l}:`,C),alert("Erreur lors de la suppression. Veuillez ressayer.")}finally{g(!1),b(!1)}},O=()=>{b(!1)};return t?c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content viewer-editor-modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsxs("h2",{children:['"',s,'"']}),c.jsx("button",{className:"close-button",onClick:r,children:""})]}),c.jsx("div",{className:"modal-body",children:p?c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"delete-confirmation",children:[" tes-vous sr de vouloir supprimer dfinitivement ce ",l," ?"]}),c.jsx("p",{className:"delete-warning",children:"Cette action ne peut pas tre annule."}),c.jsxs("div",{className:"delete-actions",children:[c.jsx("button",{className:"modal-button secondary",onClick:O,disabled:y,children:"Annuler"}),c.jsx("button",{className:"modal-button danger",onClick:N,disabled:y,children:y?"Suppression...":"Confirmer la suppression"})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("p",{children:["Comment souhaitez-vous accder  ce ",l==="tierlist"?"tierlist":l," ?"]}),c.jsxs("div",{className:"modal-actions",children:[c.jsxs("button",{className:"modal-button primary",onClick:v,children:[" Voir le rsultat",c.jsxs("span",{className:"button-description",children:["Consulter le ",l," termin"]})]}),u&&c.jsxs(c.Fragment,{children:[l!=="tournoi"&&c.jsxs("button",{className:"modal-button accent",onClick:x,children:[" Continuer/Recommencer le tri",c.jsx("span",{className:"button-description",children:"Reprendre le processus de tri depuis le dbut"})]}),c.jsxs("button",{className:"modal-button danger",onClick:N,disabled:y,children:[" Supprimer",c.jsxs("span",{className:"button-description",children:["Supprimer dfinitivement ce ",l]})]})]})]})]})})]})}):null};Nn.setAppElement("#root");const aN=({user:t,setUser:r})=>{const i=St(),[s,l]=A.useState(t||""),[u,f]=A.useState(null),[m,y]=A.useState(!1),[g,p]=A.useState(!1),[b,v]=A.useState(!1),[x,N]=A.useState(s),[O,C]=A.useState(""),[w,G]=A.useState(""),[$,z]=A.useState(""),[B,D]=A.useState(""),[Z,R]=A.useState([]),[E,M]=A.useState([]),[k,U]=A.useState([]),[H,F]=A.useState([]),[q,T]=A.useState(!0),[S,I]=A.useState(!1),[P,_]=A.useState("26 mars 2025"),[Q,Y]=A.useState(!1),[W,K]=A.useState(!1),[J,ve]=A.useState(null),[Fe,_e]=A.useState(!1),[Ie,ke]=A.useState(null),Ge=V=>{if(!V.album||!V.album.image||!Array.isArray(V.album.image)||V.album.image.length===0)return"/default-image.jpg";const oe=V.album.image[0];return!oe||!oe.path_image?"/default-image.jpg":oe.path_image};A.useEffect(()=>{t||i("/login")},[t,i]),A.useEffect(()=>{(async()=>{if(t)try{const oe=await wd();if(oe&&oe.data){l(oe.data.username||t),f(oe.data.id.toString());const Me=new Date(oe.data.createdAt);_(Me.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}))}}catch(oe){console.warn("Impossible de rcuprer les informations utilisateur:",oe)}})()},[t]),A.useEffect(()=>{(async()=>{if(!(!t||!u)){T(!0),I(!1);try{try{const oe=await Ne.get("/album");if(oe.data&&oe.data.data){const Me=oe.data.data.filter(ge=>ge.author&&ge.author.id.toString()===u).map(ge=>{var Te;return{id:ge.id.toString(),name:ge.name,image:ge.images&&ge.images.length>0?ge.images[0].path_image:"/default-image.jpg",isPublic:ge.status==="public",usageCount:Math.floor(Math.random()*100)+10,categories:((Te=ge.categories)==null?void 0:Te.map(we=>we.name))||[]}});R(Me)}}catch(oe){console.warn("Erreur lors de la rcupration des albums:",oe)}try{const oe=await Ne.get("/tierlist");if(oe.data&&oe.data.data){const Me=oe.data.data.filter(ge=>ge.author&&ge.author.id.toString()===u).map(ge=>({id:ge.id.toString(),name:ge.name,image:Ge(ge),isPublic:!ge.private,categories:ge.album&&ge.album.categories?ge.album.categories.map(Te=>Te.name):[]}));M(Me)}}catch(oe){console.warn("Erreur lors de la rcupration des tierlists:",oe)}try{const oe=await Ne.get("/tournament");if(oe.data&&oe.data.data){const Me=oe.data.data.filter(ge=>ge.author&&ge.author.id.toString()===u).map(ge=>({id:ge.id.toString(),name:ge.name,image:Ge(ge),isPublic:!ge.private,categories:ge.album&&ge.album.categories?ge.album.categories.map(Te=>Te.name):[]}));U(Me)}}catch(oe){console.warn("Erreur lors de la rcupration des tournois:",oe)}try{const oe=await Ne.get("/ranking");if(oe.data&&oe.data.data){const Me=oe.data.data.filter(ge=>ge.author&&ge.author.id.toString()===u).map(ge=>({id:ge.id.toString(),name:ge.name,image:Ge(ge),isPublic:!ge.private,categories:ge.album&&ge.album.categories?ge.album.categories.map(Te=>Te.name):[]}));F(Me)}}catch(oe){console.warn("Erreur lors de la rcupration des classements:",oe)}}catch(oe){console.error("Erreur globale lors de la rcupration des donnes:",oe),I(!0)}finally{T(!1)}}})()},[u]);const tt=async()=>{try{await Ne.put("/user/update-username",{username:x}),l(x),r(x),y(!1),alert("Nom d'utilisateur mis  jour avec succs !")}catch(V){console.error("Erreur lors de la mise  jour du nom:",V),alert("Erreur lors de la mise  jour du nom d'utilisateur.")}},ht=async()=>{if(D(""),w!==$){D("Les mots de passe ne correspondent pas");return}if(w.length<6){D("Le mot de passe doit contenir au moins 6 caractres");return}try{await Ne.put("/user/update-password",{currentPassword:O,newPassword:w}),p(!1),C(""),G(""),z(""),alert("Mot de passe mis  jour avec succs !")}catch(V){console.error("Erreur lors de la mise  jour du mot de passe:",V),D("Erreur lors de la mise  jour du mot de passe.")}},be=()=>{r(null),u2(),v(!1),i("/")},pe=async(V,oe)=>{const ge={album:"/album/",tierlist:"/tierlist/",tournoi:"/tournament/",classement:"/ranking/"}[oe];if(ge)try{let Te;switch(oe){case"album":if(Te=Z.find(we=>we.id===V),Te){const we=Te.isPublic?"private":"public";await Ne.put(`${ge}${V}`,{status:we}),R(Z.map(Ye=>Ye.id===V?{...Ye,isPublic:!Ye.isPublic}:Ye))}break;case"tierlist":Te=E.find(we=>we.id===V),Te&&(await Ne.put(`${ge}${V}`,{private:!Te.isPublic}),M(E.map(we=>we.id===V?{...we,isPublic:!we.isPublic}:we)));break;case"tournoi":Te=k.find(we=>we.id===V),Te&&(await Ne.put(`${ge}${V}`,{private:!Te.isPublic}),U(k.map(we=>we.id===V?{...we,isPublic:!we.isPublic}:we)));break;case"classement":Te=H.find(we=>we.id===V),Te&&(await Ne.put(`${ge}${V}`,{private:!Te.isPublic}),F(H.map(we=>we.id===V?{...we,isPublic:!we.isPublic}:we)));break}}catch(Te){console.error(`Erreur lors de la modification de la visibilit pour ${oe}:`,Te),alert("Une erreur est survenue lors de la modification de la visibilit.")}},Ue=V=>{ve(V),Y(!0)},De=()=>{J&&(i(`/album/edit/${J.id}`),Y(!1))},Le=()=>{J&&(Y(!1),K(!0))},ze=(V,oe)=>{const Me=oe.toLowerCase();ke({id:V.id,name:V.name,type:Me==="tierlist"?"tierlist":Me}),_e(!0)};return t?q?c.jsx("div",{className:"profile-container",children:c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Chargement de votre profil..."})]})}):c.jsxs("div",{className:"profile-container",children:[c.jsxs("div",{className:"profile-header",children:[c.jsx("div",{className:"profile-avatar-container",children:c.jsx("img",{src:G0,alt:"Avatar du profil",className:"profile-avatar"})}),c.jsxs("div",{className:"profile-info",children:[c.jsx("h2",{className:"profile-username",children:s}),c.jsxs("p",{className:"profile-member-since",children:["Membre depuis ",P]}),c.jsxs("div",{className:"profile-actions",children:[c.jsx("button",{className:"profile-btn edit",onClick:()=>y(!0),children:"Modifier le pseudo"}),c.jsx("button",{className:"profile-btn password",onClick:()=>p(!0),children:"Changer mot de passe"}),c.jsx("button",{className:"profile-btn logout",onClick:()=>v(!0),children:"Dconnexion"})]})]})]}),S&&c.jsxs("div",{className:"error-message",children:["Impossible de charger vos donnes. Veuillez ressayer plus tard.",c.jsx("button",{onClick:()=>window.location.reload(),children:"Ressayer"})]}),c.jsxs("div",{className:"profile-content",children:[c.jsxs("div",{className:"profile-section",children:[c.jsx("div",{className:"section-header",children:c.jsx("h3",{children:"Mes Albums"})}),Z.length>0?c.jsx("div",{className:"content-grid",children:Z.map(V=>c.jsxs("div",{className:"content-card",children:[c.jsxs("div",{className:"content-privacy-toggle",children:[c.jsx("span",{className:"privacy-status",children:V.isPublic?"Public":"Priv"}),c.jsxs("label",{className:"switch small",children:[c.jsx("input",{type:"checkbox",checked:V.isPublic,onChange:()=>pe(V.id,"album")}),c.jsx("span",{className:"slider"})]})]}),c.jsx("div",{onClick:()=>Ue(V),children:c.jsx(rr,{name:V.name,image:V.image,categories:V.categories})})]},V.id))}):c.jsxs("div",{className:"empty-section",children:[c.jsx("p",{children:"Vous n'avez pas encore cr d'albums"}),c.jsx("button",{className:"create-btn",onClick:()=>i("/add-album"),children:"Crer votre premier album"})]})]}),c.jsxs("div",{className:"profile-section",children:[c.jsx("div",{className:"section-header",children:c.jsx("h3",{children:"Mes Tierlists"})}),E.length>0?c.jsx("div",{className:"content-grid",children:E.map(V=>c.jsxs("div",{className:"content-card",children:[c.jsxs("div",{className:"content-privacy-toggle",children:[c.jsx("span",{className:"privacy-status",children:V.isPublic?"Public":"Priv"}),c.jsxs("label",{className:"switch small",children:[c.jsx("input",{type:"checkbox",checked:V.isPublic,onChange:()=>pe(V.id,"tierlist")}),c.jsx("span",{className:"slider"})]})]}),c.jsx("div",{onClick:()=>ze(V,"Tierlist"),children:c.jsx(rr,{name:V.name,image:V.image,categories:V.categories})})]},V.id))}):c.jsxs("div",{className:"empty-section",children:[c.jsx("p",{children:"Vous n'avez pas encore cr de tierlists"}),c.jsx("button",{className:"create-btn",onClick:()=>i("/allalbum"),children:"Crer une tierlist"})]})]}),c.jsxs("div",{className:"profile-section",children:[c.jsx("div",{className:"section-header",children:c.jsx("h3",{children:"Mes Tournois"})}),k.length>0?c.jsx("div",{className:"content-grid",children:k.map(V=>c.jsxs("div",{className:"content-card",children:[c.jsxs("div",{className:"content-privacy-toggle",children:[c.jsx("span",{className:"privacy-status",children:V.isPublic?"Public":"Priv"}),c.jsxs("label",{className:"switch small",children:[c.jsx("input",{type:"checkbox",checked:V.isPublic,onChange:()=>pe(V.id,"tournoi")}),c.jsx("span",{className:"slider"})]})]}),c.jsx("div",{onClick:()=>ze(V,"Tournoi"),children:c.jsx(rr,{name:V.name,image:V.image,categories:V.categories})})]},V.id))}):c.jsxs("div",{className:"empty-section",children:[c.jsx("p",{children:"Vous n'avez pas encore cr de tournois"}),c.jsx("button",{className:"create-btn",onClick:()=>i("/allalbum"),children:"Crer un tournoi"})]})]}),c.jsxs("div",{className:"profile-section",children:[c.jsx("div",{className:"section-header",children:c.jsx("h3",{children:"Mes Classements"})}),H.length>0?c.jsx("div",{className:"content-grid",children:H.map(V=>c.jsxs("div",{className:"content-card",children:[c.jsxs("div",{className:"content-privacy-toggle",children:[c.jsx("span",{className:"privacy-status",children:V.isPublic?"Public":"Priv"}),c.jsxs("label",{className:"switch small",children:[c.jsx("input",{type:"checkbox",checked:V.isPublic,onChange:()=>pe(V.id,"classement")}),c.jsx("span",{className:"slider"})]})]}),c.jsx("div",{onClick:()=>ze(V,"Classement"),children:c.jsx(rr,{name:V.name,image:V.image,categories:V.categories})})]},V.id))}):c.jsxs("div",{className:"empty-section",children:[c.jsx("p",{children:"Vous n'avez pas encore cr de classements"}),c.jsx("button",{className:"create-btn",onClick:()=>i("/allalbum"),children:"Crer un classement"})]})]})]}),c.jsxs(Nn,{isOpen:m,onRequestClose:()=>y(!1),className:"modal-content",overlayClassName:"modal-overlay",children:[c.jsx("h2",{children:"Changer votre pseudo"}),c.jsx("input",{type:"text",value:x,onChange:V=>N(V.target.value),placeholder:"Nouveau pseudo"}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{className:"cancel-btn",onClick:()=>y(!1),children:"Annuler"}),c.jsx("button",{className:"confirm-btn",onClick:tt,children:"Enregistrer"})]})]}),c.jsxs(Nn,{isOpen:g,onRequestClose:()=>p(!1),className:"modal-content",overlayClassName:"modal-overlay",children:[c.jsx("h2",{children:"Changer votre mot de passe"}),B&&c.jsx("p",{className:"error-message",children:B}),c.jsx("input",{type:"password",value:O,onChange:V=>C(V.target.value),placeholder:"Mot de passe actuel",className:"password-input"}),c.jsx("input",{type:"password",value:w,onChange:V=>G(V.target.value),placeholder:"Nouveau mot de passe",className:"password-input"}),c.jsx("input",{type:"password",value:$,onChange:V=>z(V.target.value),placeholder:"Confirmer le nouveau mot de passe",className:"password-input"}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{className:"cancel-btn",onClick:()=>p(!1),children:"Annuler"}),c.jsx("button",{className:"confirm-btn",onClick:ht,children:"Confirmer"})]})]}),c.jsxs(Nn,{isOpen:b,onRequestClose:()=>v(!1),className:"modal-content",overlayClassName:"modal-overlay",children:[c.jsx("h2",{children:"Confirmation de dconnexion"}),c.jsx("p",{children:"tes-vous sr de vouloir vous dconnecter ?"}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{className:"cancel-btn",onClick:()=>v(!1),children:"Annuler"}),c.jsx("button",{className:"confirm-btn",onClick:be,children:"Confirmer"})]})]}),Q&&J&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("h2",{children:['Album "',J.name,'"']}),c.jsx("p",{children:"Que souhaitez-vous faire avec cet album ?"}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{className:"confirm-btn",onClick:Le,children:"Crer un nouveau tri"}),c.jsx("button",{className:"cancel-btn",onClick:De,children:"Modifier l'album"}),c.jsx("button",{className:"cancel-btn",onClick:()=>Y(!1),children:"Annuler"})]})]})}),W&&J&&c.jsx(rf,{isOpen:W,onClose:()=>K(!1),albumName:J.name,albumId:J.id,isUserLoggedIn:!0,categories:J.categories||[]}),Fe&&Ie&&c.jsx(rN,{isOpen:Fe,onClose:()=>_e(!1),itemId:Ie.id,itemName:Ie.name,itemType:Ie.type,canEdit:!0})]}):null};Nn.setAppElement("#root");const Ov=({isOpen:t,onClose:r,image:i,onSave:s})=>{const[l,u]=A.useState(i.name),[f,m]=A.useState(i.description||""),[y,g]=A.useState(i.url||""),p=()=>{u(i.name),m(i.description||""),g(i.url||""),r()},b=()=>{if(!l.trim()){alert("Le nom de l'image ne peut pas tre vide.");return}const v={...i,name:l.trim(),description:f.trim(),url:y.trim()};s(v),r()};return c.jsxs(Nn,{isOpen:t,onRequestClose:p,className:"album-modal-content image-edit-modal",overlayClassName:"album-modal-overlay",children:[c.jsxs("div",{className:"album-modal-header",children:[c.jsx("h2",{children:"Modifier l'image"}),c.jsx("button",{className:"close-button",onClick:p,children:""})]}),c.jsxs("div",{className:"image-edit-content",children:[c.jsxs("div",{className:"image-preview-container",children:[c.jsx("img",{src:i.previewUrl,alt:l,className:"image-preview"}),c.jsx("p",{className:"file-name",children:i.file.name})]}),c.jsxs("div",{className:"image-edit-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"image-name",children:"Nom de l'image"}),c.jsx("input",{type:"text",id:"image-name",value:l,onChange:v=>u(v.target.value),placeholder:"Nom de l'image",maxLength:25})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"image-description",children:"Description (optionnelle)"}),c.jsx("textarea",{id:"image-description",value:f,onChange:v=>m(v.target.value),placeholder:"Dcrivez cette image...",rows:3,maxLength:500})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"image-url",children:"URL (optionnelle)"}),c.jsx("input",{type:"url",id:"image-url",value:y,onChange:v=>g(v.target.value),placeholder:"https://exemple.com/page-de-limage"})]})]})]}),c.jsxs("div",{className:"album-modal-actions",children:[c.jsx("button",{className:"cancel-button",onClick:p,children:"Annuler"}),c.jsx("button",{className:"create-button",onClick:b,children:"Enregistrer"})]})]})};let Dv=class{constructor(r){if(sN(r))throw new Error("DataView: Passed buffer type is unsupported.");this.buffer=r,this.byteLength=this.buffer.length}getUint8(r){return this.buffer.readUInt8(r)}getUint16(r,i){return i?this.buffer.readUInt16LE(r):this.buffer.readUInt16BE(r)}getUint32(r,i){return i?this.buffer.readUInt32LE(r):this.buffer.readUInt32BE(r)}getInt32(r,i){return i?this.buffer.readInt32LE(r):this.buffer.readInt32BE(r)}};function sN(t){return typeof t!="object"||t.length===void 0||t.readUInt8===void 0||t.readUInt16LE===void 0||t.readUInt16BE===void 0||t.readUInt32LE===void 0||t.readUInt32BE===void 0||t.readInt32LE===void 0||t.readInt32BE===void 0}function Mg(t,r,i){try{return new DataView(t,r,i)}catch{return new Dv(t,r,i)}}function Ve(t,r,i){const s=[];for(let l=0;l<i&&r+l<t.byteLength;l++)s.push(t.getUint8(r+l));return xs(s)}function gs(t,r){const i=[];let s=0;for(;r+s<t.byteLength;){const l=t.getUint8(r+s);if(l===0)break;i.push(l),s++}return xs(i)}function iN(t,r,i){const s=[];for(let l=0;l<i&&r+l<t.byteLength;l+=2)s.push(t.getUint16(r+l));return s[s.length-1]===0&&s.pop(),xs(s)}function Mv(t,r){const i=t.getUint8(r),s=Ve(t,r+1,i);return[i,s]}function xs(t){return t.map(r=>String.fromCharCode(r)).join("")}function st(){for(let t=1;t<arguments.length;t++)for(const r in arguments[t])arguments[0][r]=arguments[t][r];return arguments[0]}function Iv(t,r,i){let s=!1;Object.defineProperty(t,r,{get(){return s||(s=!0,Object.defineProperty(t,r,{configurable:!0,enumerable:!0,value:i.apply(t),writable:!0})),t[r]},configurable:!0,enumerable:!0})}function Uv(t){if(typeof btoa<"u")return btoa(typeof t=="string"?t:Array.prototype.reduce.call(new Uint8Array(t),(r,i)=>r+String.fromCharCode(i),""));if(!(typeof Buffer>"u"))return typeof Buffer.from<"u"?Buffer.from(t).toString("base64"):new Buffer(t).toString("base64")}function lN(t){const r=t.substring(t.indexOf(",")+1);if(t.indexOf(";base64")!==-1)return typeof atob<"u"?Uint8Array.from(atob(r),s=>s.charCodeAt(0)).buffer:typeof Buffer>"u"?void 0:typeof Buffer.from<"u"?Buffer.from(r,"base64"):new Buffer(r,"base64");const i=decodeURIComponent(r);return typeof Buffer<"u"?typeof Buffer.from<"u"?Buffer.from(i):new Buffer(i):Uint8Array.from(i,s=>s.charCodeAt(0)).buffer}function oN(t,r,i){return Lv(i,r-t.length)+t}function cN(t,r){return parseInt(t.replace(".",""),r)/Math.pow(r,(t.split(".")[1]||"").length)}function Lv(t,r){return new Array(r+1).join(t)}const Eo=void 0,Fv=0;function kv(t,r,i,s="string"){if(r===Fv&&typeof DecompressionStream=="function"){const l=new DecompressionStream("deflate"),u=new Blob([t]).stream().pipeThrough(l);return s==="dataview"?new Response(u).arrayBuffer().then(f=>new DataView(f)):new Response(u).arrayBuffer().then(f=>new TextDecoder(i).decode(f))}return r!==void 0?Promise.reject(`Unknown compression method ${r}.`):t}const Ig={USE_FILE:!0,USE_JFIF:!0,USE_PNG_FILE:!0,USE_EXIF:!0,USE_IPTC:!0,USE_XMP:!0,USE_ICC:!0,USE_MPF:!0,USE_PHOTOSHOP:!0,USE_THUMBNAIL:!0,USE_TIFF:!0,USE_JPEG:!0,USE_PNG:!0,USE_HEIC:!0,USE_AVIF:!0,USE_WEBP:!0,USE_GIF:!0,USE_MAKER_NOTES:!0};function $t(t){return t.map(r=>String.fromCharCode(r)).join("")}function Rd(t){if(t.length>=8){const r=$t(t.slice(0,8));if(r==="ASCII\0\0\0")return $t(t.slice(8));if(r==="JIS\0\0\0\0\0")return"[JIS encoded text]";if(r==="UNICODE\0")return"[Unicode encoded text]";if(r==="\0\0\0\0\0\0\0\0")return"[Undefined encoding]"}return"Undefined"}function No(t){return t[0][0]/t[0][1]+t[1][0]/t[1][1]/60+t[2][0]/t[2][1]/3600}const _d=18761,Od=19789,_a={BIG_ENDIAN:Od,LITTLE_ENDIAN:_d,getByteOrder:uN};function uN(t,r){if(t.getUint16(r)===_d)return _d;if(t.getUint16(r)===Od)return Od;throw new Error("Illegal byte order value. Faulty image.")}const Ug={isTiffFile:dN,findTiffOffsets:mN};function dN(t){return!!t&&t.byteLength>=4&&fN(t)}function fN(t){const s=t.getUint16(0)===_a.LITTLE_ENDIAN;return t.getUint16(2,s)===42}function mN(){return{hasAppMarkers:!0,tiffHeaderOffset:0}}const Lg={isJpegFile:RN,findJpegOffsets:_N},hN=2,pN=65496,Fg=2,Fn=4,ln=2,gN=2,vN=10,bN=18,kg=33,zg=79,Bg=18,yN=8,Dd="ICC_PROFILE\0",zv=Fn+Dd.length,xN=zv+1,Pg="MPF\0",Bv=65472,Pv=65474,SN=65476,EN=65499,NN=65501,TN=65498,Hv=65504,lf=65505,$v=65506,jN=65517,AN=65519,CN=65534,wN=65535,Hg="JFIF",$g="Exif",qg="http://ns.adobe.com/xap/1.0/\0",Gg="http://ns.adobe.com/xmp/extension/\0",Yg="Photoshop 3.0";function RN(t){return!!t&&t.byteLength>=hN&&t.getUint16(0)===pN}function _N(t){let r=Fg,i,s,l,u,f,m,y,g,p;for(;r+Fn+5<=t.byteLength;){if(ON(t,r))i=t.getUint16(r+ln),s=r+ln;else if(DN(t,r))i=t.getUint16(r+ln),l=r+ln;else if(UN(t,r))i=t.getUint16(r+ln),u=r+gN;else if(LN(t,r))i=t.getUint16(r+ln),f=r+vN;else if(FN(t,r))y||(y=[]),i=t.getUint16(r+ln),y.push(PN(r,i));else if(zN(t,r))y||(y=[]),i=t.getUint16(r+ln),y.push(HN(r,i));else if($N(t,r))i=t.getUint16(r+ln),m=r+bN;else if(MN(t,r)){i=t.getUint16(r+ln);const b=r+Bg,v=i-(Bg-ln),x=t.getUint8(r+zv),N=t.getUint8(r+xN);g||(g=[]),g.push({offset:b,length:v,chunkNumber:x,chunksTotal:N})}else if(IN(t,r))i=t.getUint16(r+ln),p=r+yN;else if(qN(t,r))i=t.getUint16(r+ln);else if(GN(t,r)){r++;continue}else break;r+=ln+i}return{hasAppMarkers:r>Fg,fileDataOffset:s||l,jfifDataOffset:u,tiffHeaderOffset:f,iptcDataOffset:m,xmpChunks:y,iccChunks:g,mpfDataOffset:p}}function ON(t,r){return t.getUint16(r)===Bv}function DN(t,r){return t.getUint16(r)===Pv}function MN(t,r){const i=Dd.length;return t.getUint16(r)===$v&&Ve(t,r+Fn,i)===Dd}function IN(t,r){const i=Pg.length;return t.getUint16(r)===$v&&Ve(t,r+Fn,i)===Pg}function UN(t,r){const i=Hg.length;return t.getUint16(r)===Hv&&Ve(t,r+Fn,i)===Hg&&t.getUint8(r+Fn+i)===0}function LN(t,r){const i=$g.length;return t.getUint16(r)===lf&&Ve(t,r+Fn,i)===$g&&t.getUint8(r+Fn+i)===0}function FN(t,r){return t.getUint16(r)===lf&&kN(t,r)}function kN(t,r){const i=qg.length;return Ve(t,r+Fn,i)===qg}function zN(t,r){return t.getUint16(r)===lf&&BN(t,r)}function BN(t,r){const i=Gg.length;return Ve(t,r+Fn,i)===Gg}function PN(t,r){return{dataOffset:t+kg,length:r-(kg-ln)}}function HN(t,r){return{dataOffset:t+zg,length:r-(zg-ln)}}function $N(t,r){const i=Yg.length;return t.getUint16(r)===jN&&Ve(t,r+Fn,i)===Yg&&t.getUint8(r+Fn+i)===0}function qN(t,r){const i=t.getUint16(r);return i>=Hv&&i<=AN||i===CN||i===Bv||i===Pv||i===SN||i===EN||i===NN||i===TN}function GN(t,r){return t.getUint16(r)===wN}const Zg={isPngFile:XN,findPngOffsets:QN},Md=`PNG\r

`,To=4,qn=4,vs=0,ta=To,tn=To+qn,Id="XML:com.adobe.xmp\0",of="tEXt",Ra="iTXt",ko="zTXt",qv="pHYs",Gv="tIME",YN="eXIf",ZN="iCCP";function XN(t){return!!t&&Ve(t,0,Md.length)===Md}function QN(t,r){const s={hasAppMarkers:!1};let l=Md.length;for(;l+To+qn<=t.byteLength;){if(KN(t,l))s.hasAppMarkers=!0,s.pngHeaderOffset=l+tn;else if(JN(t,l)){const u=nT(t,l);u!==void 0&&(s.hasAppMarkers=!0,s.xmpChunks=[{dataOffset:u,length:t.getUint32(l+vs)-(u-(l+tn))}])}else if(VN(t,l,r)){s.hasAppMarkers=!0;const u=Ve(t,l+ta,qn);s.pngTextChunks||(s.pngTextChunks=[]),s.pngTextChunks.push({length:t.getUint32(l+vs),type:u,offset:l+tn})}else if(WN(t,l))s.hasAppMarkers=!0,s.tiffHeaderOffset=l+tn;else if(r&&eT(t,l)){s.hasAppMarkers=!0;const u=t.getUint32(l+vs),f=l+tn,{profileName:m,compressionMethod:y,compressedProfileOffset:g}=rT(t,f);s.iccChunks||(s.iccChunks=[]),s.iccChunks.push({offset:g,length:u-(g-f),chunkNumber:1,chunksTotal:1,profileName:m,compressionMethod:y})}else tT(t,l)&&(s.hasAppMarkers=!0,s.pngChunkOffsets||(s.pngChunkOffsets=[]),s.pngChunkOffsets.push(l+vs));l+=t.getUint32(l+vs)+To+qn+4}return s}function KN(t,r){return Ve(t,r+ta,qn)==="IHDR"}function JN(t,r){return Ve(t,r+ta,qn)===Ra&&Ve(t,r+tn,Id.length)===Id}function VN(t,r,i){const s=Ve(t,r+ta,qn);return s===of||s===Ra||s===ko&&i}function WN(t,r){return Ve(t,r+ta,qn)===YN}function eT(t,r){return Ve(t,r+ta,qn)===ZN}function tT(t,r){const i=[qv,Gv],s=Ve(t,r+ta,qn);return i.includes(s)}function nT(t,r){r+=tn+Id.length+1+1;let l=0;for(;l<2&&r<t.byteLength;)t.getUint8(r)===0&&l++,r++;if(!(l<2))return r}function rT(t,r){const l=gs(t,r);r+=l.length+1;const u=t.getUint8(r);return r+=1,{profileName:l,compressionMethod:u,compressedProfileOffset:r}}function aT(t,r){return t.getUint32(r+4)}function sT(t,r,i,s){const{offsets:u,sizes:f}=iT(r,i+3),m=t.getUint8(u.offsetSize)>>4;f.item.extent.extentOffset=m;const y=t.getUint8(u.lengthSize)&15;f.item.extent.extentLength=y;const g=t.getUint8(u.baseOffsetSize)>>4;f.item.baseOffset=g;const p=lT(t,u.indexSize,r);f.item.extent.extentIndex=p!==void 0?p:0;const b=oT(t,u.itemCount,r);return{type:"iloc",items:cT(t,r,u,f,m,y,p,b),length:s}}function iT(t,r){const i={item:{dataReferenceIndex:2,extentCount:2,extent:{}}};t<2?(i.itemCount=2,i.item.itemId=2):t===2&&(i.itemCount=4,i.item.itemId=4),t===1||t===2?i.item.constructionMethod=2:i.item.constructionMethod=0;const s={offsetSize:r,lengthSize:r,baseOffsetSize:r+1,indexSize:r+1};return s.itemCount=r+2,s.items=s.itemCount+i.itemCount,s.item={itemId:0},s.item.constructionMethod=s.item.itemId+i.item.itemId,s.item.dataReferenceIndex=s.item.constructionMethod+i.item.constructionMethod,{offsets:s,sizes:i}}function lT(t,r,i){if(i===1||i===2)return t.getUint8(r)&15}function oT(t,r,i){if(i<2)return t.getUint16(r);if(i===2)return t.getUint32(r)}function cT(t,r,i,s,l,u,f,m){if(m===void 0)return[];const y=[];let g=i.items;for(let p=0;p<m;p++){const b={extents:[]};b.itemId=uT(t,g,r),g+=s.item.itemId,b.constructionMethod=r===1||r===2?t.getUint16(g)&15:void 0,g+=s.item.constructionMethod,b.dataReferenceIndex=t.getUint16(g),g+=s.item.dataReferenceIndex,b.baseOffset=ho(t,g,s.item.baseOffset),g+=s.item.baseOffset,b.extentCount=t.getUint16(g),g+=s.item.extentCount;for(let v=0;v<b.extentCount;v++){const x={};x.extentIndex=dT(t,r,g,f),g+=s.item.extent.extentIndex,x.extentOffset=ho(t,g,l),g+=s.item.extent.extentOffset,x.extentLength=ho(t,g,u),g+=s.item.extent.extentLength,b.extents.push(x)}y.push(b)}return y}function uT(t,r,i){if(i<2)return t.getUint16(r);if(i===2)return t.getUint32(r)}function dT(t,r,i,s){if((r===1||r===2)&&s>0)return ho(t,i,s)}function ho(t,r,i){return i===4?t.getUint32(r):i===8?(console.warn("This file uses an 8-bit offset which is currently not supported by ExifReader. Contact the maintainer to get it fixed."),aT(t,r)):0}const fT=1718909296,mT=1768977008,hT=1835365473,pT=1768714083,gT=1768517222,vT=1768842853,bT=1768973167,yT=1668246642,Yv=1165519206,cf=1835625829,xT=1970432288;function zo(t,r){const{length:u,contentOffset:f}=ST(t,r);if(u<8)return;const m=t.getUint32(r+4);if(m===fT)return DT(t,f,u);if(m===mT)return MT(t,r,f,u);if(m===bT)return IT(t,r,f,u);if(m===yT)return UT(t,f,u);const y=t.getUint8(f);return m===hT?FT(t,r,f+1,u):m===pT?sT(t,y,f+1,u):m===gT?kT(t,r,y,f+1,u):m===vT?BT(t,r,y,f+1,u):{type:void 0,length:u}}function ST(t,r){const f=t.getUint32(r);return ET(f)?{length:t.byteLength-r,contentOffset:r+4+4}:NT(f)&&TT(t,r)?{length:t.getUint32(r+12),contentOffset:r+4+4+8}:{length:f,contentOffset:r+4+4}}function ET(t){return t===0}function NT(t){return t===1}function TT(t,r){return t.getUint32(r+8)===0}function Zv(t){{const r={},i=jT(t);return i?(r.tiffHeaderOffset=AT(t,i),r.xmpChunks=RT(i),r.iccChunks=OT(i),r.hasAppMarkers=r.tiffHeaderOffset!==void 0||r.xmpChunks!==void 0||r.iccChunks!==void 0,r):{hasAppMarkers:!1}}}function jT(t){let s=0;for(;s+4+4<=t.byteLength;){const l=zo(t,s);if(l===void 0)break;if(l.type==="meta")return l;s+=l.length}}function AT(t,r){try{const i=CT(r).itemId,s=Ud(r,i),l=s.baseOffset+s.extents[0].extentOffset;return wT(t,l)}catch{return}}function CT(t){return t.subBoxes.find(r=>r.type==="iinf").itemInfos.find(r=>r.itemType===Yv)}function Ud(t,r){return t.subBoxes.find(i=>i.type==="iloc").items.find(i=>i.itemId===r)}function wT(t,r){return r+4+t.getUint32(r)}function RT(t){try{const r=_T(t).itemId,i=Ud(t,r),s=Ud(t,r).extents[0];return[{dataOffset:i.baseOffset+s.extentOffset,length:s.extentLength}]}catch{return}}function _T(t){return t.subBoxes.find(r=>r.type==="iinf").itemInfos.find(r=>r.itemType===cf&&r.contentType==="application/rdf+xml")}function OT(t){try{const r=t.subBoxes.find(i=>i.type==="iprp").subBoxes.find(i=>i.type==="ipco").properties.find(i=>i.type==="colr").icc;if(r)return[r]}catch{}}function DT(t,r,i){return{type:"ftyp",majorBrand:Ve(t,r,4),length:i}}function MT(t,r,i,s){return{type:"iprp",subBoxes:Bo(t,i,s-(i-r)),length:s}}function IT(t,r,i,s){return{type:"ipco",properties:Bo(t,i,s-(i-r)),length:s}}function UT(t,r,i){return{type:"colr",icc:LT(t,r),length:i}}function LT(t,r){const s=Ve(t,r,4);if(!(s!=="prof"&&s!=="rICC"))return{offset:r+4,length:t.getUint32(r+4),chunkNumber:1,chunksTotal:1}}function FT(t,r,i,s){return{type:"meta",subBoxes:Bo(t,i+3,s-(i+3-r)),length:s}}function Bo(t,r,i){const s=[Yv,cf],l=[];let u=r;for(;u<r+i;){const f=zo(t,u);if(f===void 0)break;f.type!==void 0&&(f.itemType===void 0||s.indexOf(f.itemType)!==-1)&&l.push(f),u+=f.length}return l}function kT(t,r,i,s,l){const{offsets:u}=zT(i,s);return{type:"iinf",itemInfos:Bo(t,u.itemInfos,l-(u.itemInfos-r)),length:l}}function zT(t,r){const s={entryCount:r+3},l={};return t===0?l.entryCount=2:l.entryCount=4,s.itemInfos=s.entryCount+l.entryCount,{offsets:s}}function BT(t,r,i,s,l){s+=3;const f={type:"infe",length:l};return(i===0||i===1)&&(f.itemId=t.getUint16(s),s+=2,f.itemProtectionIndex=t.getUint16(s),s+=2,f.itemName=gs(t,s),s+=f.itemName.length+1),i>=2&&(i===2?(f.itemId=t.getUint16(s),s+=2):i===3&&(f.itemId=t.getUint32(s),s+=4),f.itemProtectionIndex=t.getUint16(s),s+=2,f.itemType=t.getUint32(s),s+=4,f.itemName=gs(t,s),s+=f.itemName.length+1,f.itemType===cf?(f.contentType=gs(t,s),s+=f.contentType.length+1,r+l>s&&(f.contentEncoding=gs(t,s),s+=f.contentEncoding.length+1)):f.itemType===xT&&(f.itemUri=gs(t,s),s+=f.itemUri.length+1)),f}const Xg={isHeicFile:PT,findHeicOffsets:HT};function PT(t){if(!t)return!1;const r=["heic","heix","hevc","hevx","heim","heis","hevm","hevs","mif1"];try{const i=zo(t,0);return i&&r.indexOf(i.majorBrand)!==-1}catch{return!1}}function HT(t){return Zv(t)}const Qg={isAvifFile:$T,findAvifOffsets:qT};function $T(t){if(!t)return!1;try{const r=zo(t,0);return r&&r.majorBrand==="avif"}catch{return!1}}function qT(t){return Zv(t)}const Kg={isWebpFile:GT,findOffsets:YT};function GT(t){const i="RIFF",l="WEBP";return!!t&&Ve(t,0,i.length)===i&&Ve(t,8,l.length)===l}function YT(t){const s="Exif\0\0";let u=12,f=!1,m,y,g,p;for(;u+8<t.byteLength;){const b=Ve(t,u,4),v=t.getUint32(u+4,!0);b==="EXIF"?(f=!0,Ve(t,u+8,s.length)===s?m=u+8+s.length:m=u+8):b==="XMP "?(f=!0,y=[{dataOffset:u+8,length:v}]):b==="ICCP"?(f=!0,g=[{offset:u+8,length:v,chunkNumber:1,chunksTotal:1}]):b==="VP8X"&&(f=!0,p=u+8),u+=8+(v%2===0?v:v+1)}return{hasAppMarkers:f,tiffHeaderOffset:m,xmpChunks:y,iccChunks:g,vp8xChunkOffset:p}}const Jg={isGifFile:QT,findOffsets:KT},ZT=6,XT=["GIF87a","GIF89a"];function QT(t){return!!t&&XT.includes(Ve(t,0,ZT))}function KT(){return{gifHeaderOffset:0}}const Vg={isXMLFile:JT,findOffsets:VT},Xv=0,Wg="<?xpacket begin";function JT(t){return!!t&&Ve(t,Xv,Wg.length)===Wg}function VT(t){const r=[];return r.push({dataOffset:Xv,length:t.byteLength}),{xmpChunks:r}}const WT={parseAppMarkers:ej};function ej(t,r){if(Ug.isTiffFile(t))return Qr(Ug.findTiffOffsets(),"tiff","TIFF");if(Lg.isJpegFile(t))return Qr(Lg.findJpegOffsets(t),"jpeg","JPEG");if(Zg.isPngFile(t))return Qr(Zg.findPngOffsets(t,r),"png","PNG");if(Xg.isHeicFile(t))return Qr(Xg.findHeicOffsets(t),"heic","HEIC");if(Qg.isAvifFile(t))return Qr(Qg.findAvifOffsets(t),"avif","AVIF");if(Kg.isWebpFile(t))return Qr(Kg.findOffsets(t),"webp","WebP");if(Jg.isGifFile(t))return Qr(Jg.findOffsets(t),"gif","GIF");if(Vg.isXMLFile(t))return Qr(Vg.findOffsets(t),"xml","XML");throw new Error("Invalid image format")}function Qr(t,r,i){return st({},t,{fileType:{value:r,description:i}})}const Je={ApertureValue:t=>Math.pow(Math.sqrt(2),t[0]/t[1]).toFixed(2),ColorSpace(t){return t===1?"sRGB":t===65535?"Uncalibrated":"Unknown"},ComponentsConfiguration(t){return t.map(r=>{if(r===49)return"Y";if(r===50)return"Cb";if(r===51)return"Cr";if(r===52)return"R";if(r===53)return"G";if(r===54)return"B"}).join("")},Contrast(t){return t===0?"Normal":t===1?"Soft":t===2?"Hard":"Unknown"},CustomRendered(t){return t===0?"Normal process":t===1?"Custom process":"Unknown"},ExposureMode(t){return t===0?"Auto exposure":t===1?"Manual exposure":t===2?"Auto bracket":"Unknown"},ExposureProgram(t){return t===0?"Undefined":t===1?"Manual":t===2?"Normal program":t===3?"Aperture priority":t===4?"Shutter priority":t===5?"Creative program":t===6?"Action program":t===7?"Portrait mode":t===8?"Landscape mode":t===9?"Bulb":"Unknown"},ExposureTime(t){if(t[0]/t[1]>.25){const r=t[0]/t[1];return Number.isInteger(r)?""+r:r.toFixed(1)}return t[0]!==0?`1/${Math.round(t[1]/t[0])}`:`0/${t[1]}`},FNumber:t=>`f/${t[0]/t[1]}`,FocalLength:t=>t[0]/t[1]+" mm",FocalPlaneResolutionUnit(t){return t===2?"inches":t===3?"centimeters":"Unknown"},LightSource:t=>t===1?"Daylight":t===2?"Fluorescent":t===3?"Tungsten (incandescent light)":t===4?"Flash":t===9?"Fine weather":t===10?"Cloudy weather":t===11?"Shade":t===12?"Daylight fluorescent (D 5700  7100K)":t===13?"Day white fluorescent (N 4600  5400K)":t===14?"Cool white fluorescent (W 3900  4500K)":t===15?"White fluorescent (WW 3200  3700K)":t===17?"Standard light A":t===18?"Standard light B":t===19?"Standard light C":t===20?"D55":t===21?"D65":t===22?"D75":t===23?"D50":t===24?"ISO studio tungsten":t===255?"Other light source":"Unknown",MeteringMode(t){return t===1?"Average":t===2?"CenterWeightedAverage":t===3?"Spot":t===4?"MultiSpot":t===5?"Pattern":t===6?"Partial":t===255?"Other":"Unknown"},ResolutionUnit(t){return t===2?"inches":t===3?"centimeters":"Unknown"},Saturation(t){return t===0?"Normal":t===1?"Low saturation":t===2?"High saturation":"Unknown"},SceneCaptureType(t){return t===0?"Standard":t===1?"Landscape":t===2?"Portrait":t===3?"Night scene":"Unknown"},Sharpness(t){return t===0?"Normal":t===1?"Soft":t===2?"Hard":"Unknown"},ShutterSpeedValue(t){const r=Math.pow(2,t[0]/t[1]);return r<=1?`${Math.round(1/r)}`:`1/${Math.round(r)}`},WhiteBalance(t){return t===0?"Auto white balance":t===1?"Manual white balance":"Unknown"},XResolution:t=>""+Math.round(t[0]/t[1]),YResolution:t=>""+Math.round(t[0]/t[1])},Qv={11:"ProcessingSoftware",254:{name:"SubfileType",description:t=>({0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image",3:"Single page of multi-page reduced-resolution image",4:"Transparency mask",5:"Transparency mask of reduced-resolution image",6:"Transparency mask of multi-page image",7:"Transparency mask of reduced-resolution multi-page image",65537:"Alternate reduced-resolution image",4294967295:"Invalid"})[t]||"Unknown"},255:{name:"OldSubfileType",description:t=>({0:"Full-resolution image",1:"Reduced-resolution image",2:"Single page of multi-page image"})[t]||"Unknown"},256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:{name:"Thresholding",description:t=>({1:"No dithering or halftoning",2:"Ordered dither or halfton",3:"Randomized dither"})[t]||"Unknown"},264:"CellWidth",265:"CellLength",266:{name:"FillOrder",description:t=>({1:"Normal",2:"Reversed"})[t]||"Unknown"},269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:t=>t===1?"top-left":t===2?"top-right":t===3?"bottom-right":t===4?"bottom-left":t===5?"left-top":t===6?"right-top":t===7?"right-bottom":t===8?"left-bottom":"Undefined"},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:{name:"XResolution",description:Je.XResolution},283:{name:"YResolution",description:Je.YResolution},284:"PlanarConfiguration",285:"PageName",286:{name:"XPosition",description:t=>""+Math.round(t[0]/t[1])},287:{name:"YPosition",description:t=>""+Math.round(t[0]/t[1])},290:{name:"GrayResponseUnit",description:t=>({1:"0.1",2:"0.001",3:"0.0001",4:"1e-05",5:"1e-06"})[t]||"Unknown"},296:{name:"ResolutionUnit",description:Je.ResolutionUnit},297:"PageNumber",301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:{name:"WhitePoint",description:t=>t.map(r=>`${r[0]}/${r[1]}`).join(", ")},319:{name:"PrimaryChromaticities",description:t=>t.map(r=>`${r[0]}/${r[1]}`).join(", ")},321:"HalftoneHints",322:"TileWidth",323:"TileLength",330:"A100DataOffset",332:{name:"InkSet",description:t=>({1:"CMYK",2:"Not CMYK"})[t]||"Unknown"},337:"TargetPrinter",338:{name:"ExtraSamples",description:t=>({0:"Unspecified",1:"Associated Alpha",2:"Unassociated Alpha"})[t]||"Unknown"},339:{name:"SampleFormat",description:t=>{const r={1:"Unsigned",2:"Signed",3:"Float",4:"Undefined",5:"Complex int",6:"Complex float"};return Array.isArray(t)?t.map(i=>r[i]||"Unknown").join(", "):"Unknown"}},513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:{name:"YCbCrCoefficients",description:t=>t.map(r=>""+r[0]/r[1]).join("/")},530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:t=>t===1?"centered":t===2?"co-sited":"undefined "+t},532:{name:"ReferenceBlackWhite",description:t=>t.map(r=>""+r[0]/r[1]).join(", ")},700:"ApplicationNotes",18246:"Rating",18249:"RatingPercent",33432:{name:"Copyright",description:t=>t.join("; ")},33550:"PixelScale",33723:"IPTC-NAA",33920:"IntergraphMatrix",33922:"ModelTiePoint",34118:"SEMInfo",34264:"ModelTransform",34377:"PhotoshopSettings",34665:"Exif IFD Pointer",34675:"ICC_Profile",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34853:"GPS Info IFD Pointer",40091:{name:"XPTitle",description:Ri},40092:{name:"XPComment",description:Ri},40093:{name:"XPAuthor",description:Ri},40094:{name:"XPKeywords",description:Ri},40095:{name:"XPSubject",description:Ri},42112:"GDALMetadata",42113:"GDALNoData",50341:"PrintIM",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50739:"ShadowScale",50741:{name:"MakerNoteSafety",description:t=>({0:"Unsafe",1:"Safe"})[t]||"Unknown"},50778:{name:"CalibrationIlluminant1",description:Je.LightSource},50779:{name:"CalibrationIlluminant2",description:Je.LightSource},50781:"RawDataUniqueID",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50885:"SRawType",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:{name:"ProfileEmbedPolicy",description:t=>({0:"Allow Copying",1:"Embed if Used",2:"Never Embed",3:"No Restrictions"})[t]||"Unknown"},50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:{name:"PreviewColorSpace",description:t=>({1:"Gray Gamma 2.2",2:"sRGB",3:"Adobe RGB",4:"ProPhoto RGB"})[t]||"Unknown"},50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:{name:"ProfileHueSatMapEncoding",description:t=>({0:"Linear",1:"sRGB"})[t]||"Unknown"},51108:{name:"ProfileLookTableEncoding",description:t=>({0:"Linear",1:"sRGB"})[t]||"Unknown"},51109:"BaselineExposureOffset",51110:{name:"DefaultBlackRender",description:t=>({0:"Auto",1:"None"})[t]||"Unknown"},51111:"NewRawImageDigest",51112:"RawToPreviewGain"};function Ri(t){return new TextDecoder("utf-16").decode(new Uint8Array(t)).replace(/\u0000+$/,"")}const tj={33434:{name:"ExposureTime",description:Je.ExposureTime},33437:{name:"FNumber",description:Je.FNumber},34850:{name:"ExposureProgram",description:Je.ExposureProgram},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:()=>"[Raw OECF table data]"},34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:{name:"SensitivityType",description:t=>({1:"Standard Output Sensitivity",2:"Recommended Exposure Index",3:"ISO Speed",4:"Standard Output Sensitivity and Recommended Exposure Index",5:"Standard Output Sensitivity and ISO Speed",6:"Recommended Exposure Index and ISO Speed",7:"Standard Output Sensitivity, Recommended Exposure Index and ISO Speed"})[t]||"Unknown"},34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:{name:"ExifVersion",description:t=>$t(t)},36867:"DateTimeOriginal",36868:"DateTimeDigitized",36873:"GooglePlusUploadCode",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37121:{name:"ComponentsConfiguration",description:Je.ComponentsConfiguration},37122:"CompressedBitsPerPixel",37377:{name:"ShutterSpeedValue",description:Je.ShutterSpeedValue},37378:{name:"ApertureValue",description:Je.ApertureValue},37379:"BrightnessValue",37380:"ExposureBiasValue",37381:{name:"MaxApertureValue",description:t=>Math.pow(Math.sqrt(2),t[0]/t[1]).toFixed(2)},37382:{name:"SubjectDistance",description:t=>t[0]/t[1]+" m"},37383:{name:"MeteringMode",description:Je.MeteringMode},37384:{name:"LightSource",description:Je.LightSource},37385:{name:"Flash",description:t=>t===0?"Flash did not fire":t===1?"Flash fired":t===5?"Strobe return light not detected":t===7?"Strobe return light detected":t===9?"Flash fired, compulsory flash mode":t===13?"Flash fired, compulsory flash mode, return light not detected":t===15?"Flash fired, compulsory flash mode, return light detected":t===16?"Flash did not fire, compulsory flash mode":t===24?"Flash did not fire, auto mode":t===25?"Flash fired, auto mode":t===29?"Flash fired, auto mode, return light not detected":t===31?"Flash fired, auto mode, return light detected":t===32?"No flash function":t===65?"Flash fired, red-eye reduction mode":t===69?"Flash fired, red-eye reduction mode, return light not detected":t===71?"Flash fired, red-eye reduction mode, return light detected":t===73?"Flash fired, compulsory flash mode, red-eye reduction mode":t===77?"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected":t===79?"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected":t===89?"Flash fired, auto mode, red-eye reduction mode":t===93?"Flash fired, auto mode, return light not detected, red-eye reduction mode":t===95?"Flash fired, auto mode, return light detected, red-eye reduction mode":"Unknown"},37386:{name:"FocalLength",description:Je.FocalLength},37393:"ImageNumber",37394:{name:"SecurityClassification",description:t=>({C:"Confidential",R:"Restricted",S:"Secret",T:"Top Secret",U:"Unclassified"})[t]||"Unknown"},37395:"ImageHistory",37396:{name:"SubjectArea",description:t=>t.length===2?`Location; X: ${t[0]}, Y: ${t[1]}`:t.length===3?`Circle; X: ${t[0]}, Y: ${t[1]}, diameter: ${t[2]}`:t.length===4?`Rectangle; X: ${t[0]}, Y: ${t[1]}, width: ${t[2]}, height: ${t[3]}`:"Unknown"},37500:{name:"MakerNote",description:()=>"[Raw maker note data]"},37510:{name:"UserComment",description:Rd},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37724:"ImageSourceData",37888:{name:"AmbientTemperature",description:t=>t[0]/t[1]+" C"},37889:{name:"Humidity",description:t=>t[0]/t[1]+" %"},37890:{name:"Pressure",description:t=>t[0]/t[1]+" hPa"},37891:{name:"WaterDepth",description:t=>t[0]/t[1]+" m"},37892:{name:"Acceleration",description:t=>t[0]/t[1]+" mGal"},37893:{name:"CameraElevationAngle",description:t=>t[0]/t[1]+" "},40960:{name:"FlashpixVersion",description:t=>t.map(r=>String.fromCharCode(r)).join("")},40961:{name:"ColorSpace",description:Je.ColorSpace},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:()=>"[Raw SFR table data]"},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:Je.FocalPlaneResolutionUnit},41492:{name:"SubjectLocation",description:([t,r])=>`X: ${t}, Y: ${r}`},41493:"ExposureIndex",41495:{name:"SensingMethod",description:t=>t===1?"Undefined":t===2?"One-chip color area sensor":t===3?"Two-chip color area sensor":t===4?"Three-chip color area sensor":t===5?"Color sequential area sensor":t===7?"Trilinear sensor":t===8?"Color sequential linear sensor":"Unknown"},41728:{name:"FileSource",description:t=>t===3?"DSC":"Unknown"},41729:{name:"SceneType",description:t=>t===1?"A directly photographed image":"Unknown"},41730:{name:"CFAPattern",description:()=>"[Raw CFA pattern table data]"},41985:{name:"CustomRendered",description:Je.CustomRendered},41986:{name:"ExposureMode",description:Je.ExposureMode},41987:{name:"WhiteBalance",description:Je.WhiteBalance},41988:{name:"DigitalZoomRatio",description:t=>t[0]===0?"Digital zoom was not used":""+t[0]/t[1]},41989:{name:"FocalLengthIn35mmFilm",description:t=>t===0?"Unknown":t+" mm"},41990:{name:"SceneCaptureType",description:Je.SceneCaptureType},41991:{name:"GainControl",description:t=>t===0?"None":t===1?"Low gain up":t===2?"High gain up":t===3?"Low gain down":t===4?"High gain down":"Unknown"},41992:{name:"Contrast",description:Je.Contrast},41993:{name:"Saturation",description:Je.Saturation},41994:{name:"Sharpness",description:Je.Sharpness},41995:{name:"DeviceSettingDescription",description:()=>"[Raw device settings table data]"},41996:{name:"SubjectDistanceRange",description:t=>t===1?"Macro":t===2?"Close view":t===3?"Distant view":"Unknown"},42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:{name:"LensSpecification",description:t=>{const r=parseFloat((t[0][0]/t[0][1]).toFixed(5)),i=parseFloat((t[1][0]/t[1][1]).toFixed(5)),s=`${r}-${i} mm`;if(t[3][1]===0)return`${s} f/?`;const l=1/(t[2][1]/t[2][1]/(t[3][0]/t[3][1]));return`${s} f/${parseFloat(l.toFixed(5))}`}},42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42080:{name:"CompositeImage",description:t=>({1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"})[t]||"Unknown"},42081:"SourceImageNumberOfCompositeImage",42082:"SourceExposureTimesOfCompositeImage",42240:"Gamma",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},nj={0:{name:"GPSVersionID",description:t=>t[0]===2&&t[1]===2&&t[2]===0&&t[3]===0?"Version 2.2":"Unknown"},1:{name:"GPSLatitudeRef",description:t=>{const r=t.join("");return r==="N"?"North latitude":r==="S"?"South latitude":"Unknown"}},2:{name:"GPSLatitude",description:No},3:{name:"GPSLongitudeRef",description:t=>{const r=t.join("");return r==="E"?"East longitude":r==="W"?"West longitude":"Unknown"}},4:{name:"GPSLongitude",description:No},5:{name:"GPSAltitudeRef",description:t=>t===0?"Sea level":t===1?"Sea level reference (negative value)":"Unknown"},6:{name:"GPSAltitude",description:t=>t[0]/t[1]+" m"},7:{name:"GPSTimeStamp",description:t=>t.map(([r,i])=>{const s=r/i;return/^\d(\.|$)/.test(`${s}`)?`0${s}`:s}).join(":")},8:"GPSSatellites",9:{name:"GPSStatus",description:t=>{const r=t.join("");return r==="A"?"Measurement in progress":r==="V"?"Measurement Interoperability":"Unknown"}},10:{name:"GPSMeasureMode",description:t=>{const r=t.join("");return r==="2"?"2-dimensional measurement":r==="3"?"3-dimensional measurement":"Unknown"}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:t=>{const r=t.join("");return r==="K"?"Kilometers per hour":r==="M"?"Miles per hour":r==="N"?"Knots":"Unknown"}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:t=>{const r=t.join("");return r==="T"?"True direction":r==="M"?"Magnetic direction":"Unknown"}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:t=>{const r=t.join("");return r==="T"?"True direction":r==="M"?"Magnetic direction":"Unknown"}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:t=>{const r=t.join("");return r==="N"?"North latitude":r==="S"?"South latitude":"Unknown"}},20:{name:"GPSDestLatitude",description:t=>t[0][0]/t[0][1]+t[1][0]/t[1][1]/60+t[2][0]/t[2][1]/3600},21:{name:"GPSDestLongitudeRef",description:t=>{const r=t.join("");return r==="E"?"East longitude":r==="W"?"West longitude":"Unknown"}},22:{name:"GPSDestLongitude",description:t=>t[0][0]/t[0][1]+t[1][0]/t[1][1]/60+t[2][0]/t[2][1]/3600},23:{name:"GPSDestBearingRef",description:t=>{const r=t.join("");return r==="T"?"True direction":r==="M"?"Magnetic direction":"Unknown"}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:t=>{const r=t.join("");return r==="K"?"Kilometers":r==="M"?"Miles":r==="N"?"Knots":"Unknown"}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:Rd},28:{name:"GPSAreaInformation",description:Rd},29:"GPSDateStamp",30:{name:"GPSDifferential",description:t=>t===0?"Measurement without differential correction":t===1?"Differential correction applied":"Unknown"},31:"GPSHPositioningError"},rj={1:"InteroperabilityIndex",2:{name:"InteroperabilityVersion",description:t=>$t(t)},4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight"},aj={45056:{name:"MPFVersion",description:t=>$t(t)},45057:"NumberOfImages",45058:"MPEntry",45059:"ImageUIDList",45060:"TotalFrames"},sj={4:{name:"ShotInfo",description:t=>t}},e0=st({},Qv,tj),uf="0th",Kv="1st",Jv="exif",Vv="gps",Wv="interoperability",eb="mpf",tb="canon",Kr={[uf]:e0,[Kv]:Qv,[Jv]:e0,[Vv]:nj,[Wv]:rj,[eb]:aj,[tb]:sj},nb={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8,13:4},Ld={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10,IFD:13},Re={getAsciiValue:ij,getByteAt:rb,getAsciiAt:lj,getShortAt:oj,getLongAt:jo,getRationalAt:cj,getUndefinedAt:uj,getSlongAt:Fd,getSrationalAt:dj,getIfdPointerAt:fj,typeSizes:nb,tagTypes:Ld,getTypeSize:mj};function ij(t){return t.map(r=>String.fromCharCode(r))}function rb(t,r){return t.getUint8(r)}function lj(t,r){return t.getUint8(r)}function oj(t,r,i){return t.getUint16(r,i===_a.LITTLE_ENDIAN)}function jo(t,r,i){return t.getUint32(r,i===_a.LITTLE_ENDIAN)}function cj(t,r,i){return[jo(t,r,i),jo(t,r+4,i)]}function uj(t,r){return rb(t,r)}function Fd(t,r,i){return t.getInt32(r,i===_a.LITTLE_ENDIAN)}function dj(t,r,i){return[Fd(t,r,i),Fd(t,r+4,i)]}function fj(t,r,i){return jo(t,r,i)}function mj(t){if(Ld[t]===void 0)throw new Error("No such type found.");return nb[Ld[t]]}const hj={1:Re.getByteAt,2:Re.getAsciiAt,3:Re.getShortAt,4:Re.getLongAt,5:Re.getRationalAt,7:Re.getUndefinedAt,9:Re.getSlongAt,10:Re.getSrationalAt,13:Re.getIfdPointerAt};function ab(t,r,i){return r+Re.getLongAt(t,r+4,i)}function Oa(t,r,i,s,l,u){const f=Re.getTypeSize("SHORT"),m=12,y={},g=pj(t,s,l);s+=f;for(let p=0;p<g&&!(s+m>t.byteLength);p++){const b=gj(t,r,i,s,l,u);b!==void 0&&(y[b.name]={id:b.id,value:b.value,description:b.description},b.name==="MakerNote"&&(y[b.name].__offset=b.__offset)),s+=m}if(s<t.byteLength-Re.getTypeSize("LONG")){const p=Re.getLongAt(t,s,l);p!==0&&r===uf&&(y.Thumbnail=Oa(t,Kv,i,i+p,l,u))}return y}function pj(t,r,i){return r+Re.getTypeSize("SHORT")<=t.byteLength?Re.getShortAt(t,r,i):0}function gj(t,r,i,s,l,u){const m=Re.getTypeSize("SHORT"),y=m+Re.getTypeSize("SHORT"),g=y+Re.getTypeSize("LONG"),p=Re.getShortAt(t,s,l),b=Re.getShortAt(t,s+m,l),v=Re.getLongAt(t,s+y,l);let x,N;if(Re.typeSizes[b]===void 0||!u&&Kr[r][p]===void 0)return;if(vj(b,v))N=s+g,x=t0(t,N,b,v,l);else if(N=Re.getLongAt(t,s+g,l),bj(t,i,N,b,v)){const w=p===33723;x=t0(t,i+N,b,v,l,w)}else x="<faulty value>";b===Re.tagTypes.ASCII&&(x=yj(x),x=xj(x));let O=`undefined-${p}`,C=x;if(Kr[r][p]!==void 0)if(Kr[r][p].name!==void 0&&Kr[r][p].description!==void 0){O=Kr[r][p].name;try{C=Kr[r][p].description(x)}catch{C=n0(x)}}else b===Re.tagTypes.RATIONAL||b===Re.tagTypes.SRATIONAL?(O=Kr[r][p],C=""+x[0]/x[1]):(O=Kr[r][p],C=n0(x));return{id:p,name:O,value:x,description:C,__offset:N}}function vj(t,r){return Re.typeSizes[t]*r<=Re.getTypeSize("LONG")}function t0(t,r,i,s,l,u=!1){let f=[];u&&(s=s*Re.typeSizes[i],i=Re.tagTypes.BYTE);for(let m=0;m<s;m++)f.push(hj[i](t,r,l)),r+=Re.typeSizes[i];return i===Re.tagTypes.ASCII?f=Re.getAsciiValue(f):f.length===1&&(f=f[0]),f}function bj(t,r,i,s,l){return r+i+Re.typeSizes[s]*l<=t.byteLength}function yj(t){const r=[];let i=0;for(let s=0;s<t.length;s++){if(t[s]==="\0"){i++;continue}r[i]===void 0&&(r[i]=""),r[i]+=t[s]}return r}function xj(t){try{return t.map(r=>decodeURIComponent(escape(r)))}catch{return t}}function n0(t){return t instanceof Array?t.join(", "):t}const r0="Exif IFD Pointer",a0="GPS Info IFD Pointer",s0="Interoperability IFD Pointer",sb={read:Sj};function Sj(t,r,i){const s=_a.getByteOrder(t,r);let l=Ej(t,r,s,i);return l=Nj(l,t,r,s,i),l=Tj(l,t,r,s,i),l=jj(l,t,r,s,i),{tags:l,byteOrder:s}}function Ej(t,r,i,s){return Oa(t,uf,r,ab(t,r,i),i,s)}function Nj(t,r,i,s,l){return t[r0]!==void 0?st(t,Oa(r,Jv,i,i+t[r0].value,s,l)):t}function Tj(t,r,i,s,l){return t[a0]!==void 0?st(t,Oa(r,Vv,i,i+t[a0].value,s,l)):t}function jj(t,r,i,s,l){return t[s0]!==void 0?st(t,Oa(r,Wv,i,i+t[s0].value,s,l)):t}const Aj={read:Cj},bs=16;function Cj(t,r,i){const s=_a.getByteOrder(t,r),l=Oa(t,eb,r,ab(t,r,s),s,i);return wj(t,r,l,s)}function wj(t,r,i,s){if(!i.MPEntry)return i;const l=[];for(let u=0;u<Math.ceil(i.MPEntry.value.length/bs);u++){l[u]={};const f=Oi(i.MPEntry.value,u*bs,Re.getTypeSize("LONG"),s);l[u].ImageFlags=Rj(f),l[u].ImageFormat=_j(f),l[u].ImageType=Oj(f);const m=Oi(i.MPEntry.value,u*bs+4,Re.getTypeSize("LONG"),s);l[u].ImageSize={value:m,description:""+m};const y=Dj(u,i.MPEntry,s,r);l[u].ImageOffset={value:y,description:""+y};const g=Oi(i.MPEntry.value,u*bs+12,Re.getTypeSize("SHORT"),s);l[u].DependentImage1EntryNumber={value:g,description:""+g};const p=Oi(i.MPEntry.value,u*bs+14,Re.getTypeSize("SHORT"),s);l[u].DependentImage2EntryNumber={value:p,description:""+p},l[u].image=t.buffer.slice(y,y+m),Iv(l[u],"base64",function(){return Uv(this.image)})}return i.Images=l,i}function Oi(t,r,i,s){if(s===_a.LITTLE_ENDIAN){let u=0;for(let f=0;f<i;f++)u+=t[r+f]<<8*f;return u}let l=0;for(let u=0;u<i;u++)l+=t[r+u]<<8*(i-1-u);return l}function Rj(t){const r=[t>>31&1,t>>30&1,t>>29&1],i=[];return r[0]&&i.push("Dependent Parent Image"),r[1]&&i.push("Dependent Child Image"),r[2]&&i.push("Representative Image"),{value:r,description:i.join(", ")||"None"}}function _j(t){const r=t>>24&7;return{value:r,description:r===0?"JPEG":"Unknown"}}function Oj(t){const r=t&16777215;return{value:r,description:{196608:"Baseline MP Primary Image",65537:"Large Thumbnail (VGA equivalent)",65538:"Large Thumbnail (Full HD equivalent)",131073:"Multi-Frame Image (Panorama)",131074:"Multi-Frame Image (Disparity)",131075:"Multi-Frame Image (Multi-Angle)",0:"Undefined"}[r]||"Unknown"}}function Dj(t,r,i,s){return Mj(t)?0:Oi(r.value,t*bs+8,Re.getTypeSize("LONG"),i)+s}function Mj(t){return t===0}const Ij={read:Uj};function Uj(t,r){const i=Lj(t,r),s=Bj(t,r,i);return{"Bits Per Sample":Fj(t,r,i),"Image Height":kj(t,r,i),"Image Width":zj(t,r,i),"Color Components":s,Subsampling:s&&Pj(t,r,s.value,i)}}function Lj(t,r){return Re.getShortAt(t,r)}function Fj(t,r,i){if(3>i)return;const u=Re.getByteAt(t,r+2);return{value:u,description:""+u}}function kj(t,r,i){if(5>i)return;const u=Re.getShortAt(t,r+3);return{value:u,description:`${u}px`}}function zj(t,r,i){if(7>i)return;const u=Re.getShortAt(t,r+5);return{value:u,description:`${u}px`}}function Bj(t,r,i){if(8>i)return;const u=Re.getByteAt(t,r+7);return{value:u,description:""+u}}function Pj(t,r,i,s){if(8+3*i>s)return;const f=[];for(let m=0;m<i;m++){const y=r+8+m*3;f.push([Re.getByteAt(t,y),Re.getByteAt(t,y+1),Re.getByteAt(t,y+2)])}return{value:f,description:f.length>1?Hj(f)+$j(f):""}}function Hj(t){const r={1:"Y",2:"Cb",3:"Cr",4:"I",5:"Q"};return t.map(i=>r[i[0]]).join("")}function $j(t){const r={17:"4:4:4 (1 1)",18:"4:4:0 (1 2)",20:"4:4:1 (1 4)",33:"4:2:2 (2 1)",34:"4:2:0 (2 2)",36:"4:2:1 (2 4)",65:"4:1:1 (4 1)",66:"4:1:0 (4 2)"};return t.length===0||t[0][1]===void 0||r[t[0][1]]===void 0?"":r[t[0][1]]}const qj={read:Gj};function Gj(t,r){const i=Yj(t,r),s=Vj(t,r,i),l=Wj(t,r,i),u={"JFIF Version":Zj(t,r,i),"Resolution Unit":Xj(t,r,i),XResolution:Kj(t,r,i),YResolution:Jj(t,r,i),"JFIF Thumbnail Width":s,"JFIF Thumbnail Height":l};if(s!==void 0&&l!==void 0){const f=eA(t,r,3*s.value*l.value,i);f&&(u["JFIF Thumbnail"]=f)}for(const f in u)u[f]===void 0&&delete u[f];return u}function Yj(t,r){return Re.getShortAt(t,r)}function Zj(t,r,i){if(9>i)return;const u=Re.getByteAt(t,r+7),f=Re.getByteAt(t,r+7+1);return{value:u*256+f,description:u+"."+f}}function Xj(t,r,i){if(10>i)return;const u=Re.getByteAt(t,r+9);return{value:u,description:Qj(u)}}function Qj(t){return t===0?"None":t===1?"inches":t===2?"cm":"Unknown"}function Kj(t,r,i){if(12>i)return;const u=Re.getShortAt(t,r+10);return{value:u,description:""+u}}function Jj(t,r,i){if(14>i)return;const u=Re.getShortAt(t,r+12);return{value:u,description:""+u}}function Vj(t,r,i){if(15>i)return;const u=Re.getByteAt(t,r+14);return{value:u,description:`${u}px`}}function Wj(t,r,i){if(16>i)return;const u=Re.getByteAt(t,r+15);return{value:u,description:`${u}px`}}function eA(t,r,i,s){return i===0||16+i>s?void 0:{value:t.buffer.slice(r+16,r+16+i),description:"<24-bit RGB pixel data>"}}const ea={iptc:{256:{name:"Model Version",description:t=>((t[0]<<8)+t[1]).toString()},261:{name:"Destination",repeatable:!0},276:{name:"File Format",description:t=>((t[0]<<8)+t[1]).toString()},278:{name:"File Format Version",description:t=>((t[0]<<8)+t[1]).toString()},286:"Service Identifier",296:"Envelope Number",306:"Product ID",316:"Envelope Priority",326:{name:"Date Sent",description:ud},336:{name:"Time Sent",description:dd},346:{name:"Coded Character Set",description:i0,encoding_name:i0},356:"UNO",376:{name:"ARM Identifier",description:t=>((t[0]<<8)+t[1]).toString()},378:{name:"ARM Version",description:t=>((t[0]<<8)+t[1]).toString()},512:{name:"Record Version",description:t=>((t[0]<<8)+t[1]).toString()},515:"Object Type Reference",516:"Object Attribute Reference",517:"Object Name",519:"Edit Status",520:{name:"Editorial Update",description:t=>$t(t)==="01"?"Additional Language":"Unknown"},522:"Urgency",524:{name:"Subject Reference",repeatable:!0,description:t=>{const r=$t(t).split(":");return r[2]+(r[3]?"/"+r[3]:"")+(r[4]?"/"+r[4]:"")}},527:"Category",532:{name:"Supplemental Category",repeatable:!0},534:"Fixture Identifier",537:{name:"Keywords",repeatable:!0},538:{name:"Content Location Code",repeatable:!0},539:{name:"Content Location Name",repeatable:!0},542:"Release Date",547:"Release Time",549:"Expiration Date",550:"Expiration Time",552:"Special Instructions",554:{name:"Action Advised",description:t=>{const r=$t(t);return r==="01"?"Object Kill":r==="02"?"Object Replace":r==="03"?"Object Append":r==="04"?"Object Reference":"Unknown"}},557:{name:"Reference Service",repeatable:!0},559:{name:"Reference Date",repeatable:!0},562:{name:"Reference Number",repeatable:!0},567:{name:"Date Created",description:ud},572:{name:"Time Created",description:dd},574:{name:"Digital Creation Date",description:ud},575:{name:"Digital Creation Time",description:dd},577:"Originating Program",582:"Program Version",587:{name:"Object Cycle",description:t=>{const r=$t(t);return r==="a"?"morning":r==="p"?"evening":r==="b"?"both":"Unknown"}},592:{name:"By-line",repeatable:!0},597:{name:"By-line Title",repeatable:!0},602:"City",604:"Sub-location",607:"Province/State",612:"Country/Primary Location Code",613:"Country/Primary Location Name",615:"Original Transmission Reference",617:"Headline",622:"Credit",627:"Source",628:"Copyright Notice",630:{name:"Contact",repeatable:!0},632:"Caption/Abstract",634:{name:"Writer/Editor",repeatable:!0},637:{name:"Rasterized Caption",description:t=>t},642:"Image Type",643:{name:"Image Orientation",description:t=>{const r=$t(t);return r==="P"?"Portrait":r==="L"?"Landscape":r==="S"?"Square":"Unknown"}},647:"Language Identifier",662:{name:"Audio Type",description:t=>{const r=$t(t),i=r.charAt(0),s=r.charAt(1);let l="";return i==="1"?l+="Mono":i==="2"&&(l+="Stereo"),s==="A"?l+=", actuality":s==="C"?l+=", question and answer session":s==="M"?l+=", music, transmitted by itself":s==="Q"?l+=", response to a question":s==="R"?l+=", raw sound":s==="S"?l+=", scener":s==="V"?l+=", voicer":s==="W"&&(l+=", wrap"),l!==""?l:r}},663:{name:"Audio Sampling Rate",description:t=>parseInt($t(t),10)+" Hz"},664:{name:"Audio Sampling Resolution",description:t=>{const r=parseInt($t(t),10);return r+(r===1?" bit":" bits")}},665:{name:"Audio Duration",description:t=>{const r=$t(t);return r.length>=6?r.substr(0,2)+":"+r.substr(2,2)+":"+r.substr(4,2):r}},666:"Audio Outcue",698:"Short Document ID",699:"Unique Document ID",700:"Owner ID",712:{name:t=>t.length===2?"ObjectData Preview File Format":"Record 2 destination",description:t=>{if(t.length===2){const r=(t[0]<<8)+t[1];return r===0?"No ObjectData":r===1?"IPTC-NAA Digital Newsphoto Parameter Record":r===2?"IPTC7901 Recommended Message Format":r===3?"Tagged Image File Format (Adobe/Aldus Image data)":r===4?"Illustrator (Adobe Graphics data)":r===5?"AppleSingle (Apple Computer Inc)":r===6?"NAA 89-3 (ANPA 1312)":r===7?"MacBinary II":r===8?"IPTC Unstructured Character Oriented File Format (UCOFF)":r===9?"United Press International ANPA 1312 variant":r===10?"United Press International Down-Load Message":r===11?"JPEG File Interchange (JFIF)":r===12?"Photo-CD Image-Pac (Eastman Kodak)":r===13?"Microsoft Bit Mapped Graphics File [*.BMP]":r===14?"Digital Audio File [*.WAV] (Microsoft & Creative Labs)":r===15?"Audio plus Moving Video [*.AVI] (Microsoft)":r===16?"PC DOS/Windows Executable Files [*.COM][*.EXE]":r===17?"Compressed Binary File [*.ZIP] (PKWare Inc)":r===18?"Audio Interchange File Format AIFF (Apple Computer Inc)":r===19?"RIFF Wave (Microsoft Corporation)":r===20?"Freehand (Macromedia/Aldus)":r===21?'Hypertext Markup Language "HTML" (The Internet Society)':r===22?"MPEG 2 Audio Layer 2 (Musicom), ISO/IEC":r===23?"MPEG 2 Audio Layer 3, ISO/IEC":r===24?"Portable Document File (*.PDF) Adobe":r===25?"News Industry Text Format (NITF)":r===26?"Tape Archive (*.TAR)":r===27?"Tidningarnas Telegrambyr NITF version (TTNITF DTD)":r===28?"Ritzaus Bureau NITF version (RBNITF DTD)":r===29?"Corel Draw [*.CDR]":`Unknown format ${r}`}return $t(t)}},713:{name:"ObjectData Preview File Format Version",description:(t,r)=>{const i={"00":{"00":"1"},"01":{"01":"1","02":"2","03":"3","04":"4"},"02":{"04":"4"},"03":{"01":"5.0","02":"6.0"},"04":{"01":"1.40"},"05":{"01":"2"},"06":{"01":"1"},11:{"01":"1.02"},20:{"01":"3.1","02":"4.0","03":"5.0","04":"5.5"},21:{"02":"2.0"}},s=$t(t);if(r["ObjectData Preview File Format"]){const l=$t(r["ObjectData Preview File Format"].value);if(i[l]&&i[l][s])return i[l][s]}return s}},714:"ObjectData Preview Data",1802:{name:"Size Mode",description:t=>t[0].toString()},1812:{name:"Max Subfile Size",description:t=>{let r=0;for(let i=0;i<t.length;i++)r=(r<<8)+t[i];return r.toString()}},1882:{name:"ObjectData Size Announced",description:t=>{let r=0;for(let i=0;i<t.length;i++)r=(r<<8)+t[i];return r.toString()}},1887:{name:"Maximum ObjectData Size",description:t=>{let r=0;for(let i=0;i<t.length;i++)r=(r<<8)+t[i];return r.toString()}}}};function ud(t){const r=$t(t);return r.length>=8?r.substr(0,4)+"-"+r.substr(4,2)+"-"+r.substr(6,2):r}function dd(t){const r=$t(t);let i=r;return r.length>=6&&(i=r.substr(0,2)+":"+r.substr(2,2)+":"+r.substr(4,2),r.length===11&&(i+=r.substr(6,1)+r.substr(7,2)+":"+r.substr(9,2))),i}function i0(t){const r=$t(t);return r==="\x1B%G"?"UTF-8":r==="\x1B%5"?"Windows-1252":r==="\x1B%/G"?"UTF-8 Level 1":r==="\x1B%/H"?"UTF-8 Level 2":r==="\x1B%/I"?"UTF-8 Level 3":r==="\x1B/A"?"ISO-8859-1":r==="\x1B/B"?"ISO-8859-2":r==="\x1B/C"?"ISO-8859-3":r==="\x1B/D"?"ISO-8859-4":r==="\x1B/@"?"ISO-8859-5":r==="\x1B/G"?"ISO-8859-6":r==="\x1B/F"?"ISO-8859-7":r==="\x1B/H"?"ISO-8859-8":"Unknown"}const tA={get:nA};function nA(){if(typeof TextDecoder<"u")return TextDecoder}const rA=5,ib={decode:aA,TAG_HEADER_SIZE:rA};function aA(t,r){const i=tA.get();if(typeof i<"u"&&t!==void 0)try{return new i(t).decode(r instanceof DataView?r.buffer:Uint8Array.from(r))}catch{}const s=r.map(l=>String.fromCharCode(l)).join("");return sA(s)}function sA(t){try{return decodeURIComponent(escape(t))}catch{return t}}const iA=943868237,Di=4,po=2,lA=1,oA=2,lb=4,cA=Di+po+oA+lb,uA=1028,ob=5,kd={read:dA};function dA(t,r,i){try{if(Array.isArray(t))return l0(new DataView(Uint8Array.from(t).buffer),{size:t.length},0,i);const{naaBlock:s,dataOffset:l}=fA(t,r);return l0(t,s,l,i)}catch{return{}}}function fA(t,r){for(;r+cA<=t.byteLength;){const i=mA(t,r);if(hA(i))return{naaBlock:i,dataOffset:r+i.headerSize};r+=i.headerSize+i.size+pA(i)}throw new Error("No IPTC NAA resource block.")}function mA(t,r){if(t.getUint32(r,!1)!==iA)throw new Error("Not an IPTC resource block.");const i=t.getUint8(r+Di+po),s=(i%2===0?i+1:i)+lA;return{headerSize:Di+po+s+lb,type:t.getUint16(r+Di),size:t.getUint32(r+Di+po+s)}}function hA(t){return t.type===uA}function pA(t){return t.size%2!==0?1:0}function l0(t,r,i,s){const l={};let u;const f=i+r.size;for(;i<f&&i<t.byteLength;){const{tag:m,tagSize:y}=gA(t,i,l,u,s);if(m===null)break;m&&("encoding"in m&&(u=m.encoding),l[m.name]===void 0||m.repeatable===void 0?l[m.name]={id:m.id,value:m.value,description:m.description}:(l[m.name]instanceof Array||(l[m.name]=[{id:l[m.name].id,value:l[m.name].value,description:l[m.name].description}]),l[m.name].push({id:m.id,value:m.value,description:m.description}))),i+=ob+y}return l}function gA(t,r,i,s,l){if(vA(t,r))return{tag:null,tagSize:0};const m=t.getUint16(r+1),y=t.getUint16(r+3);if(!l&&!ea.iptc[m])return{tag:void 0,tagSize:y};const g=bA(t,r+ob,y),p={id:m,name:yA(ea.iptc[m],m,g),value:g,description:EA(ea.iptc[m],g,i,s)};return jA(m)&&(p.repeatable=!0),AA(m)&&(p.encoding=ea.iptc[m].encoding_name(g)),{tag:p,tagSize:y}}function vA(t,r){return t.getUint8(r)!==28}function bA(t,r,i){const s=[];for(let l=0;l<i;l++)s.push(t.getUint8(r+l));return s}function yA(t,r,i){return t?xA(t)?t:SA(t)?t.name(i):t.name:`undefined-${r}`}function xA(t){return typeof t=="string"}function SA(t){return typeof t.name=="function"}function EA(t,r,i,s){if(TA(t))try{return t.description(r,i)}catch{}return NA(t,r)?ib.decode(s,r):r}function NA(t,r){return t&&r instanceof Array}function TA(t){return t&&t.description!==void 0}function jA(t){return ea.iptc[t]&&ea.iptc[t].repeatable}function AA(t){return ea.iptc[t]&&ea.iptc[t].encoding_name!==void 0}const no={"tiff:Orientation"(t){return t==="1"?"Horizontal (normal)":t==="2"?"Mirror horizontal":t==="3"?"Rotate 180":t==="4"?"Mirror vertical":t==="5"?"Mirror horizontal and rotate 270 CW":t==="6"?"Rotate 90 CW":t==="7"?"Mirror horizontal and rotate 90 CW":t==="8"?"Rotate 270 CW":t},"tiff:ResolutionUnit":t=>Je.ResolutionUnit(parseInt(t,10)),"tiff:XResolution":t=>hs(Je.XResolution,t),"tiff:YResolution":t=>hs(Je.YResolution,t),"exif:ApertureValue":t=>hs(Je.ApertureValue,t),"exif:GPSLatitude":o0,"exif:GPSLongitude":o0,"exif:FNumber":t=>hs(Je.FNumber,t),"exif:FocalLength":t=>hs(Je.FocalLength,t),"exif:FocalPlaneResolutionUnit":t=>Je.FocalPlaneResolutionUnit(parseInt(t,10)),"exif:ColorSpace":t=>Je.ColorSpace(CA(t)),"exif:ComponentsConfiguration"(t,r){if(/^\d, \d, \d, \d$/.test(r)){const i=r.split(", ").map(s=>s.charCodeAt(0));return Je.ComponentsConfiguration(i)}return r},"exif:Contrast":t=>Je.Contrast(parseInt(t,10)),"exif:CustomRendered":t=>Je.CustomRendered(parseInt(t,10)),"exif:ExposureMode":t=>Je.ExposureMode(parseInt(t,10)),"exif:ExposureProgram":t=>Je.ExposureProgram(parseInt(t,10)),"exif:ExposureTime"(t){return cb(t)?Je.ExposureTime(t.split("/").map(r=>parseInt(r,10))):t},"exif:MeteringMode":t=>Je.MeteringMode(parseInt(t,10)),"exif:Saturation":t=>Je.Saturation(parseInt(t,10)),"exif:SceneCaptureType":t=>Je.SceneCaptureType(parseInt(t,10)),"exif:Sharpness":t=>Je.Sharpness(parseInt(t,10)),"exif:ShutterSpeedValue":t=>hs(Je.ShutterSpeedValue,t),"exif:WhiteBalance":t=>Je.WhiteBalance(parseInt(t,10))};function hs(t,r){return cb(r)?t(r.split("/")):r}function CA(t){return t.substring(0,2)==="0x"?parseInt(t.substring(2),16):parseInt(t,10)}function cb(t){return/^-?\d+\/-?\d+$/.test(t)}function o0(t){const[r,i]=t.split(",");if(r!==void 0&&i!==void 0){const s=parseFloat(r),l=parseFloat(i),u=i.charAt(i.length-1);if(!Number.isNaN(s)&&!Number.isNaN(l))return""+(s+l/60)+u}return t}const wA={get:RA};function RA(t){if(t)return t;if(typeof DOMParser<"u")return new DOMParser;try{const{DOMParser:r,onErrorStopParsing:i}=__non_webpack_require__("@xmldom/xmldom");return new r({onError:i})}catch{return}}function _A(t){const r=["prefix is non-null and namespace is null","prefix not bound to a namespace","prefix inte bundet till en namnrymd",/Namespace prefix .+ is not defined/];for(let i=0;i<r.length;i++)if(new RegExp(r[i]).test(t.message))return!0;return!1}function OA(t){const r=t.match(/<([A-Za-z_][A-Za-z0-9._-]*)([^>]*)>/);if(!r)return t;const i=r[1],s=DA(t),u=MA(t).filter(m=>s.indexOf(m)===-1);if(u.length===0)return t;const f=UA(u);return LA(t,i,f)}function DA(t){const r=[],i=/xmlns:([\w-]+)=["'][^"']+["']/g;let s;for(;(s=i.exec(t))!==null;)r.indexOf(s[1])===-1&&r.push(s[1]);return r}function MA(t){const r=[],i=/\b([A-Za-z_][A-Za-z0-9._-]*):[A-Za-z_][A-Za-z0-9._-]*\b/g;let s;for(;(s=i.exec(t))!==null;){const l=s[1];l==="xmlns"||l==="xml"||r.indexOf(l)===-1&&r.push(l)}return r}const IA={xmp:"http://ns.adobe.com/xap/1.0/",tiff:"http://ns.adobe.com/tiff/1.0/",exif:"http://ns.adobe.com/exif/1.0/",dc:"http://purl.org/dc/elements/1.1/",xmpMM:"http://ns.adobe.com/xap/1.0/mm/",stEvt:"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#",stRef:"http://ns.adobe.com/xap/1.0/sType/ResourceRef#",photoshop:"http://ns.adobe.com/photoshop/1.0/"};function UA(t){const r=[];for(let i=0;i<t.length;i++){const s=t[i],l=IA[s]||"http://fallback.namespace/"+s;r.push(" xmlns:"+s+'="'+l+'"')}return r.join("")}function LA(t,r,i){const s=new RegExp("<"+r+"([^>]*)>");return t.replace(s,"<"+r+"$1"+i+">")}const c0={read:kA};class FA extends Error{constructor(r){super(r),this.name="ParseError"}}function kA(t,r,i){const s={};if(typeof t=="string")return ro(s,t,i),s;const[l,u]=zA(t,r),f=ro(s,l,i);if(u){const m=ro(s,u,i);!f&&!m&&(delete s._raw,ro(s,zd(t,r),i))}return s}function zA(t,r){if(r.length===0)return[];const i=[zd(t,r.slice(0,1))];return r.length>1&&i.push(zd(t,r.slice(1))),i}function zd(t,r){const i=r.reduce((u,f)=>u+f.length,0),s=new Uint8Array(i);let l=0;for(let u=0;u<r.length;u++){const f=r[u],m=t.buffer.slice(f.dataOffset,f.dataOffset+f.length);s.set(new Uint8Array(m),l),l+=f.length}return new DataView(s.buffer)}function ro(t,r,i){try{const{doc:s,raw:l}=BA(r,i);t._raw=(t._raw||"")+l;const u=db(s);return st(t,mb(fb(u,!0))),!0}catch{return!1}}function BA(t,r){const i=wA.get(r);if(!i)throw console.warn("Warning: DOMParser is not available. It is needed to be able to parse XMP tags."),new Error;const s=typeof t=="string"?t:Ve(t,0,t.byteLength);return{doc:ub(i,PA(s)),raw:s}}function PA(t){return t.replace(/^.+(<\?xpacket begin)/,"$1").replace(/(<\?xpacket end=".*"\?>).+$/,"$1")}function ub(t,r,i=!1){try{const s=t.parseFromString(r,"application/xml"),l=s.getElementsByTagName("parsererror");if(l.length>0)throw new FA(l[0].textContent);return s}catch(s){if(s.name==="ParseError"&&_A(s)&&!i)return ub(t,OA(r),!0);throw s}}function db(t){for(let r=0;r<t.childNodes.length;r++){if(t.childNodes[r].tagName==="x:xmpmeta")return db(t.childNodes[r]);if(t.childNodes[r].tagName==="rdf:RDF")return t.childNodes[r]}throw new Error}function fb(t,r=!1){const i=HA(t);return $A(i)?r?{}:qA(i[0]):GA(i)}function HA(t){const r=[];for(let i=0;i<t.childNodes.length;i++)r.push(t.childNodes[i]);return r}function $A(t){return t.length===1&&t[0].nodeName==="#text"}function qA(t){return t.nodeValue}function GA(t){const r={};return t.forEach(i=>{if(YA(i)){const s=ZA(i);r[i.nodeName]!==void 0?(Array.isArray(r[i.nodeName])||(r[i.nodeName]=[r[i.nodeName]]),r[i.nodeName].push(s)):r[i.nodeName]=s}}),r}function YA(t){return t.nodeName&&t.nodeName!=="#text"}function ZA(t){return{attributes:XA(t),value:fb(t)}}function XA(t){const r={};for(let i=0;i<t.attributes.length;i++)r[t.attributes[i].nodeName]=decodeURIComponent(escape(t.attributes[i].value));return r}function mb(t){const r={};if(typeof t=="string")return t;for(const i in t){let s=t[i];Array.isArray(s)||(s=[s]),s.forEach(l=>{st(r,df(l.attributes)),typeof l.value=="object"&&st(r,hb(l.value))})}return r}function df(t){const r={};for(const i in t)try{QA(i)&&(r[Ho(i)]={value:t[i],attributes:{},description:Ar(t[i],i)})}catch{}return r}function QA(t){return t!=="rdf:parseType"&&!Po(t)}function Po(t){return t.split(":")[0]==="xmlns"}function Ho(t){return/^MicrosoftPhoto(_\d+_)?:Rating$/i.test(t)?"RatingPercent":t.split(":")[1]}function Ar(t,r=void 0){if(Array.isArray(t)){const i=KA(t);return r&&typeof no[r]=="function"?no[r](t,i):i}if(typeof t=="object")return JA(t);try{return r&&typeof no[r]=="function"?no[r](t):decodeURIComponent(escape(t))}catch{return t}}function KA(t){return t.map(r=>r.value!==void 0?Ar(r.value):Ar(r)).join(", ")}function JA(t){const r=[];for(const i in t)r.push(`${VA(i)}: ${Ar(t[i].value)}`);return r.join("; ")}function VA(t){return t==="CiAdrCity"?"CreatorCity":t==="CiAdrCtry"?"CreatorCountry":t==="CiAdrExtadr"?"CreatorAddress":t==="CiAdrPcode"?"CreatorPostalCode":t==="CiAdrRegion"?"CreatorRegion":t==="CiEmailWork"?"CreatorWorkEmail":t==="CiTelWork"?"CreatorWorkPhone":t==="CiUrlWork"?"CreatorWorkUrl":t}function hb(t){const r={};for(const i in t)try{Po(i)||(r[Ho(i)]=WA(t[i],i))}catch{}return r}function WA(t,r){return tC(t)?nC(t,r):eC(t)?{value:"",attributes:{},description:""}:pb(t)?gb(t,r):vb(t)?bb(t,r):yb(t)?xb(t,r):sC(t)?iC(t,r):ff(t,r)}function eC(t){return t.attributes["rdf:parseType"]==="Resource"&&typeof t.value=="string"&&t.value.trim()===""}function tC(t){return Array.isArray(t)}function nC(t,r){return ff(t[t.length-1],r)}function pb(t){return t.attributes["rdf:parseType"]==="Resource"&&t.value["rdf:value"]!==void 0||t.value["rdf:Description"]!==void 0&&t.value["rdf:Description"].value["rdf:value"]!==void 0}function gb(t,r){const i=ki(t);t.value["rdf:Description"]!==void 0&&(t=t.value["rdf:Description"]),st(i,ki(t),rC(t));const s=aC(t);return{value:s,attributes:i,description:Ar(s,r)}}function ki(t){const r={};for(const i in t.attributes)i!=="rdf:parseType"&&i!=="rdf:resource"&&!Po(i)&&(r[Ho(i)]=t.attributes[i]);return r}function rC(t){const r={};for(const i in t.value)i!=="rdf:value"&&!Po(i)&&(r[Ho(i)]=t.value[i].value);return r}function aC(t){return Eb(t.value["rdf:value"])||t.value["rdf:value"].value}function vb(t){return t.attributes["rdf:parseType"]==="Resource"||t.value["rdf:Description"]!==void 0&&t.value["rdf:Description"].value["rdf:value"]===void 0}function bb(t,r){const i={value:{},attributes:{}};return t.value["rdf:Description"]!==void 0&&(st(i.value,df(t.value["rdf:Description"].attributes)),st(i.attributes,ki(t)),t=t.value["rdf:Description"]),st(i.value,hb(t.value)),i.description=Ar(i.value,r),i}function yb(t){return Object.keys(t.value).length===0&&t.attributes["xml:lang"]===void 0&&t.attributes["rdf:resource"]===void 0}function xb(t,r){const i=df(t.attributes);return{value:i,attributes:{},description:Ar(i,r)}}function sC(t){return Sb(t.value)!==void 0}function Sb(t){return t["rdf:Bag"]||t["rdf:Seq"]||t["rdf:Alt"]}function iC(t,r){let i=Sb(t.value).value["rdf:li"];const s=ki(t),l=[];return i===void 0?i=[]:Array.isArray(i)||(i=[i]),i.forEach(u=>{l.push(lC(u))}),{value:l,attributes:s,description:Ar(l,r)}}function lC(t){return pb(t)?gb(t):vb(t)?bb(t).value:yb(t)?xb(t).value:ff(t)}function ff(t,r){const i=Eb(t)||mb(t.value);return{value:i,attributes:ki(t),description:Ar(i,r)}}function Eb(t){return t.attributes&&t.attributes["rdf:resource"]}const Sr={CLOSED_SUBPATH_LENGTH:0,CLOSED_SUBPATH_BEZIER_LINKED:1,CLOSED_SUBPATH_BEZIER_UNLINKED:2,OPEN_SUBPATH_LENGTH:3,OPEN_SUBPATH_BEZIER_LINKED:4,OPEN_SUBPATH_BEZIER_UNLINKED:5,FILL_RULE:6,CLIPBOARD:7,INITIAL_FILL_RULE:8},Nb=24,fd={2e3:{name:"PathInformation",description:oC},2999:{name:"ClippingPathName",description(t){const[,r]=Mv(t,0);return r}}};function oC(t){const i={},s=[];for(let l=0;l<t.byteLength;l+=2+Nb){const u=Re.getShortAt(t,l);md[u]&&(i[u]||(i[u]=md[u].description),s.push({type:u,path:md[u].path(t,l+2)}))}return JSON.stringify({types:i,paths:s})}const md={[Sr.CLOSED_SUBPATH_LENGTH]:{description:"Closed subpath length",path:(t,r)=>[Re.getShortAt(t,r)]},[Sr.CLOSED_SUBPATH_BEZIER_LINKED]:{description:"Closed subpath Bezier knot, linked",path:ao},[Sr.CLOSED_SUBPATH_BEZIER_UNLINKED]:{description:"Closed subpath Bezier knot, unlinked",path:ao},[Sr.OPEN_SUBPATH_LENGTH]:{description:"Open subpath length",path:(t,r)=>[Re.getShortAt(t,r)]},[Sr.OPEN_SUBPATH_BEZIER_LINKED]:{description:"Open subpath Bezier knot, linked",path:ao},[Sr.OPEN_SUBPATH_BEZIER_UNLINKED]:{description:"Open subpath Bezier knot, unlinked",path:ao},[Sr.FILL_RULE]:{description:"Path fill rule",path:()=>[]},[Sr.INITIAL_FILL_RULE]:{description:"Initial fill rule",path:(t,r)=>[Re.getShortAt(t,r)]},[Sr.CLIPBOARD]:{description:"Clipboard",path:uC}};function ao(t,r){const s=[];for(let l=0;l<Nb;l+=8)s.push(cC(t,r+l));return s}function cC(t,r){const i=Ta(t,r,8);return[Ta(t,r+4,8),i]}function uC(t,r){return[[Ta(t,r,8),Ta(t,r+4,8),Ta(t,r+8,8),Ta(t,r+12,8)],Ta(t,r+16,8)]}function Ta(t,r,i){const s=Re.getLongAt(t,r),l=s>>>31?-1:1,u=(s&2130706432)>>>32-i,f=s&parseInt(Lv("1",32-i),2);return l*cN(u.toString(2)+"."+oN(f.toString(2),32-i,"0"),2)}const dC={read:hC},Tb="8BIM",fC=2,mC=4,u0=Tb.length;function hC(t,r){const i=Mg(new Uint8Array(t).buffer),s={};let l=0;for(;l<t.length;){const u=Ve(i,l,u0);l+=u0;const f=Re.getShortAt(i,l);l+=fC;const{tagName:m,tagNameSize:y}=pC(i,l);l+=y;const g=Re.getLongAt(i,l);if(l+=mC,u===Tb){const p=Mg(i.buffer,l,g),b={id:f,value:Ve(p,0,g)};if(fd[f]){try{b.description=fd[f].description(p)}catch{b.description="<no description formatter>"}s[m||fd[f].name]=b}else r&&(s[`undefined-${f}`]=b)}l+=g+g%2}return s}function pC(t,r){const[i,s]=Mv(t,r);return{tagName:s,tagNameSize:1+i+(i%2===0?1:0)}}const d0={desc:{name:"ICC Description"},cprt:{name:"ICC Copyright"},dmdd:{name:"ICC Device Model Description"},vued:{name:"ICC Viewing Conditions Description"},dmnd:{name:"ICC Device Manufacturer for Display"},tech:{name:"Technology"}},f0={4:{name:"Preferred CMM type",value:(t,r)=>Ve(t,r,4),description:t=>t!==null?hd(t):""},8:{name:"Profile Version",value:(t,r)=>t.getUint8(r).toString(10)+"."+(t.getUint8(r+1)>>4).toString(10)+"."+(t.getUint8(r+1)%16).toString(10)},12:{name:"Profile/Device class",value:(t,r)=>Ve(t,r,4),description:t=>{switch(t.toLowerCase()){case"scnr":return"Input Device profile";case"mntr":return"Display Device profile";case"prtr":return"Output Device profile";case"link":return"DeviceLink profile";case"abst":return"Abstract profile";case"spac":return"ColorSpace profile";case"nmcl":return"NamedColor profile";case"cenc":return"ColorEncodingSpace profile";case"mid ":return"MultiplexIdentification profile";case"mlnk":return"MultiplexLink profile";case"mvis":return"MultiplexVisualization profile";default:return t}}},16:{name:"Color Space",value:(t,r)=>Ve(t,r,4)},20:{name:"Connection Space",value:(t,r)=>Ve(t,r,4)},24:{name:"ICC Profile Date",value:(t,r)=>gC(t,r).toISOString()},36:{name:"ICC Signature",value:(t,r)=>vC(t.buffer.slice(r,r+4))},40:{name:"Primary Platform",value:(t,r)=>Ve(t,r,4),description:t=>hd(t)},48:{name:"Device Manufacturer",value:(t,r)=>Ve(t,r,4),description:t=>hd(t)},52:{name:"Device Model Number",value:(t,r)=>Ve(t,r,4)},64:{name:"Rendering Intent",value:(t,r)=>t.getUint32(r),description:t=>{switch(t){case 0:return"Perceptual";case 1:return"Relative Colorimetric";case 2:return"Saturation";case 3:return"Absolute Colorimetric";default:return t}}},80:{name:"Profile Creator",value:(t,r)=>Ve(t,r,4)}};function gC(t,r){const i=t.getUint16(r),s=t.getUint16(r+2)-1,l=t.getUint16(r+4),u=t.getUint16(r+6),f=t.getUint16(r+8),m=t.getUint16(r+10);return new Date(Date.UTC(i,s,l,u,f,m))}function vC(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function hd(t){switch(t.toLowerCase()){case"appl":return"Apple";case"adbe":return"Adobe";case"msft":return"Microsoft";case"sunw":return"Sun Microsystems";case"sgi":return"Silicon Graphics";case"tgnt":return"Taligent";default:return t}}const m0={read:AC},bC=84,yC=128,xC="acsp",SC="desc",EC="mluc",NC="text",TC="sig ",jC=12;function AC(t,r,i){return i&&r[0].compressionMethod!==Eo?CC(t,r):RC(t,r)}function CC(t,r){if(!wC(r[0].compressionMethod))return{};const i=new DataView(t.buffer.slice(r[0].offset,r[0].offset+r[0].length));return kv(i,r[0].compressionMethod,"utf-8","dataview").then(jb).catch(()=>({}))}function wC(t){return t===Fv}function RC(t,r){try{const i=r.reduce((f,m)=>f+m.length,0),s=new Uint8Array(i);let l=0;const u=_C(t);for(let f=1;f<=r.length;f++){const m=r.find(p=>p.chunkNumber===f);if(!m)throw new Error(`ICC chunk ${f} not found`);const y=u.slice(m.offset,m.offset+m.length),g=new Uint8Array(y);s.set(g,l),l+=g.length}return jb(new DataView(s.buffer))}catch{return{}}}function _C(t){return Array.isArray(t)?new DataView(Uint8Array.from(t).buffer).buffer:t.buffer}function OC(t){return t.length<yC+4}function DC(t,r){return t.length<r+jC}function jb(t){const r=t.buffer,i=t.getUint32();if(t.byteLength!==i)throw new Error("ICC profile length not matching");if(t.length<bC)throw new Error("ICC profile too short");const s={},l=Object.keys(f0);for(let y=0;y<l.length;y++){const g=l[y],p=f0[g],b=p.value(t,parseInt(g,10));let v=b;p.description&&(v=p.description(b)),s[p.name]={value:b,description:v}}if(so(r.slice(36,40))!==xC)throw new Error("ICC profile: missing signature");if(OC(r))return s;const f=t.getUint32(128);let m=132;for(let y=0;y<f;y++){if(DC(r,m))return s;const g=Ve(t,m,4),p=t.getUint32(m+4),b=t.getUint32(m+8);if(p>r.length)return s;const v=Ve(t,p,4);if(v===SC){const x=t.getUint32(p+8);if(x>b)return s;const N=so(r.slice(p+12,p+x+11));_i(s,g,N)}else if(v===EC){const x=t.getUint32(p+8),N=t.getUint32(p+12);let O=p+16;const C=[];for(let w=0;w<x;w++){const G=Ve(t,O+0,2),$=Ve(t,O+2,2),z=t.getUint32(O+4),B=t.getUint32(O+8),D=iN(t,p+B,z);C.push({languageCode:G,countryCode:$,text:D}),O+=N}if(x===1)_i(s,g,C[0].text);else{const w={};for(let G=0;G<C.length;G++)w[`${C[G].languageCode}-${C[G].countryCode}`]=C[G].text;_i(s,g,w)}}else if(v===NC){const x=so(r.slice(p+8,p+b-7));_i(s,g,x)}else if(v===TC){const x=so(r.slice(p+8,p+12));_i(s,g,x)}m=m+12}return s}function so(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function _i(t,r,i){d0[r]?t[d0[r].name]={value:i,description:i}:t[r]={value:i,description:i}}const go=27,MC={read:IC,SHOT_INFO_AUTO_ROTATE:go};function IC(t,r,i,s,l){let u=Oa(t,tb,r,r+i,s,l);return u.ShotInfo&&(u=st({},u,UC(u.ShotInfo.value)),delete u.ShotInfo),u}function UC(t){const r={};return t[go]!==void 0&&(r.AutoRotate={value:t[go],description:LC(t[go])}),r}function LC(t){return t===0?"None":t===1?"Rotate 90 CW":t===2?"Rotate 180":t===3?"Rotate 270 CW":"Unknown"}const FC={read:kC};function kC(t,r){return{"Image Width":zC(t,r),"Image Height":BC(t,r),"Bit Depth":PC(t,r),"Color Type":HC(t,r),Compression:$C(t,r),Filter:qC(t,r),Interlace:GC(t,r)}}function zC(t,r){if(r+0+4>t.byteLength)return;const l=Re.getLongAt(t,r);return{value:l,description:`${l}px`}}function BC(t,r){if(r+4+4>t.byteLength)return;const l=Re.getLongAt(t,r+4);return{value:l,description:`${l}px`}}function PC(t,r){if(r+8+1>t.byteLength)return;const l=Re.getByteAt(t,r+8);return{value:l,description:`${l}`}}function HC(t,r){const l={0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha"};if(r+9+1>t.byteLength)return;const u=Re.getByteAt(t,r+9);return{value:u,description:l[u]||"Unknown"}}function $C(t,r){if(r+10+1>t.byteLength)return;const l=Re.getByteAt(t,r+10);return{value:l,description:l===0?"Deflate/Inflate":"Unknown"}}function qC(t,r){if(r+11+1>t.byteLength)return;const l=Re.getByteAt(t,r+11);return{value:l,description:l===0?"Adaptive":"Unknown"}}function GC(t,r){const l={0:"Noninterlaced",1:"Adam7 Interlace"};if(r+12+1>t.byteLength)return;const u=Re.getByteAt(t,r+12);return{value:u,description:l[u]||"Unknown"}}const YC={read:JC},Bd="STATE_KEYWORD",Pd="STATE_COMPRESSION",Hd="STATE_LANG",ZC="STATE_TRANSLATED_KEYWORD",$d="STATE_TEXT",XC=1,QC=1,KC=6;function JC(t,r,i,s){const l={},u=[];for(let f=0;f<r.length;f++){const{offset:m,length:y,type:g}=r[f],p=VC(t,m,y,g,i);if(p instanceof Promise)u.push(p.then(({name:b,value:v,description:x})=>{try{if(Ig.USE_EXIF&&p0(b,v))return{__exif:sb.read(v0(v),KC,s).tags};if(Ig.USE_IPTC&&g0(b,v))return{__iptc:kd.read(v0(v),0,s)};if(b&&!p0(b,v)&&!g0(b,v))return{[b]:{value:v,description:x}}}catch{}return{}}));else{const{name:b,value:v,description:x}=p;b&&(l[b]={value:v,description:x})}}return{readTags:l,readTagsPromise:u.length>0?Promise.all(u):void 0}}function VC(t,r,i,s,l){const u=[],f=[];let m,y=Bd,g=Eo;for(let b=0;b<i&&r+b<t.byteLength;b++){if(y===Pd){g=WC({type:s,dataView:t,offset:r+b}),s===Ra&&(b+=XC),y=h0(s,y);continue}else if(y===$d){m=new DataView(t.buffer.slice(r+b,r+i));break}const v=t.getUint8(r+b);v===0?y=h0(s,y):y===Bd?u.push(v):y===Hd&&f.push(v)}if(g!==Eo&&!l)return{};const p=kv(m,g,ew(s));return p instanceof Promise?p.then(b=>pd(b,s,f,u)).catch(()=>pd("<text using unknown compression>".split(""),s,f,u)):pd(p,s,f,u)}function WC({type:t,dataView:r,offset:i}){if(t===Ra){if(r.getUint8(i)===QC)return r.getUint8(i+1)}else if(t===ko)return r.getUint8(i);return Eo}function h0(t,r){return r===Bd&&[Ra,ko].includes(t)?Pd:r===Pd?t===Ra?Hd:$d:r===Hd?ZC:$d}function ew(t){return t===of||t===ko?"latin1":"utf-8"}function pd(t,r,i,s){const l=nw(t);return{name:tw(r,i,s),value:l,description:r===Ra?rw(t):l}}function tw(t,r,i){const s=xs(i);if(t===of||r.length===0)return s;const l=xs(r);return`${s} (${l})`}function nw(t){return t instanceof DataView?Ve(t,0,t.byteLength):t}function rw(t){return ib.decode("UTF-8",t)}function p0(t,r){return t.toLowerCase()==="raw profile type exif"&&r.substring(1,5)==="exif"}function g0(t,r){return t.toLowerCase()==="raw profile type iptc"&&r.substring(1,5)==="iptc"}function v0(t){const r=t.match(/\n(exif|iptc)\n\s*\d+\n([\s\S]*)$/);return aw(r[2].replace(/\n/g,""))}function aw(t){const r=new DataView(new ArrayBuffer(t.length/2));for(let i=0;i<t.length;i+=2)r.setUint8(i/2,parseInt(t.substring(i,i+2),16));return r}const sw={read:iw};function iw(t,r){const i={};for(let s=0;s<r.length;s++){const l=Re.getLongAt(t,r[s]+vs),u=Ve(t,r[s]+ta,qn);u===qv?(i["Pixels Per Unit X"]=lw(t,r[s],l),i["Pixels Per Unit Y"]=ow(t,r[s],l),i["Pixel Units"]=cw(t,r[s],l)):u===Gv&&(i["Modify Date"]=uw(t,r[s],l))}return i}function lw(t,r,i){if(!$o(t,r,i,0,4))return;const u=Re.getLongAt(t,r+tn+0);return{value:u,description:""+u}}function ow(t,r,i){if(!$o(t,r,i,4,4))return;const u=Re.getLongAt(t,r+tn+4);return{value:u,description:""+u}}function cw(t,r,i){if(!$o(t,r,i,8,1))return;const u=Re.getByteAt(t,r+tn+8);return{value:u,description:u===1?"meters":"Unknown"}}function uw(t,r,i){if(!$o(t,r,i,0,7))return;const l=Re.getShortAt(t,r+tn),u=Re.getByteAt(t,r+tn+2),f=Re.getByteAt(t,r+tn+3),m=Re.getByteAt(t,r+tn+4),y=Re.getByteAt(t,r+tn+5),g=Re.getByteAt(t,r+tn+6);return{value:[l,u,f,m,y,g],description:`${ps(l,4)}-${ps(u,2)}-${ps(f,2)} ${ps(m,2)}:${ps(y,2)}:${ps(g,2)}`}}function $o(t,r,i,s,l){return s+l<=i&&r+tn+s+l<=t.byteLength}function ps(t,r){return`${"0".repeat(r-(""+t).length)}${t}`}const dw={read:hw},fw=4,mw=7;function hw(t,r){const i={},s=Re.getByteAt(t,r);return i.Alpha=pw(s),i.Animation=gw(s),i.ImageWidth=b0(t,r+fw),i.ImageHeight=b0(t,r+mw),i}function pw(t){const r=t&16;return{value:r?1:0,description:r?"Yes":"No"}}function gw(t){const r=t&2;return{value:r?1:0,description:r?"Yes":"No"}}function b0(t,r){const i=Re.getByteAt(t,r)+256*Re.getByteAt(t,r+1)+65536*Re.getByteAt(t,r+2)+1;return{value:i,description:i+"px"}}const vw={read:bw};function bw(t){return{"GIF Version":yw(t),"Image Width":xw(t),"Image Height":Sw(t),"Global Color Map":Ew(t),"Bits Per Pixel":Tw(t),"Color Resolution Depth":Nw(t)}}function yw(t){if(6>t.byteLength)return;const s=Ve(t,3,3);return{value:s,description:s}}function xw(t){if(8>t.byteLength)return;const s=t.getUint16(6,!0);return{value:s,description:`${s}px`}}function Sw(t){if(10>t.byteLength)return;const s=t.getUint16(8,!0);return{value:s,description:`${s}px`}}function Ew(t){if(11>t.byteLength)return;const l=(t.getUint8(10)&128)>>>7;return{value:l,description:l===1?"Yes":"No"}}function Nw(t){if(11>t.byteLength)return;const l=((t.getUint8(10)&112)>>>4)+1;return{value:l,description:`${l} ${l===1?"bit":"bits"}`}}function Tw(t){if(11>t.byteLength)return;const l=(t.getUint8(10)&7)+1;return{value:l,description:`${l} ${l===1?"bit":"bits"}`}}const jw=[6,7,99],Aw={get:Cw};function Cw(t,r,i){if(ww(r)){r.type="image/jpeg";const s=i+r.JPEGInterchangeFormat.value;r.image=t.buffer.slice(s,s+r.JPEGInterchangeFormatLength.value),Iv(r,"base64",function(){return Uv(this.image)})}return r}function ww(t){return t&&(t.Compression===void 0||jw.includes(t.Compression.value))&&t.JPEGInterchangeFormat&&t.JPEGInterchangeFormat.value&&t.JPEGInterchangeFormatLength&&t.JPEGInterchangeFormatLength.value}const Rw={get:_w};function _w(t,r){const i={};let s=!1;const l=y0(t,"FocalLength",r),u=y0(t,"FocalLengthIn35mmFilm",r),f=Ow(l,u);f&&(i.ScaleFactorTo35mmEquivalent=f,s=!0);const m=Dw(u);if(m&&(i.FieldOfView=m,s=!0),s)return i}function y0(t,r,i){if(i&&t.exif&&t.exif[r])return t.exif[r].value;if(!i&&t[r])return t[r].value}function Ow(t,r){if(t&&r)try{const i=r/(t[0]/t[1]);return{value:i,description:i.toFixed(1)}}catch{}}function Dw(t){if(t)try{const i=2*Math.atan(36/(2*t))*(180/Math.PI);return{value:i,description:i.toFixed(1)+" deg"}}catch{}}function Ab(t){this.name="MetadataMissingError",this.message=t||"No Exif data",this.stack=new Error().stack}Ab.prototype=new Error;const Cb={MetadataMissingError:Ab},Mw={load:Iw,loadView:wb,errors:Cb};function Iw(t,r={}){return Uw(t)?(r.async=!0,Lw(t,r).then(i=>gd(i,r))):$w(t)?(r.async=!0,qw(t).then(i=>gd(i,r))):gd(t,r)}function Uw(t){return typeof t=="string"}function Lw(t,r){return/^\w+:\/\//.test(t)?typeof fetch<"u"?Fw(t,r):kw(t,r):Bw(t)?Promise.resolve(lN(t)):Pw(t,r)}function Fw(t,{length:r}={}){const i={method:"GET"};return Number.isInteger(r)&&r>=0&&(i.headers={range:`bytes=0-${r-1}`}),fetch(t,i).then(s=>s.arrayBuffer())}function kw(t,{length:r}={}){return new Promise((i,s)=>{const l={};Number.isInteger(r)&&r>=0&&(l.headers={range:`bytes=0-${r-1}`}),zw(t)(t,l,f=>{if(f.statusCode>=200&&f.statusCode<=299){const m=[];f.on("data",y=>m.push(Buffer.from(y))),f.on("error",y=>s(y)),f.on("end",()=>i(Buffer.concat(m)))}else s(`Could not fetch file: ${f.statusCode} ${f.statusMessage}`),f.resume()}).on("error",f=>s(f))})}function zw(t){return/^https:\/\//.test(t)?__non_webpack_require__("https").get:__non_webpack_require__("http").get}function Bw(t){return/^data:[^;,]*(;base64)?,/.test(t)}function Pw(t,{length:r}={}){return new Promise((i,s)=>{const l=Hw();l.open(t,(u,f)=>{u?s(u):l.stat(t,(m,y)=>{if(m)s(m);else{const g=Math.min(y.size,r!==void 0?r:y.size),p=Buffer.alloc(g),b={buffer:p,length:g};l.read(f,b,v=>{v?s(v):l.close(f,x=>{x&&console.warn(`Could not close file ${t}:`,x),i(p)})})}})})})}function Hw(){try{return __non_webpack_require__("fs")}catch{return}}function $w(t){return typeof File<"u"&&t instanceof File}function qw(t){return new Promise((r,i)=>{const s=new FileReader;s.onload=l=>r(l.target.result),s.onerror=()=>i(s.error),s.readAsArrayBuffer(t)})}function gd(t,r){return Gw(t)&&(t=new Uint8Array(t).buffer),wb(Yw(t),r)}function Gw(t){try{return Buffer.isBuffer(t)}catch{return!1}}function Yw(t){try{return new DataView(t)}catch{return new Dv(t)}}function wb(t,{expanded:r=!1,async:i=!1,includeUnknown:s=!1,domParser:l=void 0}={expanded:!1,async:!1,includeUnknown:!1,domParser:void 0}){let u=!1,f={};const m=[],{fileType:y,fileDataOffset:g,jfifDataOffset:p,tiffHeaderOffset:b,iptcDataOffset:v,xmpChunks:x,iccChunks:N,mpfDataOffset:O,pngHeaderOffset:C,pngTextChunks:w,pngChunkOffsets:G,vp8xChunkOffset:$,gifHeaderOffset:z}=WT.parseAppMarkers(t,i);if(Zw(g)){u=!0;const E=Ij.read(t,g);r?f.file=E:f=st({},f,E)}if(Xw(p)){u=!0;const E=qj.read(t,p);r?f.jfif=E:f=st({},f,E)}if(Qw(b)){u=!0;const{tags:E,byteOrder:M}=sb.read(t,b,s);if(E.Thumbnail&&(f.Thumbnail=E.Thumbnail,delete E.Thumbnail),r?(f.exif=E,Kw(f)):f=st({},f,E),E["IPTC-NAA"]&&!x0(v)){const k=kd.read(E["IPTC-NAA"].value,0,s);r?f.iptc=k:f=st({},f,k)}if(E.ApplicationNotes&&!S0(x)){const k=c0.read(xs(E.ApplicationNotes.value),void 0,l);r?f.xmp=k:(delete k._raw,f=st({},f,k))}if(E.ImageSourceData){const k=dC.read(E.PhotoshopSettings.value,s);r?f.photoshop=k:f=st({},f,k)}if(E.ICC_Profile&&!E0(N)){const k=m0.read(E.ICC_Profile.value,[{offset:0,length:E.ICC_Profile.value.length,chunkNumber:1,chunksTotal:1}]);r?f.icc=k:f=st({},f,k)}if(Jw(E)){const k=MC.read(t,b,E.MakerNote.__offset,M,s);r?f.makerNotes=k:f=st({},f,k)}E.MakerNote&&delete E.MakerNote.__offset}if(x0(v)){u=!0;const E=kd.read(t,v,s);r?f.iptc=E:f=st({},f,E)}if(S0(x)){u=!0;const E=c0.read(t,x,l);r?f.xmp=E:(delete E._raw,f=st({},f,E))}if(E0(N)){u=!0;const E=m0.read(t,N,i);E instanceof Promise?m.push(E.then(Z)):Z(E)}if(Vw(O)){u=!0;const E=Aj.read(t,O,s);r?f.mpf=E:f=st({},f,E)}if(Ww(C)){u=!0;const E=FC.read(t,C);r?(f.png=f.png?st({},f.png,E):E,f.pngFile=E):f=st({},f,E)}if(eR(w)){u=!0;const{readTags:E,readTagsPromise:M}=YC.read(t,w,i,s);R(E),M&&m.push(M.then(k=>k.forEach(R)))}if(tR(G)){u=!0;const E=sw.read(t,G);r?f.png=f.png?st({},f.png,E):E:f=st({},f,E)}if(nR($)){u=!0;const E=dw.read(t,$);r?f.riff=f.riff?st({},f.riff,E):E:f=st({},f,E)}if(rR(z)){u=!0;const E=vw.read(t,z);r?f.gif=f.gif?st({},f.gif,E):E:f=st({},f,E)}const B=Rw.get(f,r);B&&(r?f.composite=B:f=st({},f,B));const D=Aw.get(t,f.Thumbnail,b);if(D?(u=!0,f.Thumbnail=D):delete f.Thumbnail,y&&(r?(f.file||(f.file={}),f.file.FileType=y):f.FileType=y,u=!0),!u)throw new Cb.MetadataMissingError;if(i)return Promise.all(m).then(()=>f);return f;function Z(E){r?f.icc=E:f=st({},f,E)}function R(E){if(r){for(const M of["exif","iptc"]){const k=`__${M}`;E[k]&&(f[M]=f[M]?st({},f.exif,E[k]):E[k],delete E[k])}f.png=f.png?st({},f.png,E):E,f.pngText=f.pngText?st({},f.png,E):E}else f=st({},f,E.__exif?E.__exif:{},E.__iptc?E.__iptc:{},E),delete f.__exif,delete f.__iptc}}function Zw(t){return t!==void 0}function Xw(t){return t!==void 0}function Qw(t){return t!==void 0}function Kw(t){if(t.exif){if(t.exif.GPSLatitude&&t.exif.GPSLatitudeRef)try{t.gps=t.gps||{},t.gps.Latitude=No(t.exif.GPSLatitude.value),t.exif.GPSLatitudeRef.value.join("")==="S"&&(t.gps.Latitude=-t.gps.Latitude)}catch{}if(t.exif.GPSLongitude&&t.exif.GPSLongitudeRef)try{t.gps=t.gps||{},t.gps.Longitude=No(t.exif.GPSLongitude.value),t.exif.GPSLongitudeRef.value.join("")==="W"&&(t.gps.Longitude=-t.gps.Longitude)}catch{}if(t.exif.GPSAltitude&&t.exif.GPSAltitudeRef)try{t.gps=t.gps||{},t.gps.Altitude=t.exif.GPSAltitude.value[0]/t.exif.GPSAltitude.value[1],t.exif.GPSAltitudeRef.value===1&&(t.gps.Altitude=-t.gps.Altitude)}catch{}}}function x0(t){return t!==void 0}function S0(t){return Array.isArray(t)&&t.length>0}function E0(t){return Array.isArray(t)&&t.length>0}function Jw(t){return t.Make&&t.Make.value&&Array.isArray(t.Make.value)&&t.Make.value[0]==="Canon"&&t.MakerNote&&t.MakerNote.__offset}function Vw(t){return t!==void 0}function Ww(t){return t!==void 0}function eR(t){return t!==void 0}function tR(t){return t!==void 0}function nR(t){return t!==void 0}function rR(t){return t!==void 0}function aR(t,r){return r.forEach(function(i){i&&typeof i!="string"&&!Array.isArray(i)&&Object.keys(i).forEach(function(s){if(s!=="default"&&!(s in t)){var l=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(t,s,l.get?l:{enumerable:!0,get:function(){return i[s]}})}})}),Object.freeze(t)}function Rb(t,r){return new Promise(function(i,s){let l;return sR(t).then(function(u){try{return l=u,i(new Blob([r.slice(0,2),l,r.slice(2)],{type:"image/jpeg"}))}catch(f){return s(f)}},s)})}const sR=t=>new Promise((r,i)=>{const s=new FileReader;s.addEventListener("load",({target:{result:l}})=>{const u=new DataView(l);let f=0;if(u.getUint16(f)!==65496)return i("not a valid JPEG");for(f+=2;;){const m=u.getUint16(f);if(m===65498)break;const y=u.getUint16(f+2);if(m===65505&&u.getUint32(f+4)===1165519206){const g=f+10;let p;switch(u.getUint16(g)){case 18761:p=!0;break;case 19789:p=!1;break;default:return i("TIFF header contains invalid endian")}if(u.getUint16(g+2,p)!==42)return i("TIFF header contains invalid version");const b=u.getUint32(g+4,p),v=g+b+2+12*u.getUint16(g+b,p);for(let x=g+b+2;x<v;x+=12)if(u.getUint16(x,p)==274){if(u.getUint16(x+2,p)!==3)return i("Orientation data type is invalid");if(u.getUint32(x+4,p)!==1)return i("Orientation data count is invalid");u.setUint16(x+8,1,p);break}return r(l.slice(f,f+2+y))}f+=2+y}return r(new Blob)}),s.readAsArrayBuffer(t)});var Ao={},iR={get exports(){return Ao},set exports(t){Ao=t}};(function(t){var r,i,s={};iR.exports=s,s.parse=function(l,u){for(var f=s.bin.readUshort,m=s.bin.readUint,y=0,g={},p=new Uint8Array(l),b=p.length-4;m(p,b)!=101010256;)b--;y=b,y+=4;var v=f(p,y+=4);f(p,y+=2);var x=m(p,y+=2),N=m(p,y+=4);y+=4,y=N;for(var O=0;O<v;O++){m(p,y),y+=4,y+=4,y+=4,m(p,y+=4),x=m(p,y+=4);var C=m(p,y+=4),w=f(p,y+=4),G=f(p,y+2),$=f(p,y+4);y+=6;var z=m(p,y+=8);y+=4,y+=w+G+$,s._readLocal(p,z,g,x,C,u)}return g},s._readLocal=function(l,u,f,m,y,g){var p=s.bin.readUshort,b=s.bin.readUint;b(l,u),p(l,u+=4),p(l,u+=2);var v=p(l,u+=2);b(l,u+=2),b(l,u+=4),u+=4;var x=p(l,u+=8),N=p(l,u+=2);u+=2;var O=s.bin.readUTF8(l,u,x);if(u+=x,u+=N,g)f[O]={size:y,csize:m};else{var C=new Uint8Array(l.buffer,u);if(v==0)f[O]=new Uint8Array(C.buffer.slice(u,u+m));else{if(v!=8)throw"unknown compression method: "+v;var w=new Uint8Array(y);s.inflateRaw(C,w),f[O]=w}}},s.inflateRaw=function(l,u){return s.F.inflate(l,u)},s.inflate=function(l,u){return l[0],l[1],s.inflateRaw(new Uint8Array(l.buffer,l.byteOffset+2,l.length-6),u)},s.deflate=function(l,u){u==null&&(u={level:6});var f=0,m=new Uint8Array(50+Math.floor(1.1*l.length));m[f]=120,m[f+1]=156,f+=2,f=s.F.deflateRaw(l,m,f,u.level);var y=s.adler(l,0,l.length);return m[f+0]=y>>>24&255,m[f+1]=y>>>16&255,m[f+2]=y>>>8&255,m[f+3]=y>>>0&255,new Uint8Array(m.buffer,0,f+4)},s.deflateRaw=function(l,u){u==null&&(u={level:6});var f=new Uint8Array(50+Math.floor(1.1*l.length)),m=s.F.deflateRaw(l,f,m,u.level);return new Uint8Array(f.buffer,0,m)},s.encode=function(l,u){u==null&&(u=!1);var f=0,m=s.bin.writeUint,y=s.bin.writeUshort,g={};for(var p in l){var b=!s._noNeed(p)&&!u,v=l[p],x=s.crc.crc(v,0,v.length);g[p]={cpr:b,usize:v.length,crc:x,file:b?s.deflateRaw(v):v}}for(var p in g)f+=g[p].file.length+30+46+2*s.bin.sizeUTF8(p);f+=22;var N=new Uint8Array(f),O=0,C=[];for(var p in g){var w=g[p];C.push(O),O=s._writeHeader(N,O,p,w,0)}var G=0,$=O;for(var p in g)w=g[p],C.push(O),O=s._writeHeader(N,O,p,w,1,C[G++]);var z=O-$;return m(N,O,101010256),O+=4,y(N,O+=4,G),y(N,O+=2,G),m(N,O+=2,z),m(N,O+=4,$),O+=4,O+=2,N.buffer},s._noNeed=function(l){var u=l.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(u)!=-1},s._writeHeader=function(l,u,f,m,y,g){var p=s.bin.writeUint,b=s.bin.writeUshort,v=m.file;return p(l,u,y==0?67324752:33639248),u+=4,y==1&&(u+=2),b(l,u,20),b(l,u+=2,0),b(l,u+=2,m.cpr?8:0),p(l,u+=2,0),p(l,u+=4,m.crc),p(l,u+=4,v.length),p(l,u+=4,m.usize),b(l,u+=4,s.bin.sizeUTF8(f)),b(l,u+=2,0),u+=2,y==1&&(u+=2,u+=2,p(l,u+=6,g),u+=4),u+=s.bin.writeUTF8(l,u,f),y==0&&(l.set(v,u),u+=v.length),u},s.crc={table:function(){for(var l=new Uint32Array(256),u=0;u<256;u++){for(var f=u,m=0;m<8;m++)1&f?f=3988292384^f>>>1:f>>>=1;l[u]=f}return l}(),update:function(l,u,f,m){for(var y=0;y<m;y++)l=s.crc.table[255&(l^u[f+y])]^l>>>8;return l},crc:function(l,u,f){return 4294967295^s.crc.update(4294967295,l,u,f)}},s.adler=function(l,u,f){for(var m=1,y=0,g=u,p=u+f;g<p;){for(var b=Math.min(g+5552,p);g<b;)y+=m+=l[g++];m%=65521,y%=65521}return y<<16|m},s.bin={readUshort:function(l,u){return l[u]|l[u+1]<<8},writeUshort:function(l,u,f){l[u]=255&f,l[u+1]=f>>8&255},readUint:function(l,u){return 16777216*l[u+3]+(l[u+2]<<16|l[u+1]<<8|l[u])},writeUint:function(l,u,f){l[u]=255&f,l[u+1]=f>>8&255,l[u+2]=f>>16&255,l[u+3]=f>>24&255},readASCII:function(l,u,f){for(var m="",y=0;y<f;y++)m+=String.fromCharCode(l[u+y]);return m},writeASCII:function(l,u,f){for(var m=0;m<f.length;m++)l[u+m]=f.charCodeAt(m)},pad:function(l){return l.length<2?"0"+l:l},readUTF8:function(l,u,f){for(var m,y="",g=0;g<f;g++)y+="%"+s.bin.pad(l[u+g].toString(16));try{m=decodeURIComponent(y)}catch{return s.bin.readASCII(l,u,f)}return m},writeUTF8:function(l,u,f){for(var m=f.length,y=0,g=0;g<m;g++){var p=f.charCodeAt(g);if(!(4294967168&p))l[u+y]=p,y++;else if(!(4294965248&p))l[u+y]=192|p>>6,l[u+y+1]=128|p>>0&63,y+=2;else if(!(4294901760&p))l[u+y]=224|p>>12,l[u+y+1]=128|p>>6&63,l[u+y+2]=128|p>>0&63,y+=3;else{if(4292870144&p)throw"e";l[u+y]=240|p>>18,l[u+y+1]=128|p>>12&63,l[u+y+2]=128|p>>6&63,l[u+y+3]=128|p>>0&63,y+=4}}return y},sizeUTF8:function(l){for(var u=l.length,f=0,m=0;m<u;m++){var y=l.charCodeAt(m);if(!(4294967168&y))f++;else if(!(4294965248&y))f+=2;else if(!(4294901760&y))f+=3;else{if(4292870144&y)throw"e";f+=4}}return f}},s.F={},s.F.deflateRaw=function(l,u,f,m){var y=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][m],g=s.F.U,p=s.F._goodIndex;s.F._hash;var b=s.F._putsE,v=0,x=f<<3,N=0,O=l.length;if(m==0){for(;v<O;)b(u,x,v+(k=Math.min(65535,O-v))==O?1:0),x=s.F._copyExact(l,v,k,u,x+8),v+=k;return x>>>3}var C=g.lits,w=g.strt,G=g.prev,$=0,z=0,B=0,D=0,Z=0,R=0;for(O>2&&(w[R=s.F._hash(l,0)]=0),v=0;v<O;v++){if(Z=R,v+1<O-2){R=s.F._hash(l,v+1);var E=v+1&32767;G[E]=w[R],w[R]=E}if(N<=v){($>14e3||z>26697)&&O-v>100&&(N<v&&(C[$]=v-N,$+=2,N=v),x=s.F._writeBlock(v==O-1||N==O?1:0,C,$,D,l,B,v-B,u,x),$=z=D=0,B=v);var M=0;v<O-2&&(M=s.F._bestMatch(l,v,G,Z,Math.min(y[2],O-v),y[3]));var k=M>>>16,U=65535&M;if(M!=0){U=65535&M;var H=p(k=M>>>16,g.of0);g.lhst[257+H]++;var F=p(U,g.df0);g.dhst[F]++,D+=g.exb[H]+g.dxb[F],C[$]=k<<23|v-N,C[$+1]=U<<16|H<<8|F,$+=2,N=v+k}else g.lhst[l[v]]++;z++}}for(B==v&&l.length!=0||(N<v&&(C[$]=v-N,$+=2,N=v),x=s.F._writeBlock(1,C,$,D,l,B,v-B,u,x),$=0,z=0,$=z=D=0,B=v);7&x;)x++;return x>>>3},s.F._bestMatch=function(l,u,f,m,y,g){var p=32767&u,b=f[p],v=p-b+32768&32767;if(b==p||m!=s.F._hash(l,u-v))return 0;for(var x=0,N=0,O=Math.min(32767,u);v<=O&&--g!=0&&b!=p;){if(x==0||l[u+x]==l[u+x-v]){var C=s.F._howLong(l,u,v);if(C>x){if(N=v,(x=C)>=y)break;v+2<C&&(C=v+2);for(var w=0,G=0;G<C-2;G++){var $=u-v+G+32768&32767,z=$-f[$]+32768&32767;z>w&&(w=z,b=$)}}}v+=(p=b)-(b=f[p])+32768&32767}return x<<16|N},s.F._howLong=function(l,u,f){if(l[u]!=l[u-f]||l[u+1]!=l[u+1-f]||l[u+2]!=l[u+2-f])return 0;var m=u,y=Math.min(l.length,u+258);for(u+=3;u<y&&l[u]==l[u-f];)u++;return u-m},s.F._hash=function(l,u){return(l[u]<<8|l[u+1])+(l[u+2]<<4)&65535},s.saved=0,s.F._writeBlock=function(l,u,f,m,y,g,p,b,v){var x,N,O,C,w,G,$,z,B,D=s.F.U,Z=s.F._putsF,R=s.F._putsE;D.lhst[256]++,N=(x=s.F.getTrees())[0],O=x[1],C=x[2],w=x[3],G=x[4],$=x[5],z=x[6],B=x[7];var E=32+(v+3&7?8-(v+3&7):0)+(p<<3),M=m+s.F.contSize(D.fltree,D.lhst)+s.F.contSize(D.fdtree,D.dhst),k=m+s.F.contSize(D.ltree,D.lhst)+s.F.contSize(D.dtree,D.dhst);k+=14+3*$+s.F.contSize(D.itree,D.ihst)+(2*D.ihst[16]+3*D.ihst[17]+7*D.ihst[18]);for(var U=0;U<286;U++)D.lhst[U]=0;for(U=0;U<30;U++)D.dhst[U]=0;for(U=0;U<19;U++)D.ihst[U]=0;var H=E<M&&E<k?0:M<k?1:2;if(Z(b,v,l),Z(b,v+1,H),v+=3,H==0){for(;7&v;)v++;v=s.F._copyExact(y,g,p,b,v)}else{var F,q;if(H==1&&(F=D.fltree,q=D.fdtree),H==2){s.F.makeCodes(D.ltree,N),s.F.revCodes(D.ltree,N),s.F.makeCodes(D.dtree,O),s.F.revCodes(D.dtree,O),s.F.makeCodes(D.itree,C),s.F.revCodes(D.itree,C),F=D.ltree,q=D.dtree,R(b,v,w-257),R(b,v+=5,G-1),R(b,v+=5,$-4),v+=4;for(var T=0;T<$;T++)R(b,v+3*T,D.itree[1+(D.ordr[T]<<1)]);v+=3*$,v=s.F._codeTiny(z,D.itree,b,v),v=s.F._codeTiny(B,D.itree,b,v)}for(var S=g,I=0;I<f;I+=2){for(var P=u[I],_=P>>>23,Q=S+(8388607&P);S<Q;)v=s.F._writeLit(y[S++],F,b,v);if(_!=0){var Y=u[I+1],W=Y>>16,K=Y>>8&255,J=255&Y;R(b,v=s.F._writeLit(257+K,F,b,v),_-D.of0[K]),v+=D.exb[K],Z(b,v=s.F._writeLit(J,q,b,v),W-D.df0[J]),v+=D.dxb[J],S+=_}}v=s.F._writeLit(256,F,b,v)}return v},s.F._copyExact=function(l,u,f,m,y){var g=y>>>3;return m[g]=f,m[g+1]=f>>>8,m[g+2]=255-m[g],m[g+3]=255-m[g+1],g+=4,m.set(new Uint8Array(l.buffer,u,f),g),y+(f+4<<3)},s.F.getTrees=function(){for(var l=s.F.U,u=s.F._hufTree(l.lhst,l.ltree,15),f=s.F._hufTree(l.dhst,l.dtree,15),m=[],y=s.F._lenCodes(l.ltree,m),g=[],p=s.F._lenCodes(l.dtree,g),b=0;b<m.length;b+=2)l.ihst[m[b]]++;for(b=0;b<g.length;b+=2)l.ihst[g[b]]++;for(var v=s.F._hufTree(l.ihst,l.itree,7),x=19;x>4&&l.itree[1+(l.ordr[x-1]<<1)]==0;)x--;return[u,f,v,y,p,x,m,g]},s.F.getSecond=function(l){for(var u=[],f=0;f<l.length;f+=2)u.push(l[f+1]);return u},s.F.nonZero=function(l){for(var u="",f=0;f<l.length;f+=2)l[f+1]!=0&&(u+=(f>>1)+",");return u},s.F.contSize=function(l,u){for(var f=0,m=0;m<u.length;m++)f+=u[m]*l[1+(m<<1)];return f},s.F._codeTiny=function(l,u,f,m){for(var y=0;y<l.length;y+=2){var g=l[y],p=l[y+1];m=s.F._writeLit(g,u,f,m);var b=g==16?2:g==17?3:7;g>15&&(s.F._putsE(f,m,p,b),m+=b)}return m},s.F._lenCodes=function(l,u){for(var f=l.length;f!=2&&l[f-1]==0;)f-=2;for(var m=0;m<f;m+=2){var y=l[m+1],g=m+3<f?l[m+3]:-1,p=m+5<f?l[m+5]:-1,b=m==0?-1:l[m-1];if(y==0&&g==y&&p==y){for(var v=m+5;v+2<f&&l[v+2]==y;)v+=2;(x=Math.min(v+1-m>>>1,138))<11?u.push(17,x-3):u.push(18,x-11),m+=2*x-2}else if(y==b&&g==y&&p==y){for(v=m+5;v+2<f&&l[v+2]==y;)v+=2;var x=Math.min(v+1-m>>>1,6);u.push(16,x-3),m+=2*x-2}else u.push(y,0)}return f>>>1},s.F._hufTree=function(l,u,f){var m=[],y=l.length,g=u.length,p=0;for(p=0;p<g;p+=2)u[p]=0,u[p+1]=0;for(p=0;p<y;p++)l[p]!=0&&m.push({lit:p,f:l[p]});var b=m.length,v=m.slice(0);if(b==0)return 0;if(b==1){var x=m[0].lit;return v=x==0?1:0,u[1+(x<<1)]=1,u[1+(v<<1)]=1,1}m.sort(function(z,B){return z.f-B.f});var N=m[0],O=m[1],C=0,w=1,G=2;for(m[0]={lit:-1,f:N.f+O.f,l:N,r:O,d:0};w!=b-1;)N=C!=w&&(G==b||m[C].f<m[G].f)?m[C++]:m[G++],O=C!=w&&(G==b||m[C].f<m[G].f)?m[C++]:m[G++],m[w++]={lit:-1,f:N.f+O.f,l:N,r:O};var $=s.F.setDepth(m[w-1],0);for($>f&&(s.F.restrictDepth(v,f,$),$=f),p=0;p<b;p++)u[1+(v[p].lit<<1)]=v[p].d;return $},s.F.setDepth=function(l,u){return l.lit!=-1?(l.d=u,u):Math.max(s.F.setDepth(l.l,u+1),s.F.setDepth(l.r,u+1))},s.F.restrictDepth=function(l,u,f){var m=0,y=1<<f-u,g=0;for(l.sort(function(b,v){return v.d==b.d?b.f-v.f:v.d-b.d}),m=0;m<l.length&&l[m].d>u;m++){var p=l[m].d;l[m].d=u,g+=y-(1<<f-p)}for(g>>>=f-u;g>0;)(p=l[m].d)<u?(l[m].d++,g-=1<<u-p-1):m++;for(;m>=0;m--)l[m].d==u&&g<0&&(l[m].d--,g++);g!=0&&console.log("debt left")},s.F._goodIndex=function(l,u){var f=0;return u[16|f]<=l&&(f|=16),u[8|f]<=l&&(f|=8),u[4|f]<=l&&(f|=4),u[2|f]<=l&&(f|=2),u[1|f]<=l&&(f|=1),f},s.F._writeLit=function(l,u,f,m){return s.F._putsF(f,m,u[l<<1]),m+u[1+(l<<1)]},s.F.inflate=function(l,u){var f=Uint8Array;if(l[0]==3&&l[1]==0)return u||new f(0);var m=s.F,y=m._bitsF,g=m._bitsE,p=m._decodeTiny,b=m.makeCodes,v=m.codes2map,x=m._get17,N=m.U,O=u==null;O&&(u=new f(l.length>>>2<<3));for(var C,w,G=0,$=0,z=0,B=0,D=0,Z=0,R=0,E=0,M=0;G==0;)if(G=y(l,M,1),$=y(l,M+1,2),M+=3,$!=0){if(O&&(u=s.F._check(u,E+(1<<17))),$==1&&(C=N.flmap,w=N.fdmap,Z=511,R=31),$==2){z=g(l,M,5)+257,B=g(l,M+5,5)+1,D=g(l,M+10,4)+4,M+=14;for(var k=0;k<38;k+=2)N.itree[k]=0,N.itree[k+1]=0;var U=1;for(k=0;k<D;k++){var H=g(l,M+3*k,3);N.itree[1+(N.ordr[k]<<1)]=H,H>U&&(U=H)}M+=3*D,b(N.itree,U),v(N.itree,U,N.imap),C=N.lmap,w=N.dmap,M=p(N.imap,(1<<U)-1,z+B,l,M,N.ttree);var F=m._copyOut(N.ttree,0,z,N.ltree);Z=(1<<F)-1;var q=m._copyOut(N.ttree,z,B,N.dtree);R=(1<<q)-1,b(N.ltree,F),v(N.ltree,F,C),b(N.dtree,q),v(N.dtree,q,w)}for(;;){var T=C[x(l,M)&Z];M+=15&T;var S=T>>>4;if(!(S>>>8))u[E++]=S;else{if(S==256)break;var I=E+S-254;if(S>264){var P=N.ldef[S-257];I=E+(P>>>3)+g(l,M,7&P),M+=7&P}var _=w[x(l,M)&R];M+=15&_;var Q=_>>>4,Y=N.ddef[Q],W=(Y>>>4)+y(l,M,15&Y);for(M+=15&Y,O&&(u=s.F._check(u,E+(1<<17)));E<I;)u[E]=u[E++-W],u[E]=u[E++-W],u[E]=u[E++-W],u[E]=u[E++-W];E=I}}}else{7&M&&(M+=8-(7&M));var K=4+(M>>>3),J=l[K-4]|l[K-3]<<8;O&&(u=s.F._check(u,E+J)),u.set(new f(l.buffer,l.byteOffset+K,J),E),M=K+J<<3,E+=J}return u.length==E?u:u.slice(0,E)},s.F._check=function(l,u){var f=l.length;if(u<=f)return l;var m=new Uint8Array(Math.max(f<<1,u));return m.set(l,0),m},s.F._decodeTiny=function(l,u,f,m,y,g){for(var p=s.F._bitsE,b=s.F._get17,v=0;v<f;){var x=l[b(m,y)&u];y+=15&x;var N=x>>>4;if(N<=15)g[v]=N,v++;else{var O=0,C=0;N==16?(C=3+p(m,y,2),y+=2,O=g[v-1]):N==17?(C=3+p(m,y,3),y+=3):N==18&&(C=11+p(m,y,7),y+=7);for(var w=v+C;v<w;)g[v]=O,v++}}return y},s.F._copyOut=function(l,u,f,m){for(var y=0,g=0,p=m.length>>>1;g<f;){var b=l[g+u];m[g<<1]=0,m[1+(g<<1)]=b,b>y&&(y=b),g++}for(;g<p;)m[g<<1]=0,m[1+(g<<1)]=0,g++;return y},s.F.makeCodes=function(l,u){for(var f,m,y,g,p=s.F.U,b=l.length,v=p.bl_count,x=0;x<=u;x++)v[x]=0;for(x=1;x<b;x+=2)v[l[x]]++;var N=p.next_code;for(f=0,v[0]=0,m=1;m<=u;m++)f=f+v[m-1]<<1,N[m]=f;for(y=0;y<b;y+=2)(g=l[y+1])!=0&&(l[y]=N[g],N[g]++)},s.F.codes2map=function(l,u,f){for(var m=l.length,y=s.F.U.rev15,g=0;g<m;g+=2)if(l[g+1]!=0)for(var p=g>>1,b=l[g+1],v=p<<4|b,x=u-b,N=l[g]<<x,O=N+(1<<x);N!=O;)f[y[N]>>>15-u]=v,N++},s.F.revCodes=function(l,u){for(var f=s.F.U.rev15,m=15-u,y=0;y<l.length;y+=2){var g=l[y]<<u-l[y+1];l[y]=f[g]>>>m}},s.F._putsE=function(l,u,f){f<<=7&u;var m=u>>>3;l[m]|=f,l[m+1]|=f>>>8},s.F._putsF=function(l,u,f){f<<=7&u;var m=u>>>3;l[m]|=f,l[m+1]|=f>>>8,l[m+2]|=f>>>16},s.F._bitsE=function(l,u,f){return(l[u>>>3]|l[1+(u>>>3)]<<8)>>>(7&u)&(1<<f)-1},s.F._bitsF=function(l,u,f){return(l[u>>>3]|l[1+(u>>>3)]<<8|l[2+(u>>>3)]<<16)>>>(7&u)&(1<<f)-1},s.F._get17=function(l,u){return(l[u>>>3]|l[1+(u>>>3)]<<8|l[2+(u>>>3)]<<16)>>>(7&u)},s.F._get25=function(l,u){return(l[u>>>3]|l[1+(u>>>3)]<<8|l[2+(u>>>3)]<<16|l[3+(u>>>3)]<<24)>>>(7&u)},s.F.U=(r=Uint16Array,i=Uint32Array,{next_code:new r(16),bl_count:new r(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new r(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new i(32),flmap:new r(512),fltree:[],fdmap:new r(32),fdtree:[],lmap:new r(32768),ltree:[],ttree:[],dmap:new r(32768),dtree:[],imap:new r(512),itree:[],rev15:new r(32768),lhst:new i(286),dhst:new i(30),ihst:new i(19),lits:new i(15e3),strt:new r(65536),prev:new r(32768)}),function(){for(var l=s.F.U,u=0;u<32768;u++){var f=u;f=(4278255360&(f=(4042322160&(f=(3435973836&(f=(2863311530&f)>>>1|(1431655765&f)<<1))>>>2|(858993459&f)<<2))>>>4|(252645135&f)<<4))>>>8|(16711935&f)<<8,l.rev15[u]=(f>>>16|f<<16)>>>17}function m(y,g,p){for(;g--!=0;)y.push(0,p)}for(u=0;u<32;u++)l.ldef[u]=l.of0[u]<<3|l.exb[u],l.ddef[u]=l.df0[u]<<4|l.dxb[u];m(l.fltree,144,8),m(l.fltree,112,9),m(l.fltree,24,7),m(l.fltree,8,8),s.F.makeCodes(l.fltree,9),s.F.codes2map(l.fltree,9,l.flmap),s.F.revCodes(l.fltree,9),m(l.fdtree,32,5),s.F.makeCodes(l.fdtree,5),s.F.codes2map(l.fdtree,5,l.fdmap),s.F.revCodes(l.fdtree,5),m(l.itree,19,0),m(l.ltree,286,0),m(l.dtree,30,0),m(l.ttree,320,0)}()})();var lR=aR({__proto__:null,default:Ao},[Ao]);const $n=function(){var t={nextZero(p,b){for(;p[b]!=0;)b++;return b},readUshort:(p,b)=>p[b]<<8|p[b+1],writeUshort(p,b,v){p[b]=v>>8&255,p[b+1]=255&v},readUint:(p,b)=>16777216*p[b]+(p[b+1]<<16|p[b+2]<<8|p[b+3]),writeUint(p,b,v){p[b]=v>>24&255,p[b+1]=v>>16&255,p[b+2]=v>>8&255,p[b+3]=255&v},readASCII(p,b,v){let x="";for(let N=0;N<v;N++)x+=String.fromCharCode(p[b+N]);return x},writeASCII(p,b,v){for(let x=0;x<v.length;x++)p[b+x]=v.charCodeAt(x)},readBytes(p,b,v){const x=[];for(let N=0;N<v;N++)x.push(p[b+N]);return x},pad:p=>p.length<2?`0${p}`:p,readUTF8(p,b,v){let x,N="";for(let O=0;O<v;O++)N+=`%${t.pad(p[b+O].toString(16))}`;try{x=decodeURIComponent(N)}catch{return t.readASCII(p,b,v)}return x}};function r(p,b,v,x){const N=b*v,O=u(x),C=Math.ceil(b*O/8),w=new Uint8Array(4*N),G=new Uint32Array(w.buffer),{ctype:$}=x,{depth:z}=x,B=t.readUshort;if($==6){const P=N<<2;if(z==8)for(var D=0;D<P;D+=4)w[D]=p[D],w[D+1]=p[D+1],w[D+2]=p[D+2],w[D+3]=p[D+3];if(z==16)for(D=0;D<P;D++)w[D]=p[D<<1]}else if($==2){const P=x.tabs.tRNS;if(P==null){if(z==8)for(D=0;D<N;D++){var Z=3*D;G[D]=255<<24|p[Z+2]<<16|p[Z+1]<<8|p[Z]}if(z==16)for(D=0;D<N;D++)Z=6*D,G[D]=255<<24|p[Z+4]<<16|p[Z+2]<<8|p[Z]}else{var R=P[0];const _=P[1],Q=P[2];if(z==8)for(D=0;D<N;D++){var E=D<<2;Z=3*D,G[D]=255<<24|p[Z+2]<<16|p[Z+1]<<8|p[Z],p[Z]==R&&p[Z+1]==_&&p[Z+2]==Q&&(w[E+3]=0)}if(z==16)for(D=0;D<N;D++)E=D<<2,Z=6*D,G[D]=255<<24|p[Z+4]<<16|p[Z+2]<<8|p[Z],B(p,Z)==R&&B(p,Z+2)==_&&B(p,Z+4)==Q&&(w[E+3]=0)}}else if($==3){const P=x.tabs.PLTE,_=x.tabs.tRNS,Q=_?_.length:0;if(z==1)for(var M=0;M<v;M++){var k=M*C,U=M*b;for(D=0;D<b;D++){E=U+D<<2;var H=3*(F=p[k+(D>>3)]>>7-((7&D)<<0)&1);w[E]=P[H],w[E+1]=P[H+1],w[E+2]=P[H+2],w[E+3]=F<Q?_[F]:255}}if(z==2)for(M=0;M<v;M++)for(k=M*C,U=M*b,D=0;D<b;D++)E=U+D<<2,H=3*(F=p[k+(D>>2)]>>6-((3&D)<<1)&3),w[E]=P[H],w[E+1]=P[H+1],w[E+2]=P[H+2],w[E+3]=F<Q?_[F]:255;if(z==4)for(M=0;M<v;M++)for(k=M*C,U=M*b,D=0;D<b;D++)E=U+D<<2,H=3*(F=p[k+(D>>1)]>>4-((1&D)<<2)&15),w[E]=P[H],w[E+1]=P[H+1],w[E+2]=P[H+2],w[E+3]=F<Q?_[F]:255;if(z==8)for(D=0;D<N;D++){var F;E=D<<2,H=3*(F=p[D]),w[E]=P[H],w[E+1]=P[H+1],w[E+2]=P[H+2],w[E+3]=F<Q?_[F]:255}}else if($==4){if(z==8)for(D=0;D<N;D++){E=D<<2;var q=p[T=D<<1];w[E]=q,w[E+1]=q,w[E+2]=q,w[E+3]=p[T+1]}if(z==16)for(D=0;D<N;D++){var T;E=D<<2,q=p[T=D<<2],w[E]=q,w[E+1]=q,w[E+2]=q,w[E+3]=p[T+2]}}else if($==0)for(R=x.tabs.tRNS?x.tabs.tRNS:-1,M=0;M<v;M++){const P=M*C,_=M*b;if(z==1)for(var S=0;S<b;S++){var I=(q=255*(p[P+(S>>>3)]>>>7-(7&S)&1))==255*R?0:255;G[_+S]=I<<24|q<<16|q<<8|q}else if(z==2)for(S=0;S<b;S++)I=(q=85*(p[P+(S>>>2)]>>>6-((3&S)<<1)&3))==85*R?0:255,G[_+S]=I<<24|q<<16|q<<8|q;else if(z==4)for(S=0;S<b;S++)I=(q=17*(p[P+(S>>>1)]>>>4-((1&S)<<2)&15))==17*R?0:255,G[_+S]=I<<24|q<<16|q<<8|q;else if(z==8)for(S=0;S<b;S++)I=(q=p[P+S])==R?0:255,G[_+S]=I<<24|q<<16|q<<8|q;else if(z==16)for(S=0;S<b;S++)q=p[P+(S<<1)],I=B(p,P+(S<<1))==R?0:255,G[_+S]=I<<24|q<<16|q<<8|q}return w}function i(p,b,v,x){const N=u(p),O=Math.ceil(v*N/8),C=new Uint8Array((O+1+p.interlace)*x);return b=p.tabs.CgBI?l(b,C):s(b,C),p.interlace==0?b=f(b,p,0,v,x):p.interlace==1&&(b=function(G,$){const z=$.width,B=$.height,D=u($),Z=D>>3,R=Math.ceil(z*D/8),E=new Uint8Array(B*R);let M=0;const k=[0,0,4,0,2,0,1],U=[0,4,0,2,0,1,0],H=[8,8,8,4,4,2,2],F=[8,8,4,4,2,2,1];let q=0;for(;q<7;){const S=H[q],I=F[q];let P=0,_=0,Q=k[q];for(;Q<B;)Q+=S,_++;let Y=U[q];for(;Y<z;)Y+=I,P++;const W=Math.ceil(P*D/8);f(G,$,M,P,_);let K=0,J=k[q];for(;J<B;){let ve=U[q],Fe=M+K*W<<3;for(;ve<z;){var T;if(D==1&&(T=(T=G[Fe>>3])>>7-(7&Fe)&1,E[J*R+(ve>>3)]|=T<<7-((7&ve)<<0)),D==2&&(T=(T=G[Fe>>3])>>6-(7&Fe)&3,E[J*R+(ve>>2)]|=T<<6-((3&ve)<<1)),D==4&&(T=(T=G[Fe>>3])>>4-(7&Fe)&15,E[J*R+(ve>>1)]|=T<<4-((1&ve)<<2)),D>=8){const _e=J*R+ve*Z;for(let Ie=0;Ie<Z;Ie++)E[_e+Ie]=G[(Fe>>3)+Ie]}Fe+=D,ve+=I}K++,J+=S}P*_!=0&&(M+=_*(1+W)),q+=1}return E}(b,p)),b}function s(p,b){return l(new Uint8Array(p.buffer,2,p.length-6),b)}var l=function(){const p={H:{}};return p.H.N=function(b,v){const x=Uint8Array;let N,O,C=0,w=0,G=0,$=0,z=0,B=0,D=0,Z=0,R=0;if(b[0]==3&&b[1]==0)return v||new x(0);const E=p.H,M=E.b,k=E.e,U=E.R,H=E.n,F=E.A,q=E.Z,T=E.m,S=v==null;for(S&&(v=new x(b.length>>>2<<5));C==0;)if(C=M(b,R,1),w=M(b,R+1,2),R+=3,w!=0){if(S&&(v=p.H.W(v,Z+(1<<17))),w==1&&(N=T.J,O=T.h,B=511,D=31),w==2){G=k(b,R,5)+257,$=k(b,R+5,5)+1,z=k(b,R+10,4)+4,R+=14;let P=1;for(var I=0;I<38;I+=2)T.Q[I]=0,T.Q[I+1]=0;for(I=0;I<z;I++){const Y=k(b,R+3*I,3);T.Q[1+(T.X[I]<<1)]=Y,Y>P&&(P=Y)}R+=3*z,H(T.Q,P),F(T.Q,P,T.u),N=T.w,O=T.d,R=U(T.u,(1<<P)-1,G+$,b,R,T.v);const _=E.V(T.v,0,G,T.C);B=(1<<_)-1;const Q=E.V(T.v,G,$,T.D);D=(1<<Q)-1,H(T.C,_),F(T.C,_,N),H(T.D,Q),F(T.D,Q,O)}for(;;){const P=N[q(b,R)&B];R+=15&P;const _=P>>>4;if(!(_>>>8))v[Z++]=_;else{if(_==256)break;{let Q=Z+_-254;if(_>264){const ve=T.q[_-257];Q=Z+(ve>>>3)+k(b,R,7&ve),R+=7&ve}const Y=O[q(b,R)&D];R+=15&Y;const W=Y>>>4,K=T.c[W],J=(K>>>4)+M(b,R,15&K);for(R+=15&K;Z<Q;)v[Z]=v[Z++-J],v[Z]=v[Z++-J],v[Z]=v[Z++-J],v[Z]=v[Z++-J];Z=Q}}}}else{7&R&&(R+=8-(7&R));const P=4+(R>>>3),_=b[P-4]|b[P-3]<<8;S&&(v=p.H.W(v,Z+_)),v.set(new x(b.buffer,b.byteOffset+P,_),Z),R=P+_<<3,Z+=_}return v.length==Z?v:v.slice(0,Z)},p.H.W=function(b,v){const x=b.length;if(v<=x)return b;const N=new Uint8Array(x<<1);return N.set(b,0),N},p.H.R=function(b,v,x,N,O,C){const w=p.H.e,G=p.H.Z;let $=0;for(;$<x;){const z=b[G(N,O)&v];O+=15&z;const B=z>>>4;if(B<=15)C[$]=B,$++;else{let D=0,Z=0;B==16?(Z=3+w(N,O,2),O+=2,D=C[$-1]):B==17?(Z=3+w(N,O,3),O+=3):B==18&&(Z=11+w(N,O,7),O+=7);const R=$+Z;for(;$<R;)C[$]=D,$++}}return O},p.H.V=function(b,v,x,N){let O=0,C=0;const w=N.length>>>1;for(;C<x;){const G=b[C+v];N[C<<1]=0,N[1+(C<<1)]=G,G>O&&(O=G),C++}for(;C<w;)N[C<<1]=0,N[1+(C<<1)]=0,C++;return O},p.H.n=function(b,v){const x=p.H.m,N=b.length;let O,C,w,G;const $=x.j;for(var z=0;z<=v;z++)$[z]=0;for(z=1;z<N;z+=2)$[b[z]]++;const B=x.K;for(O=0,$[0]=0,C=1;C<=v;C++)O=O+$[C-1]<<1,B[C]=O;for(w=0;w<N;w+=2)G=b[w+1],G!=0&&(b[w]=B[G],B[G]++)},p.H.A=function(b,v,x){const N=b.length,O=p.H.m.r;for(let C=0;C<N;C+=2)if(b[C+1]!=0){const w=C>>1,G=b[C+1],$=w<<4|G,z=v-G;let B=b[C]<<z;const D=B+(1<<z);for(;B!=D;)x[O[B]>>>15-v]=$,B++}},p.H.l=function(b,v){const x=p.H.m.r,N=15-v;for(let O=0;O<b.length;O+=2){const C=b[O]<<v-b[O+1];b[O]=x[C]>>>N}},p.H.M=function(b,v,x){x<<=7&v;const N=v>>>3;b[N]|=x,b[N+1]|=x>>>8},p.H.I=function(b,v,x){x<<=7&v;const N=v>>>3;b[N]|=x,b[N+1]|=x>>>8,b[N+2]|=x>>>16},p.H.e=function(b,v,x){return(b[v>>>3]|b[1+(v>>>3)]<<8)>>>(7&v)&(1<<x)-1},p.H.b=function(b,v,x){return(b[v>>>3]|b[1+(v>>>3)]<<8|b[2+(v>>>3)]<<16)>>>(7&v)&(1<<x)-1},p.H.Z=function(b,v){return(b[v>>>3]|b[1+(v>>>3)]<<8|b[2+(v>>>3)]<<16)>>>(7&v)},p.H.i=function(b,v){return(b[v>>>3]|b[1+(v>>>3)]<<8|b[2+(v>>>3)]<<16|b[3+(v>>>3)]<<24)>>>(7&v)},p.H.m=function(){const b=Uint16Array,v=Uint32Array;return{K:new b(16),j:new b(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new b(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new v(32),J:new b(512),_:[],h:new b(32),$:[],w:new b(32768),C:[],v:[],d:new b(32768),D:[],u:new b(512),Q:[],r:new b(32768),s:new v(286),Y:new v(30),a:new v(19),t:new v(15e3),k:new b(65536),g:new b(32768)}}(),function(){const b=p.H.m;for(var v=0;v<32768;v++){let N=v;N=(2863311530&N)>>>1|(1431655765&N)<<1,N=(3435973836&N)>>>2|(858993459&N)<<2,N=(4042322160&N)>>>4|(252645135&N)<<4,N=(4278255360&N)>>>8|(16711935&N)<<8,b.r[v]=(N>>>16|N<<16)>>>17}function x(N,O,C){for(;O--!=0;)N.push(0,C)}for(v=0;v<32;v++)b.q[v]=b.S[v]<<3|b.T[v],b.c[v]=b.p[v]<<4|b.z[v];x(b._,144,8),x(b._,112,9),x(b._,24,7),x(b._,8,8),p.H.n(b._,9),p.H.A(b._,9,b.J),p.H.l(b._,9),x(b.$,32,5),p.H.n(b.$,5),p.H.A(b.$,5,b.h),p.H.l(b.$,5),x(b.Q,19,0),x(b.C,286,0),x(b.D,30,0),x(b.v,320,0)}(),p.H.N}();function u(p){return[1,null,3,1,2,null,4][p.ctype]*p.depth}function f(p,b,v,x,N){let O=u(b);const C=Math.ceil(x*O/8);let w,G;O=Math.ceil(O/8);let $=p[v],z=0;if($>1&&(p[v]=[0,0,1][$-2]),$==3)for(z=O;z<C;z++)p[z+1]=p[z+1]+(p[z+1-O]>>>1)&255;for(let B=0;B<N;B++)if(w=v+B*C,G=w+B+1,$=p[G-1],z=0,$==0)for(;z<C;z++)p[w+z]=p[G+z];else if($==1){for(;z<O;z++)p[w+z]=p[G+z];for(;z<C;z++)p[w+z]=p[G+z]+p[w+z-O]}else if($==2)for(;z<C;z++)p[w+z]=p[G+z]+p[w+z-C];else if($==3){for(;z<O;z++)p[w+z]=p[G+z]+(p[w+z-C]>>>1);for(;z<C;z++)p[w+z]=p[G+z]+(p[w+z-C]+p[w+z-O]>>>1)}else{for(;z<O;z++)p[w+z]=p[G+z]+m(0,p[w+z-C],0);for(;z<C;z++)p[w+z]=p[G+z]+m(p[w+z-O],p[w+z-C],p[w+z-O-C])}return p}function m(p,b,v){const x=p+b-v,N=x-p,O=x-b,C=x-v;return N*N<=O*O&&N*N<=C*C?p:O*O<=C*C?b:v}function y(p,b,v){v.width=t.readUint(p,b),b+=4,v.height=t.readUint(p,b),b+=4,v.depth=p[b],b++,v.ctype=p[b],b++,v.compress=p[b],b++,v.filter=p[b],b++,v.interlace=p[b],b++}function g(p,b,v,x,N,O,C,w,G){const $=Math.min(b,N),z=Math.min(v,O);let B=0,D=0;for(let q=0;q<z;q++)for(let T=0;T<$;T++)if(C>=0&&w>=0?(B=q*b+T<<2,D=(w+q)*N+C+T<<2):(B=(-w+q)*b-C+T<<2,D=q*N+T<<2),G==0)x[D]=p[B],x[D+1]=p[B+1],x[D+2]=p[B+2],x[D+3]=p[B+3];else if(G==1){var Z=p[B+3]*.00392156862745098,R=p[B]*Z,E=p[B+1]*Z,M=p[B+2]*Z,k=x[D+3]*(1/255),U=x[D]*k,H=x[D+1]*k,F=x[D+2]*k;const S=1-Z,I=Z+k*S,P=I==0?0:1/I;x[D+3]=255*I,x[D+0]=(R+U*S)*P,x[D+1]=(E+H*S)*P,x[D+2]=(M+F*S)*P}else if(G==2)Z=p[B+3],R=p[B],E=p[B+1],M=p[B+2],k=x[D+3],U=x[D],H=x[D+1],F=x[D+2],Z==k&&R==U&&E==H&&M==F?(x[D]=0,x[D+1]=0,x[D+2]=0,x[D+3]=0):(x[D]=R,x[D+1]=E,x[D+2]=M,x[D+3]=Z);else if(G==3){if(Z=p[B+3],R=p[B],E=p[B+1],M=p[B+2],k=x[D+3],U=x[D],H=x[D+1],F=x[D+2],Z==k&&R==U&&E==H&&M==F)continue;if(Z<220&&k>20)return!1}return!0}return{decode:function(b){const v=new Uint8Array(b);let x=8;const N=t,O=N.readUshort,C=N.readUint,w={tabs:{},frames:[]},G=new Uint8Array(v.length);let $,z=0,B=0;const D=[137,80,78,71,13,10,26,10];for(var Z=0;Z<8;Z++)if(v[Z]!=D[Z])throw"The input is not a PNG file!";for(;x<v.length;){const q=N.readUint(v,x);x+=4;const T=N.readASCII(v,x,4);if(x+=4,T=="IHDR")y(v,x,w);else if(T=="iCCP"){for(var R=x;v[R]!=0;)R++;N.readASCII(v,x,R-x),v[R+1];const S=v.slice(R+2,x+q);let I=null;try{I=s(S)}catch{I=l(S)}w.tabs[T]=I}else if(T=="CgBI")w.tabs[T]=v.slice(x,x+4);else if(T=="IDAT"){for(Z=0;Z<q;Z++)G[z+Z]=v[x+Z];z+=q}else if(T=="acTL")w.tabs[T]={num_frames:C(v,x),num_plays:C(v,x+4)},$=new Uint8Array(v.length);else if(T=="fcTL"){B!=0&&((F=w.frames[w.frames.length-1]).data=i(w,$.slice(0,B),F.rect.width,F.rect.height),B=0);const S={x:C(v,x+12),y:C(v,x+16),width:C(v,x+4),height:C(v,x+8)};let I=O(v,x+22);I=O(v,x+20)/(I==0?100:I);const P={rect:S,delay:Math.round(1e3*I),dispose:v[x+24],blend:v[x+25]};w.frames.push(P)}else if(T=="fdAT"){for(Z=0;Z<q-4;Z++)$[B+Z]=v[x+Z+4];B+=q-4}else if(T=="pHYs")w.tabs[T]=[N.readUint(v,x),N.readUint(v,x+4),v[x+8]];else if(T=="cHRM")for(w.tabs[T]=[],Z=0;Z<8;Z++)w.tabs[T].push(N.readUint(v,x+4*Z));else if(T=="tEXt"||T=="zTXt"){w.tabs[T]==null&&(w.tabs[T]={});var E=N.nextZero(v,x),M=N.readASCII(v,x,E-x),k=x+q-E-1;if(T=="tEXt")H=N.readASCII(v,E+1,k);else{var U=s(v.slice(E+2,E+2+k));H=N.readUTF8(U,0,U.length)}w.tabs[T][M]=H}else if(T=="iTXt"){w.tabs[T]==null&&(w.tabs[T]={}),E=0,R=x,E=N.nextZero(v,R),M=N.readASCII(v,R,E-R);const S=v[R=E+1];var H;v[R+1],R+=2,E=N.nextZero(v,R),N.readASCII(v,R,E-R),R=E+1,E=N.nextZero(v,R),N.readUTF8(v,R,E-R),k=q-((R=E+1)-x),S==0?H=N.readUTF8(v,R,k):(U=s(v.slice(R,R+k)),H=N.readUTF8(U,0,U.length)),w.tabs[T][M]=H}else if(T=="PLTE")w.tabs[T]=N.readBytes(v,x,q);else if(T=="hIST"){const S=w.tabs.PLTE.length/3;for(w.tabs[T]=[],Z=0;Z<S;Z++)w.tabs[T].push(O(v,x+2*Z))}else if(T=="tRNS")w.ctype==3?w.tabs[T]=N.readBytes(v,x,q):w.ctype==0?w.tabs[T]=O(v,x):w.ctype==2&&(w.tabs[T]=[O(v,x),O(v,x+2),O(v,x+4)]);else if(T=="gAMA")w.tabs[T]=N.readUint(v,x)/1e5;else if(T=="sRGB")w.tabs[T]=v[x];else if(T=="bKGD")w.ctype==0||w.ctype==4?w.tabs[T]=[O(v,x)]:w.ctype==2||w.ctype==6?w.tabs[T]=[O(v,x),O(v,x+2),O(v,x+4)]:w.ctype==3&&(w.tabs[T]=v[x]);else if(T=="IEND")break;x+=q,N.readUint(v,x),x+=4}var F;return B!=0&&((F=w.frames[w.frames.length-1]).data=i(w,$.slice(0,B),F.rect.width,F.rect.height)),w.data=i(w,G,w.width,w.height),delete w.compress,delete w.interlace,delete w.filter,w},toRGBA8:function(b){const v=b.width,x=b.height;if(b.tabs.acTL==null)return[r(b.data,v,x,b).buffer];const N=[];b.frames[0].data==null&&(b.frames[0].data=b.data);const O=v*x*4,C=new Uint8Array(O),w=new Uint8Array(O),G=new Uint8Array(O);for(let z=0;z<b.frames.length;z++){const B=b.frames[z],D=B.rect.x,Z=B.rect.y,R=B.rect.width,E=B.rect.height,M=r(B.data,R,E,b);if(z!=0)for(var $=0;$<O;$++)G[$]=C[$];if(B.blend==0?g(M,R,E,C,v,x,D,Z,0):B.blend==1&&g(M,R,E,C,v,x,D,Z,1),N.push(C.buffer.slice(0)),B.dispose!=0){if(B.dispose==1)g(w,R,E,C,v,x,D,Z,0);else if(B.dispose==2)for($=0;$<O;$++)C[$]=G[$]}}return N},_paeth:m,_copyTile:g,_bin:t}}();(function(){const{_copyTile:t}=$n,{_bin:r}=$n,i=$n._paeth;var s={table:function(){const R=new Uint32Array(256);for(let E=0;E<256;E++){let M=E;for(let k=0;k<8;k++)1&M?M=3988292384^M>>>1:M>>>=1;R[E]=M}return R}(),update(R,E,M,k){for(let U=0;U<k;U++)R=s.table[255&(R^E[M+U])]^R>>>8;return R},crc:(R,E,M)=>4294967295^s.update(4294967295,R,E,M)};function l(R,E,M,k){E[M]+=R[0]*k>>4,E[M+1]+=R[1]*k>>4,E[M+2]+=R[2]*k>>4,E[M+3]+=R[3]*k>>4}function u(R){return Math.max(0,Math.min(255,R))}function f(R,E){const M=R[0]-E[0],k=R[1]-E[1],U=R[2]-E[2],H=R[3]-E[3];return M*M+k*k+U*U+H*H}function m(R,E,M,k,U,H,F){F==null&&(F=1);const q=k.length,T=[];for(var S=0;S<q;S++){const J=k[S];T.push([J>>>0&255,J>>>8&255,J>>>16&255,J>>>24&255])}for(S=0;S<q;S++){let J=4294967295;for(var I=0,P=0;P<q;P++){var _=f(T[S],T[P]);P!=S&&_<J&&(J=_,I=P)}}const Q=new Uint32Array(U.buffer),Y=new Int16Array(E*M*4),W=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(S=0;S<W.length;S++)W[S]=255*((W[S]+.5)/16-.5);for(let J=0;J<M;J++)for(let ve=0;ve<E;ve++){var K;S=4*(J*E+ve),F!=2?K=[u(R[S]+Y[S]),u(R[S+1]+Y[S+1]),u(R[S+2]+Y[S+2]),u(R[S+3]+Y[S+3])]:(_=W[4*(3&J)+(3&ve)],K=[u(R[S]+_),u(R[S+1]+_),u(R[S+2]+_),u(R[S+3]+_)]),I=0;let Fe=16777215;for(P=0;P<q;P++){const ke=f(K,T[P]);ke<Fe&&(Fe=ke,I=P)}const _e=T[I],Ie=[K[0]-_e[0],K[1]-_e[1],K[2]-_e[2],K[3]-_e[3]];F==1&&(ve!=E-1&&l(Ie,Y,S+4,7),J!=M-1&&(ve!=0&&l(Ie,Y,S+4*E-4,3),l(Ie,Y,S+4*E,5),ve!=E-1&&l(Ie,Y,S+4*E+4,1))),H[S>>2]=I,Q[S>>2]=k[I]}}function y(R,E,M,k,U){U==null&&(U={});const{crc:H}=s,F=r.writeUint,q=r.writeUshort,T=r.writeASCII;let S=8;const I=R.frames.length>1;let P,_=!1,Q=33+(I?20:0);if(U.sRGB!=null&&(Q+=13),U.pHYs!=null&&(Q+=21),U.iCCP!=null&&(P=pako.deflate(U.iCCP),Q+=21+P.length+4),R.ctype==3){for(var Y=R.plte.length,W=0;W<Y;W++)R.plte[W]>>>24!=255&&(_=!0);Q+=8+3*Y+4+(_?8+1*Y+4:0)}for(var K=0;K<R.frames.length;K++)I&&(Q+=38),Q+=(_e=R.frames[K]).cimg.length+12,K!=0&&(Q+=4);Q+=12;const J=new Uint8Array(Q),ve=[137,80,78,71,13,10,26,10];for(W=0;W<8;W++)J[W]=ve[W];if(F(J,S,13),S+=4,T(J,S,"IHDR"),S+=4,F(J,S,E),S+=4,F(J,S,M),S+=4,J[S]=R.depth,S++,J[S]=R.ctype,S++,J[S]=0,S++,J[S]=0,S++,J[S]=0,S++,F(J,S,H(J,S-17,17)),S+=4,U.sRGB!=null&&(F(J,S,1),S+=4,T(J,S,"sRGB"),S+=4,J[S]=U.sRGB,S++,F(J,S,H(J,S-5,5)),S+=4),U.iCCP!=null){const Ie=13+P.length;F(J,S,Ie),S+=4,T(J,S,"iCCP"),S+=4,T(J,S,"ICC profile"),S+=11,S+=2,J.set(P,S),S+=P.length,F(J,S,H(J,S-(Ie+4),Ie+4)),S+=4}if(U.pHYs!=null&&(F(J,S,9),S+=4,T(J,S,"pHYs"),S+=4,F(J,S,U.pHYs[0]),S+=4,F(J,S,U.pHYs[1]),S+=4,J[S]=U.pHYs[2],S++,F(J,S,H(J,S-13,13)),S+=4),I&&(F(J,S,8),S+=4,T(J,S,"acTL"),S+=4,F(J,S,R.frames.length),S+=4,F(J,S,U.loop!=null?U.loop:0),S+=4,F(J,S,H(J,S-12,12)),S+=4),R.ctype==3){for(F(J,S,3*(Y=R.plte.length)),S+=4,T(J,S,"PLTE"),S+=4,W=0;W<Y;W++){const Ie=3*W,ke=R.plte[W],Ge=255&ke,tt=ke>>>8&255,ht=ke>>>16&255;J[S+Ie+0]=Ge,J[S+Ie+1]=tt,J[S+Ie+2]=ht}if(S+=3*Y,F(J,S,H(J,S-3*Y-4,3*Y+4)),S+=4,_){for(F(J,S,Y),S+=4,T(J,S,"tRNS"),S+=4,W=0;W<Y;W++)J[S+W]=R.plte[W]>>>24&255;S+=Y,F(J,S,H(J,S-Y-4,Y+4)),S+=4}}let Fe=0;for(K=0;K<R.frames.length;K++){var _e=R.frames[K];I&&(F(J,S,26),S+=4,T(J,S,"fcTL"),S+=4,F(J,S,Fe++),S+=4,F(J,S,_e.rect.width),S+=4,F(J,S,_e.rect.height),S+=4,F(J,S,_e.rect.x),S+=4,F(J,S,_e.rect.y),S+=4,q(J,S,k[K]),S+=2,q(J,S,1e3),S+=2,J[S]=_e.dispose,S++,J[S]=_e.blend,S++,F(J,S,H(J,S-30,30)),S+=4);const Ie=_e.cimg;F(J,S,(Y=Ie.length)+(K==0?0:4)),S+=4;const ke=S;T(J,S,K==0?"IDAT":"fdAT"),S+=4,K!=0&&(F(J,S,Fe++),S+=4),J.set(Ie,S),S+=Y,F(J,S,H(J,ke,S-ke)),S+=4}return F(J,S,0),S+=4,T(J,S,"IEND"),S+=4,F(J,S,H(J,S-4,4)),S+=4,J.buffer}function g(R,E,M){for(let k=0;k<R.frames.length;k++){const U=R.frames[k];U.rect.width;const H=U.rect.height,F=new Uint8Array(H*U.bpl+H);U.cimg=x(U.img,H,U.bpp,U.bpl,F,E,M)}}function p(R,E,M,k,U){const H=U[0],F=U[1],q=U[2],T=U[3],S=U[4],I=U[5];let P=6,_=8,Q=255;for(var Y=0;Y<R.length;Y++){const Ue=new Uint8Array(R[Y]);for(var W=Ue.length,K=0;K<W;K+=4)Q&=Ue[K+3]}const J=Q!=255,ve=function(De,Le,ze,V,oe,Me){const ge=[];for(var Te=0;Te<De.length;Te++){const At=new Uint8Array(De[Te]),qt=new Uint32Array(At.buffer);var we;let Ft=0,Ot=0,gt=Le,nn=ze,me=V?1:0;if(Te!=0){const je=Me||V||Te==1||ge[Te-2].dispose!=0?1:2;let Se=0,se=1e9;for(let ce=0;ce<je;ce++){var Ye=new Uint8Array(De[Te-1-ce]);const xe=new Uint32Array(De[Te-1-ce]);let ne=Le,ie=ze,Ae=-1,he=-1;for(let Xe=0;Xe<ze;Xe++)for(let Ce=0;Ce<Le;Ce++)qt[ot=Xe*Le+Ce]!=xe[ot]&&(Ce<ne&&(ne=Ce),Ce>Ae&&(Ae=Ce),Xe<ie&&(ie=Xe),Xe>he&&(he=Xe));Ae==-1&&(ne=ie=Ae=he=0),oe&&((1&ne)==1&&ne--,(1&ie)==1&&ie--);const Oe=(Ae-ne+1)*(he-ie+1);Oe<se&&(se=Oe,Se=ce,Ft=ne,Ot=ie,gt=Ae-ne+1,nn=he-ie+1)}Ye=new Uint8Array(De[Te-1-Se]),Se==1&&(ge[Te-1].dispose=2),we=new Uint8Array(gt*nn*4),t(Ye,Le,ze,we,gt,nn,-Ft,-Ot,0),me=t(At,Le,ze,we,gt,nn,-Ft,-Ot,3)?1:0,me==1?v(At,Le,ze,we,{x:Ft,y:Ot,width:gt,height:nn}):t(At,Le,ze,we,gt,nn,-Ft,-Ot,0)}else we=At.slice(0);ge.push({rect:{x:Ft,y:Ot,width:gt,height:nn},img:we,blend:me,dispose:0})}if(V)for(Te=0;Te<ge.length;Te++){if((cn=ge[Te]).blend==1)continue;const At=cn.rect,qt=ge[Te-1].rect,Ft=Math.min(At.x,qt.x),Ot=Math.min(At.y,qt.y),gt={x:Ft,y:Ot,width:Math.max(At.x+At.width,qt.x+qt.width)-Ft,height:Math.max(At.y+At.height,qt.y+qt.height)-Ot};ge[Te-1].dispose=1,Te-1!=0&&b(De,Le,ze,ge,Te-1,gt,oe),b(De,Le,ze,ge,Te,gt,oe)}let pt=0;if(De.length!=1)for(var ot=0;ot<ge.length;ot++){var cn;pt+=(cn=ge[ot]).rect.width*cn.rect.height}return ge}(R,E,M,H,F,q),Fe={},_e=[],Ie=[];if(k!=0){const Ue=[];for(K=0;K<ve.length;K++)Ue.push(ve[K].img.buffer);const De=function(oe){let Me=0;for(var ge=0;ge<oe.length;ge++)Me+=oe[ge].byteLength;const Te=new Uint8Array(Me);let we=0;for(ge=0;ge<oe.length;ge++){const Ye=new Uint8Array(oe[ge]),pt=Ye.length;for(let ot=0;ot<pt;ot+=4){let cn=Ye[ot],At=Ye[ot+1],qt=Ye[ot+2];const Ft=Ye[ot+3];Ft==0&&(cn=At=qt=0),Te[we+ot]=cn,Te[we+ot+1]=At,Te[we+ot+2]=qt,Te[we+ot+3]=Ft}we+=pt}return Te.buffer}(Ue),Le=O(De,k);for(K=0;K<Le.plte.length;K++)_e.push(Le.plte[K].est.rgba);let ze=0;for(K=0;K<ve.length;K++){const V=(Ge=ve[K]).img.length;var ke=new Uint8Array(Le.inds.buffer,ze>>2,V>>2);Ie.push(ke);const oe=new Uint8Array(Le.abuf,ze,V);I&&m(Ge.img,Ge.rect.width,Ge.rect.height,_e,oe,ke),Ge.img.set(oe),ze+=V}}else for(Y=0;Y<ve.length;Y++){var Ge=ve[Y];const Ue=new Uint32Array(Ge.img.buffer);var tt=Ge.rect.width;for(W=Ue.length,ke=new Uint8Array(W),Ie.push(ke),K=0;K<W;K++){const De=Ue[K];if(K!=0&&De==Ue[K-1])ke[K]=ke[K-1];else if(K>tt&&De==Ue[K-tt])ke[K]=ke[K-tt];else{let Le=Fe[De];if(Le==null&&(Fe[De]=Le=_e.length,_e.push(De),_e.length>=300))break;ke[K]=Le}}}const ht=_e.length;for(ht<=256&&S==0&&(_=ht<=2?1:ht<=4?2:ht<=16?4:8,_=Math.max(_,T)),Y=0;Y<ve.length;Y++){(Ge=ve[Y]).rect.x,Ge.rect.y,tt=Ge.rect.width;const Ue=Ge.rect.height;let De=Ge.img;new Uint32Array(De.buffer);let Le=4*tt,ze=4;if(ht<=256&&S==0){Le=Math.ceil(_*tt/8);var be=new Uint8Array(Le*Ue);const V=Ie[Y];for(let oe=0;oe<Ue;oe++){K=oe*Le;const Me=oe*tt;if(_==8)for(var pe=0;pe<tt;pe++)be[K+pe]=V[Me+pe];else if(_==4)for(pe=0;pe<tt;pe++)be[K+(pe>>1)]|=V[Me+pe]<<4-4*(1&pe);else if(_==2)for(pe=0;pe<tt;pe++)be[K+(pe>>2)]|=V[Me+pe]<<6-2*(3&pe);else if(_==1)for(pe=0;pe<tt;pe++)be[K+(pe>>3)]|=V[Me+pe]<<7-1*(7&pe)}De=be,P=3,ze=1}else if(J==0&&ve.length==1){be=new Uint8Array(tt*Ue*3);const V=tt*Ue;for(K=0;K<V;K++){const oe=3*K,Me=4*K;be[oe]=De[Me],be[oe+1]=De[Me+1],be[oe+2]=De[Me+2]}De=be,P=2,ze=3,Le=3*tt}Ge.img=De,Ge.bpl=Le,Ge.bpp=ze}return{ctype:P,depth:_,plte:_e,frames:ve}}function b(R,E,M,k,U,H,F){const q=Uint8Array,T=Uint32Array,S=new q(R[U-1]),I=new T(R[U-1]),P=U+1<R.length?new q(R[U+1]):null,_=new q(R[U]),Q=new T(_.buffer);let Y=E,W=M,K=-1,J=-1;for(let Fe=0;Fe<H.height;Fe++)for(let _e=0;_e<H.width;_e++){const Ie=H.x+_e,ke=H.y+Fe,Ge=ke*E+Ie,tt=Q[Ge];tt==0||k[U-1].dispose==0&&I[Ge]==tt&&(P==null||P[4*Ge+3]!=0)||(Ie<Y&&(Y=Ie),Ie>K&&(K=Ie),ke<W&&(W=ke),ke>J&&(J=ke))}K==-1&&(Y=W=K=J=0),F&&((1&Y)==1&&Y--,(1&W)==1&&W--),H={x:Y,y:W,width:K-Y+1,height:J-W+1};const ve=k[U];ve.rect=H,ve.blend=1,ve.img=new Uint8Array(H.width*H.height*4),k[U-1].dispose==0?(t(S,E,M,ve.img,H.width,H.height,-H.x,-H.y,0),v(_,E,M,ve.img,H)):t(_,E,M,ve.img,H.width,H.height,-H.x,-H.y,0)}function v(R,E,M,k,U){t(R,E,M,k,U.width,U.height,-U.x,-U.y,2)}function x(R,E,M,k,U,H,F){const q=[];let T,S=[0,1,2,3,4];H!=-1?S=[H]:(E*k>5e5||M==1)&&(S=[0]),F&&(T={level:0});const I=lR;for(var P=0;P<S.length;P++){for(let Y=0;Y<E;Y++)N(U,R,Y,k,M,S[P]);q.push(I.deflate(U,T))}let _,Q=1e9;for(P=0;P<q.length;P++)q[P].length<Q&&(_=P,Q=q[P].length);return q[_]}function N(R,E,M,k,U,H){const F=M*k;let q=F+M;if(R[q]=H,q++,H==0)if(k<500)for(var T=0;T<k;T++)R[q+T]=E[F+T];else R.set(new Uint8Array(E.buffer,F,k),q);else if(H==1){for(T=0;T<U;T++)R[q+T]=E[F+T];for(T=U;T<k;T++)R[q+T]=E[F+T]-E[F+T-U]+256&255}else if(M==0){for(T=0;T<U;T++)R[q+T]=E[F+T];if(H==2)for(T=U;T<k;T++)R[q+T]=E[F+T];if(H==3)for(T=U;T<k;T++)R[q+T]=E[F+T]-(E[F+T-U]>>1)+256&255;if(H==4)for(T=U;T<k;T++)R[q+T]=E[F+T]-i(E[F+T-U],0,0)+256&255}else{if(H==2)for(T=0;T<k;T++)R[q+T]=E[F+T]+256-E[F+T-k]&255;if(H==3){for(T=0;T<U;T++)R[q+T]=E[F+T]+256-(E[F+T-k]>>1)&255;for(T=U;T<k;T++)R[q+T]=E[F+T]+256-(E[F+T-k]+E[F+T-U]>>1)&255}if(H==4){for(T=0;T<U;T++)R[q+T]=E[F+T]+256-i(0,E[F+T-k],0)&255;for(T=U;T<k;T++)R[q+T]=E[F+T]+256-i(E[F+T-U],E[F+T-k],E[F+T-U-k])&255}}}function O(R,E){const M=new Uint8Array(R),k=M.slice(0),U=new Uint32Array(k.buffer),H=C(k,E),F=H[0],q=H[1],T=M.length,S=new Uint8Array(T>>2);let I;if(M.length<2e7)for(var P=0;P<T;P+=4)I=w(F,_=M[P]*(1/255),Q=M[P+1]*(1/255),Y=M[P+2]*(1/255),W=M[P+3]*(1/255)),S[P>>2]=I.ind,U[P>>2]=I.est.rgba;else for(P=0;P<T;P+=4){var _=M[P]*.00392156862745098,Q=M[P+1]*(1/255),Y=M[P+2]*(1/255),W=M[P+3]*(1/255);for(I=F;I.left;)I=G(I.est,_,Q,Y,W)<=0?I.left:I.right;S[P>>2]=I.ind,U[P>>2]=I.est.rgba}return{abuf:k.buffer,inds:S,plte:q}}function C(R,E,M){M==null&&(M=1e-4);const k=new Uint32Array(R.buffer),U={i0:0,i1:R.length,bst:null,est:null,tdst:0,left:null,right:null};U.bst=B(R,U.i0,U.i1),U.est=D(U.bst);const H=[U];for(;H.length<E;){let q=0,T=0;for(var F=0;F<H.length;F++)H[F].est.L>q&&(q=H[F].est.L,T=F);if(q<M)break;const S=H[T],I=$(R,k,S.i0,S.i1,S.est.e,S.est.eMq255);if(S.i0>=I||S.i1<=I){S.est.L=0;continue}const P={i0:S.i0,i1:I,bst:null,est:null,tdst:0,left:null,right:null};P.bst=B(R,P.i0,P.i1),P.est=D(P.bst);const _={i0:I,i1:S.i1,bst:null,est:null,tdst:0,left:null,right:null};for(_.bst={R:[],m:[],N:S.bst.N-P.bst.N},F=0;F<16;F++)_.bst.R[F]=S.bst.R[F]-P.bst.R[F];for(F=0;F<4;F++)_.bst.m[F]=S.bst.m[F]-P.bst.m[F];_.est=D(_.bst),S.left=P,S.right=_,H[T]=P,H.push(_)}for(H.sort((q,T)=>T.bst.N-q.bst.N),F=0;F<H.length;F++)H[F].ind=F;return[U,H]}function w(R,E,M,k,U){if(R.left==null)return R.tdst=function(P,_,Q,Y,W){const K=_-P[0],J=Q-P[1],ve=Y-P[2],Fe=W-P[3];return K*K+J*J+ve*ve+Fe*Fe}(R.est.q,E,M,k,U),R;const H=G(R.est,E,M,k,U);let F=R.left,q=R.right;H>0&&(F=R.right,q=R.left);const T=w(F,E,M,k,U);if(T.tdst<=H*H)return T;const S=w(q,E,M,k,U);return S.tdst<T.tdst?S:T}function G(R,E,M,k,U){const{e:H}=R;return H[0]*E+H[1]*M+H[2]*k+H[3]*U-R.eMq}function $(R,E,M,k,U,H){for(k-=4;M<k;){for(;z(R,M,U)<=H;)M+=4;for(;z(R,k,U)>H;)k-=4;if(M>=k)break;const F=E[M>>2];E[M>>2]=E[k>>2],E[k>>2]=F,M+=4,k-=4}for(;z(R,M,U)>H;)M-=4;return M+4}function z(R,E,M){return R[E]*M[0]+R[E+1]*M[1]+R[E+2]*M[2]+R[E+3]*M[3]}function B(R,E,M){const k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],U=[0,0,0,0],H=M-E>>2;for(let F=E;F<M;F+=4){const q=R[F]*.00392156862745098,T=R[F+1]*(1/255),S=R[F+2]*(1/255),I=R[F+3]*(1/255);U[0]+=q,U[1]+=T,U[2]+=S,U[3]+=I,k[0]+=q*q,k[1]+=q*T,k[2]+=q*S,k[3]+=q*I,k[5]+=T*T,k[6]+=T*S,k[7]+=T*I,k[10]+=S*S,k[11]+=S*I,k[15]+=I*I}return k[4]=k[1],k[8]=k[2],k[9]=k[6],k[12]=k[3],k[13]=k[7],k[14]=k[11],{R:k,m:U,N:H}}function D(R){const{R:E}=R,{m:M}=R,{N:k}=R,U=M[0],H=M[1],F=M[2],q=M[3],T=k==0?0:1/k,S=[E[0]-U*U*T,E[1]-U*H*T,E[2]-U*F*T,E[3]-U*q*T,E[4]-H*U*T,E[5]-H*H*T,E[6]-H*F*T,E[7]-H*q*T,E[8]-F*U*T,E[9]-F*H*T,E[10]-F*F*T,E[11]-F*q*T,E[12]-q*U*T,E[13]-q*H*T,E[14]-q*F*T,E[15]-q*q*T],I=S,P=Z;let _=[Math.random(),Math.random(),Math.random(),Math.random()],Q=0,Y=0;if(k!=0)for(let K=0;K<16&&(_=P.multVec(I,_),Y=Math.sqrt(P.dot(_,_)),_=P.sml(1/Y,_),!(K!=0&&Math.abs(Y-Q)<1e-9));K++)Q=Y;const W=[U*T,H*T,F*T,q*T];return{Cov:S,q:W,e:_,L:Q,eMq255:P.dot(P.sml(255,W),_),eMq:P.dot(_,W),rgba:(Math.round(255*W[3])<<24|Math.round(255*W[2])<<16|Math.round(255*W[1])<<8|Math.round(255*W[0])<<0)>>>0}}var Z={multVec:(R,E)=>[R[0]*E[0]+R[1]*E[1]+R[2]*E[2]+R[3]*E[3],R[4]*E[0]+R[5]*E[1]+R[6]*E[2]+R[7]*E[3],R[8]*E[0]+R[9]*E[1]+R[10]*E[2]+R[11]*E[3],R[12]*E[0]+R[13]*E[1]+R[14]*E[2]+R[15]*E[3]],dot:(R,E)=>R[0]*E[0]+R[1]*E[1]+R[2]*E[2]+R[3]*E[3],sml:(R,E)=>[R*E[0],R*E[1],R*E[2],R*E[3]]};$n.encode=function(E,M,k,U,H,F,q){U==null&&(U=0),q==null&&(q=!1);const T=p(E,M,k,U,[!1,!1,!1,0,q,!1]);return g(T,-1),y(T,M,k,H,F)},$n.encodeLL=function(E,M,k,U,H,F,q,T){const S={ctype:0+(U==1?0:2)+(H==0?0:4),depth:F,frames:[]},I=(U+H)*F,P=I*M;for(let _=0;_<E.length;_++)S.frames.push({rect:{x:0,y:0,width:M,height:k},img:new Uint8Array(E[_]),blend:0,dispose:1,bpp:Math.ceil(I/8),bpl:Math.ceil(P/8)});return g(S,0,!0),y(S,M,k,q,T)},$n.encode.compress=p,$n.encode.dither=m,$n.quantize=O,$n.quantize.getKDtree=C,$n.quantize.getNearest=w})();const _b={toArrayBuffer(t,r){const i=t.width,s=t.height,l=i<<2,u=t.getContext("2d").getImageData(0,0,i,s),f=new Uint32Array(u.data.buffer),m=(32*i+31)/32<<2,y=m*s,g=122+y,p=new ArrayBuffer(g),b=new DataView(p),v=1<<20;let x,N,O,C,w=v,G=0,$=0,z=0;function B(R){b.setUint16($,R,!0),$+=2}function D(R){b.setUint32($,R,!0),$+=4}function Z(R){$+=R}B(19778),D(g),Z(4),D(122),D(108),D(i),D(-s>>>0),B(1),B(32),D(3),D(y),D(2835),D(2835),Z(8),D(16711680),D(65280),D(255),D(4278190080),D(1466527264),function R(){for(;G<s&&w>0;){for(C=122+G*m,x=0;x<l;)w--,N=f[z++],O=N>>>24,b.setUint32(C+x,N<<8|O),x+=4;G++}z<f.length?(w=v,setTimeout(R,_b._dly)):r(p)}()},toBlob(t,r){this.toArrayBuffer(t,i=>{r(new Blob([i],{type:"image/bmp"}))})},_dly:9};var pn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},oR={[pn.CHROME]:16384,[pn.FIREFOX]:11180,[pn.DESKTOP_SAFARI]:16384,[pn.IE]:8192,[pn.IOS]:4096,[pn.ETC]:8192};const mf=typeof window<"u",Ob=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Co=mf&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),cR=(mf||Ob)&&(Co&&Co.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Db=(mf||Ob)&&(Co&&Co.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function hf(t,r,i=Date.now()){return new Promise(s=>{const l=t.split(","),u=l[0].match(/:(.*?);/)[1],f=globalThis.atob(l[1]);let m=f.length;const y=new Uint8Array(m);for(;m--;)y[m]=f.charCodeAt(m);const g=new Blob([y],{type:u});g.name=r,g.lastModified=i,s(g)})}function Mb(t){return new Promise((r,i)=>{const s=new Db;s.onload=()=>r(s.result),s.onerror=l=>i(l),s.readAsDataURL(t)})}function Ib(t){return new Promise((r,i)=>{const s=new Image;s.onload=()=>r(s),s.onerror=l=>i(l),s.src=t})}function Aa(){if(Aa.cachedResult!==void 0)return Aa.cachedResult;let t=pn.ETC;const{userAgent:r}=navigator;return/Chrom(e|ium)/i.test(r)?t=pn.CHROME:/iP(ad|od|hone)/i.test(r)&&/WebKit/i.test(r)?t=pn.IOS:/Safari/i.test(r)?t=pn.DESKTOP_SAFARI:/Firefox/i.test(r)?t=pn.FIREFOX:(/MSIE/i.test(r)||document.documentMode)&&(t=pn.IE),Aa.cachedResult=t,Aa.cachedResult}function Ub(t,r){const i=Aa(),s=oR[i];let l=t,u=r,f=l*u;const m=l>u?u/l:l/u;for(;f>s*s;){const y=(s+l)/2,g=(s+u)/2;y<g?(u=g,l=g*m):(u=y*m,l=y),f=l*u}return{width:l,height:u}}function qo(t,r){let i,s;try{if(i=new OffscreenCanvas(t,r),s=i.getContext("2d"),s===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{i=document.createElement("canvas"),s=i.getContext("2d")}return i.width=t,i.height=r,[i,s]}function Lb(t,r){const{width:i,height:s}=Ub(t.width,t.height),[l,u]=qo(i,s);return r&&/jpe?g/.test(r)&&(u.fillStyle="white",u.fillRect(0,0,l.width,l.height)),u.drawImage(t,0,0,l.width,l.height),l}function vo(){return vo.cachedResult!==void 0||(vo.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),vo.cachedResult}function wo(t,r={}){return new Promise(function(i,s){let l,u;var f=function(){try{return u=Lb(l,r.fileType||t.type),i([l,u])}catch(y){return s(y)}},m=function(y){try{var g=function(p){try{throw p}catch(b){return s(b)}};try{let p;return Mb(t).then(function(b){try{return p=b,Ib(p).then(function(v){try{return l=v,function(){try{return f()}catch(x){return s(x)}}()}catch(x){return g(x)}},g)}catch(v){return g(v)}},g)}catch(p){g(p)}}catch(p){return s(p)}};try{if(vo()||[pn.DESKTOP_SAFARI,pn.MOBILE_SAFARI].includes(Aa()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(y){try{return l=y,f()}catch{return m()}},m)}catch{m()}})}function Ro(t,r,i,s,l=1){return new Promise(function(u,f){let m;if(r==="image/png"){let b,v,x;return b=t.getContext("2d"),{data:v}=b.getImageData(0,0,t.width,t.height),x=$n.encode([v.buffer],t.width,t.height,4096*l),m=new Blob([x],{type:r}),m.name=i,m.lastModified=s,y.call(this)}{let b=function(){return y.call(this)};var g=b;if(r==="image/bmp")return new Promise(v=>_b.toBlob(t,v)).then((function(v){try{return m=v,m.name=i,m.lastModified=s,b.call(this)}catch(x){return f(x)}}).bind(this),f);{let v=function(){return b.call(this)};var p=v;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:r,quality:l}).then((function(x){try{return m=x,m.name=i,m.lastModified=s,v.call(this)}catch(N){return f(N)}}).bind(this),f);{let x;return x=t.toDataURL(r,l),hf(x,i,s).then((function(N){try{return m=N,v.call(this)}catch(O){return f(O)}}).bind(this),f)}}}function y(){return u(m)}})}function nr(t){t.width=0,t.height=0}function ys(){return new Promise(function(t,r){let i,s,l,u;return ys.cachedResult!==void 0?t(ys.cachedResult):hf("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(f){try{return i=f,wo(i).then(function(m){try{return s=m[1],Ro(s,i.type,i.name,i.lastModified).then(function(y){try{return l=y,nr(s),wo(l).then(function(g){try{return u=g[0],ys.cachedResult=u.width===1&&u.height===2,t(ys.cachedResult)}catch(p){return r(p)}},r)}catch(g){return r(g)}},r)}catch(y){return r(y)}},r)}catch(m){return r(m)}},r)})}function Fb(t){return new Promise((r,i)=>{const s=new Db;s.onload=l=>{const u=new DataView(l.target.result);if(u.getUint16(0,!1)!=65496)return r(-2);const f=u.byteLength;let m=2;for(;m<f;){if(u.getUint16(m+2,!1)<=8)return r(-1);const y=u.getUint16(m,!1);if(m+=2,y==65505){if(u.getUint32(m+=2,!1)!=1165519206)return r(-1);const g=u.getUint16(m+=6,!1)==18761;m+=u.getUint32(m+4,g);const p=u.getUint16(m,g);m+=2;for(let b=0;b<p;b++)if(u.getUint16(m+12*b,g)==274)return r(u.getUint16(m+12*b+8,g))}else{if((65280&y)!=65280)break;m+=u.getUint16(m,!1)}}return r(-1)},s.onerror=l=>i(l),s.readAsArrayBuffer(t)})}function kb(t,r){const{width:i}=t,{height:s}=t,{maxWidthOrHeight:l}=r;let u,f=t;return isFinite(l)&&(i>l||s>l)&&([f,u]=qo(i,s),i>s?(f.width=l,f.height=s/i*l):(f.width=i/s*l,f.height=l),u.drawImage(t,0,0,f.width,f.height),nr(t)),f}function zb(t,r){const{width:i}=t,{height:s}=t,[l,u]=qo(i,s);switch(r>4&&r<9?(l.width=s,l.height=i):(l.width=i,l.height=s),r){case 2:u.transform(-1,0,0,1,i,0);break;case 3:u.transform(-1,0,0,-1,i,s);break;case 4:u.transform(1,0,0,-1,0,s);break;case 5:u.transform(0,1,1,0,0,0);break;case 6:u.transform(0,1,-1,0,s,0);break;case 7:u.transform(0,-1,-1,0,s,i);break;case 8:u.transform(0,-1,1,0,0,i)}return u.drawImage(t,0,0,i,s),nr(t),l}function N0(t,r,i=0){return new Promise(function(s,l){let u,f,m,y,g,p,b,v,x,N,O,C,w,G,$,z,B,D,Z,R;function E(k=5){if(r.signal&&r.signal.aborted)throw r.signal.reason;u+=k,r.onProgress(Math.min(u,100))}function M(k){if(r.signal&&r.signal.aborted)throw r.signal.reason;u=Math.min(Math.max(k,u),100),r.onProgress(u)}return u=i,f=r.maxIteration||10,m=1024*r.maxSizeMB*1024,E(),wo(t,r).then((function(k){try{return[,y]=k,E(),g=kb(y,r),E(),new Promise(function(U,H){var F;if(!(F=r.exifOrientation))return Fb(t).then((function(T){try{return F=T,q.call(this)}catch(S){return H(S)}}).bind(this),H);function q(){return U(F)}return q.call(this)}).then((function(U){try{return p=U,E(),ys().then((function(H){try{return b=H?g:zb(g,p),E(),v=r.initialQuality||1,x=r.fileType||t.type,Ro(b,x,t.name,t.lastModified,v).then((function(F){try{{let I=function(){if(f--&&($>m||$>w)){let _,Q;return _=R?.95*Z.width:Z.width,Q=R?.95*Z.height:Z.height,[B,D]=qo(_,Q),D.drawImage(Z,0,0,_,Q),v*=x==="image/png"?.85:.95,Ro(B,x,t.name,t.lastModified,v).then(function(Y){try{return z=Y,nr(Z),Z=B,$=z.size,M(Math.min(99,Math.floor((G-$)/(G-m)*100))),I}catch(W){return l(W)}},l)}return[1]},P=function(){return nr(Z),nr(B),nr(g),nr(b),nr(y),M(100),s(z)};var T=I,S=P;if(N=F,E(),O=N.size>m,C=N.size>t.size,!O&&!C)return M(100),s(N);var q;return w=t.size,G=N.size,$=G,Z=b,R=!r.alwaysKeepResolution&&O,(q=(function(_){for(;_;){if(_.then)return void _.then(q,l);try{if(_.pop){if(_.length)return _.pop()?P.call(this):_;_=I}else _=_.call(this)}catch(Q){return l(Q)}}}).bind(this))(I)}}catch(I){return l(I)}}).bind(this),l)}catch(F){return l(F)}}).bind(this),l)}catch(H){return l(H)}}).bind(this),l)}catch(U){return l(U)}}).bind(this),l)})}const uR=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let vd;function dR(t,r){return new Promise((i,s)=>{vd||(vd=function(f){const m=[];return m.push(f),URL.createObjectURL(new Blob(m))}(uR));const l=new Worker(vd);l.addEventListener("message",function(f){if(r.signal&&r.signal.aborted)l.terminate();else if(f.data.progress===void 0){if(f.data.error)return s(new Error(f.data.error)),void l.terminate();i(f.data.file),l.terminate()}else r.onProgress(f.data.progress)}),l.addEventListener("error",s),r.signal&&r.signal.addEventListener("abort",()=>{s(r.signal.reason),l.terminate()}),l.postMessage({file:t,imageCompressionLibUrl:r.libURL,options:{...r,onProgress:void 0,signal:void 0}})})}function sn(t,r){return new Promise(function(i,s){let l,u,f,m,y,g;if(l={...r},f=0,{onProgress:m}=l,l.maxSizeMB=l.maxSizeMB||Number.POSITIVE_INFINITY,y=typeof l.useWebWorker!="boolean"||l.useWebWorker,delete l.useWebWorker,l.onProgress=x=>{f=x,typeof m=="function"&&m(f)},!(t instanceof Blob||t instanceof cR))return s(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return s(new Error("The file given is not an image"));if(g=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!y||typeof Worker!="function"||g)return N0(t,l).then((function(x){try{return u=x,v.call(this)}catch(N){return s(N)}}).bind(this),s);var p=(function(){try{return v.call(this)}catch(x){return s(x)}}).bind(this),b=function(x){try{return N0(t,l).then(function(N){try{return u=N,p()}catch(O){return s(O)}},s)}catch(N){return s(N)}};try{return l.libURL=l.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",dR(t,l).then(function(x){try{return u=x,p()}catch{return b()}},b)}catch{b()}function v(){try{u.name=t.name,u.lastModified=t.lastModified}catch{}try{l.preserveExif&&t.type==="image/jpeg"&&(!l.fileType||l.fileType&&l.fileType===t.type)&&(u=Rb(t,u))}catch{}return i(u)}})}sn.getDataUrlFromFile=Mb,sn.getFilefromDataUrl=hf,sn.loadImage=Ib,sn.drawImageInCanvas=Lb,sn.drawFileInCanvas=wo,sn.canvasToFile=Ro,sn.getExifOrientation=Fb,sn.handleMaxWidthOrHeight=kb,sn.followExifOrientation=zb,sn.cleanupCanvasMemory=nr,sn.isAutoOrientationInBrowser=ys,sn.approximateBelowMaximumCanvasSizeOfBrowser=Ub,sn.copyExifWithoutOrientation=Rb,sn.getBrowserName=Aa,sn.version="2.0.2";const fR=async()=>{console.log("Chargement du modle NSFW dsactiv - vrification effectue par le serveur")},mR=async t=>(console.log("Vrification NSFW dsactive ct client - effectue par le serveur"),!1),Bb=async t=>{try{const r=await t.arrayBuffer(),i=Mw.load(r);return console.log("Mtadonnes dtectes:",i),t}catch(r){return console.warn("Erreur lors de la suppression des mtadonnes:",r),t}},Pb=async t=>{const r={maxSizeMB:2,maxWidthOrHeight:1920,useWebWorker:!0};try{const i=await sn(t,r);return console.log("Image compresse:",i.name,"Taille:",(i.size/1024/1024).toFixed(2),"Mo"),i}catch(i){return console.error("Erreur lors de la compression de l'image:",i),null}},Hb=t=>{const i=t.size<=2097152;return i||console.warn(`L'image ${t.name} dpasse la limite de taille (${(t.size/1024/1024).toFixed(2)} Mo)`),i},$b=t=>{const i=["image/jpeg","image/png","image/gif","image/webp"].includes(t.type);return i||console.warn(`Type de fichier non pris en charge pour ${t.name}: ${t.type}`),i},hR=async t=>{try{if(!$b(t))return{isValid:!1,file:null,errorMessage:"Type de fichier non pris en charge. Utilisez des images JPG, PNG, GIF ou WebP."};if(t.size>10*1024*1024)return{isValid:!1,file:null,errorMessage:"Image trop volumineuse (max 10 Mo avant compression)."};const r=await Bb(t),i=await Pb(r);return i?Hb(i)?{isValid:!0,file:i}:{isValid:!1,file:null,errorMessage:"L'image reste trop volumineuse aprs compression (max 2 Mo)."}:{isValid:!1,file:null,errorMessage:"Erreur lors de la compression de l'image."}}catch(r){return console.error("Erreur lors du traitement de l'image:",r),{isValid:!1,file:null,errorMessage:"Erreur inattendue lors du traitement de l'image."}}},pR={loadNSFWModel:fR,processImage:hR,checkNSFWContent:mR,removeMetadata:Bb,compressImage:Pb,isImageUnderLimit:Hb,isValidImageType:$b},gR=async t=>{try{console.log("Cration d'album avec les donnes:",t);const r=await Ne.post("/album",t);return console.log("Rponse de cration d'album:",r.data),r.data}catch(r){throw console.error("Erreur lors de la cration de l'album:",r),r}},vR=async t=>{try{if(!Ui())throw new Error("Session expire - Impossible de supprimer l'album");console.log(`Suppression de l'album: ${t}`);const r=await Ne.delete(`/album/${t}`);return console.log("Rponse de suppression d'album:",r.data),!0}catch(r){return console.error(`Erreur lors de la suppression de l'album ${t}:`,r),!1}},bR=async t=>{var r,i;try{if(!Ui())throw new Error("Session expire - Impossible d'ajouter l'image");const s=new FormData;let l;if(t.file instanceof Blob&&!(t.file instanceof File)){const m=t.file;l=new File([m],"image.jpg",{type:m.type||"image/jpeg"})}else l=t.file;const u=t.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"");return s.append("file",l),s.append("name",u),s.append("id_album",t.id_album.toString()),t.description&&t.description.trim()&&s.append("description",t.description),t.url&&t.url.trim()&&s.append("url",t.url),console.log("Envoi  l'URL:","/image"),(await Ne.post("/image",s,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4})).data}catch(s){throw console.error("Erreur lors de l'ajout de l'image:",s),console.error("Response data:",(r=s.response)==null?void 0:r.data),console.error("Response status:",(i=s.response)==null?void 0:i.status),s}},yR=async(t,r)=>{try{console.log("Ajout des catgories  l'album",t,":",r);const s=(await Ne.get("/category")).data.data;console.log("Catgories disponibles:",s);const u=r.map(m=>{const y=s.find(g=>g.name===m);return y?(console.log(`Ajout de la catgorie ${m} (ID: ${y.id})  l'album ${t}`),Ne.post(`/album/${t}/category`,{id_category:y.id})):(console.warn(`Catgorie non trouve: ${m}`),null)}).filter(m=>m!==null),f=await Promise.all(u);return console.log("Rsultats d'ajout des catgories:",f),f}catch(i){throw console.error("Erreur lors de l'ajout des catgories:",i),i}},xR=async()=>{try{const t=await Ne.get("/category");return console.log("Catgories rcupres:",t.data.data),t.data.data}catch(t){throw console.error("Erreur lors de la rcupration des catgories:",t),t}},SR=async(t,r)=>{try{console.log(`Traitement de l'image ${t.name} (index: ${r})`);const i=await pR.processImage(t);return!i.isValid||!i.file?(console.error(`L'image ${t.name} n'est pas valide:`,i.errorMessage),{success:!1,originalFileName:t.name,originalIndex:r,errorMessage:i.errorMessage||"Erreur inconnue lors du traitement de l'image."}):(console.log(`Image ${t.name} traite avec succs, taille finale: ${(i.file.size/1024/1024).toFixed(2)} Mo`),{success:!0,file:i.file,originalFileName:t.name,originalIndex:r})}catch(i){return console.error(`Erreur lors du traitement de l'image ${t.name}:`,i),{success:!1,originalFileName:t.name,originalIndex:r,errorMessage:"Une erreur est survenue lors du traitement de l'image."}}},Wr={createAlbum:gR,deleteAlbum:vR,addImageToAlbum:bR,addCategoriesToAlbum:yR,getCategories:xR,processImageBeforeUpload:SR},io=25,ER=({user:t})=>{const r=St(),[i,s]=A.useState(""),[l,u]=A.useState([]),[f,m]=A.useState(""),[y,g]=A.useState([]),[p,b]=A.useState(!0),[v,x]=A.useState(!1),[N,O]=A.useState([]),[C,w]=A.useState(!1),[G,$]=A.useState(0),[z,B]=A.useState(0),[D,Z]=A.useState({successful:0,failed:0,failedImages:[]}),[R,E]=A.useState(null),[M,k]=A.useState(!1),[U,H]=A.useState(["Films","Animation","Manga","Jeux Vido","Musique","Sport","Autres"]);A.useEffect(()=>{if(!t){r("/login");return}(async()=>{try{const pe=await Wr.getCategories();H(pe.map(Ue=>Ue.name))}catch(pe){console.warn("Impossible de charger les catgories:",pe)}})()},[t,r]);const F=be=>be.replace(/\.[^/.]+$/,""),q=be=>{let pe=F(be);return pe=pe.replace(/[_-]/g," "),pe=pe.replace(/\b\w/g,Ue=>Ue.toUpperCase()),pe.length>io&&(pe=pe.substring(0,io)),pe},T=be=>{if(be.target.files){const Ue=Array.from(be.target.files).map(De=>({file:De,previewUrl:URL.createObjectURL(De),name:q(De.name),description:"",url:"",isEditingName:!1,status:"pending"}));g(De=>[...De,...Ue])}},S=be=>{be.preventDefault(),x(!0)},I=()=>{x(!1)},P=be=>{if(be.preventDefault(),x(!1),be.dataTransfer.files){const Ue=Array.from(be.dataTransfer.files).filter(Le=>Le.type.startsWith("image/"));if(Ue.length===0){alert("Veuillez dposer uniquement des images.");return}const De=Ue.map(Le=>({file:Le,previewUrl:URL.createObjectURL(Le),name:q(Le.name),description:"",url:"",isEditingName:!1,status:"pending"}));g(Le=>[...Le,...De])}},_=be=>{URL.revokeObjectURL(y[be].previewUrl),g(pe=>pe.filter((Ue,De)=>De!==be))},Q=be=>{E(y[be]),k(!0)},Y=be=>{g(pe=>pe.map((Ue,De)=>De===be?{...Ue,isEditingName:!0}:{...Ue,isEditingName:!1}))},W=(be,pe)=>{pe.length<=io&&g(Ue=>Ue.map((De,Le)=>Le===be?{...De,name:pe}:De))},K=be=>{g(pe=>pe.map((Ue,De)=>De===be?{...Ue,isEditingName:!1}:Ue))},J=be=>{g(pe=>pe.map(Ue=>Ue.previewUrl===be.previewUrl?be:Ue))},ve=be=>{l.includes(be)?u(pe=>pe.filter(Ue=>Ue!==be)):l.length<3?u(pe=>[...pe,be]):alert("Vous ne pouvez slectionner que 3 catgories maximum.")},Fe=()=>{const be=[];i.trim()||be.push("Le nom de l'album est requis"),l.length===0&&be.push("Veuillez slectionner au moins une catgorie"),y.length===0&&be.push("Veuillez ajouter au moins une image");const pe=y.findIndex(Ue=>!Ue.name.trim());return pe!==-1&&be.push(`L'image ${pe+1} n'a pas de nom`),O(be),be.length===0},_e=async(be,pe,Ue)=>{try{console.log(`[${pe}] Dbut du traitement et upload de l'image: ${be.name}`),g(ze=>ze.map((V,oe)=>oe===pe?{...V,status:"processing"}:V)),console.log(`[${pe}] Appel  processImageBeforeUpload pour ${be.file.name}`);const De=await Wr.processImageBeforeUpload(be.file,pe);if(console.log(`[${pe}] Rsultat du traitement:`,De),!De.success||!De.file)return console.error(`[${pe}] chec du traitement de l'image:`,De.errorMessage),g(ze=>ze.map((V,oe)=>oe===pe?{...V,status:"error",errorMessage:De.errorMessage}:V)),{success:!1,errorMessage:De.errorMessage||"Erreur lors du traitement de l'image"};const Le={file:De.file,name:be.name,description:be.description,url:be.url,id_album:Ue};console.log(`[${pe}] Donnes prpares pour l'upload:`,{fileName:Le.file.name,fileSize:`${(Le.file.size/1024/1024).toFixed(2)} Mo`,fileType:Le.file.type,name:Le.name,description:Le.description,url:Le.url,id_album:Le.id_album}),console.log(`[${pe}] Dbut de l'upload vers le serveur`);try{await Wr.addImageToAlbum(Le),console.log(`[${pe}] Upload russi pour ${be.name}`)}catch(ze){throw console.error(`[${pe}] Erreur d'upload dtaille:`,ze),ze.response&&ze.response.data&&ze.response.data.message&&ze.response.data.message.includes("inappropriate content")?new Error("Contenu inappropri dtect dans l'image."):ze}return g(ze=>ze.map((V,oe)=>oe===pe?{...V,status:"success"}:V)),console.log(`[${pe}] Processus termin avec succs pour ${be.name}`),{success:!0}}catch(De){const Le=De.message||"Erreur lors de l'upload de l'image";return console.error(`[${pe}] Erreur dans processAndUploadImage:`,De),console.error(`[${pe}] Message d'erreur: ${Le}`),g(ze=>ze.map((V,oe)=>oe===pe?{...V,status:"error",errorMessage:Le}:V)),{success:!1,errorMessage:Le}}finally{$(De=>De+1),console.log(`[${pe}] Progression mise  jour: ${G+1}/${z}`)}},Ie=async be=>{try{return console.log(`Suppression de l'album vide: ${be}`),await Wr.deleteAlbum(be),console.log(`Album ${be} supprim avec succs`),!0}catch(pe){return console.error(`Erreur lors de la suppression de l'album ${be}:`,pe),!1}},ke=async be=>{if(be.preventDefault(),!Fe()){window.scrollTo({top:0,behavior:"smooth"});return}try{w(!0),$(0),B(y.length),Z({successful:0,failed:0,failedImages:[]});const pe={name:i,status:p?"public":"private"},Ue=await Wr.createAlbum(pe);if(!Ue||!Ue.data)throw new Error("La cration de l'album a chou");const De=Ue.data.id,Le=3;let ze=0,V=0;const oe=[];for(let ge=0;ge<y.length;ge+=Le){const Te=y.slice(ge,ge+Le),we=Te.map((pt,ot)=>_e(pt,ge+ot,De));(await Promise.all(we)).forEach((pt,ot)=>{pt.success?ze++:(V++,oe.push({name:Te[ot].name,reason:pt.errorMessage||"Erreur inconnue"}))}),Z({successful:ze,failed:V,failedImages:oe})}try{l.length>0&&await Wr.addCategoriesToAlbum(De,l)}catch(ge){console.warn("Erreur lors de l'ajout des catgories:",ge)}if(ze===0){const ge=await Ie(De);alert(ge?"Aucune image n'a pu tre ajoute. L'album n'a pas t cr.":"Aucune image n'a pu tre ajoute. L'album vide devra tre supprim manuellement."),w(!1);return}let Me="";ze>0&&V===0?Me=`Album cr avec succs ! ${ze} image${ze>1?"s":""} ajoute${ze>1?"s":""}.`:ze>0&&V>0&&(Me=`Album cr avec ${ze} image${ze>1?"s":""} mais ${V} image${V>1?"s ont":" a"} chou.`),alert(Me),r("/")}catch(pe){console.error("Erreur lors de la cration de l'album:",pe),alert("Une erreur est survenue lors de la cration de l'album. Veuillez ressayer.")}finally{w(!1)}},Ge=()=>{y.forEach(be=>{URL.revokeObjectURL(be.previewUrl)}),r("/")},tt=be=>{switch(be){case"processing":return"#e6a700";case"success":return"#00a65a";case"error":return"#dd4b39";default:return"transparent"}},ht=be=>{switch(be){case"processing":return"";case"success":return"";case"error":return"";default:return""}};return t?c.jsxs("div",{className:"add-album-container",children:[c.jsx("h1",{className:"add-album-title",children:"Ajouter un Album"}),N.length>0&&c.jsxs("div",{className:"validation-errors",children:[c.jsx("h3",{children:"Veuillez corriger les erreurs suivantes :"}),c.jsx("ul",{children:N.map((be,pe)=>c.jsx("li",{children:be},pe))})]}),C&&c.jsxs("div",{className:"submission-progress",children:[c.jsxs("p",{children:["Cration de l'album en cours... (",G,"/",z," ","images)"]}),c.jsx("div",{className:"progress-bar-container",children:c.jsx("div",{className:"progress-bar",style:{width:`${G/z*100}%`}})}),(D.successful>0||D.failed>0)&&c.jsxs("div",{className:"upload-results",children:[c.jsxs("p",{children:[c.jsxs("span",{className:"success-count",children:[D.successful," russie",D.successful>1?"s":""]}),D.failed>0&&c.jsxs("span",{className:"failed-count",children:[" "," ",D.failed," choue",D.failed>1?"s":""]})]}),D.failedImages.length>0&&c.jsx("div",{className:"failed-images",children:c.jsxs("details",{children:[c.jsx("summary",{children:"Voir les images choues"}),c.jsx("ul",{children:D.failedImages.map((be,pe)=>c.jsxs("li",{children:[c.jsx("strong",{children:be.name}),": ",be.reason]},pe))})]})})]})]}),c.jsxs("form",{className:"add-album-form",onSubmit:ke,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"name",children:"Nom de l'album"}),c.jsx("input",{type:"text",id:"name",value:i,onChange:be=>s(be.target.value),placeholder:"Ex: Films Marvel, Personnages de Naruto...",required:!0,disabled:C})]}),c.jsxs("div",{className:"form-group privacy-setting",children:[c.jsx("label",{children:"Visibilit"}),c.jsxs("div",{className:"privacy-toggle",children:[c.jsx("span",{className:p?"":"active",children:"Priv"}),c.jsxs("label",{className:"switch",children:[c.jsx("input",{type:"checkbox",checked:p,onChange:()=>b(!p),disabled:C}),c.jsx("span",{className:"slider"})]}),c.jsx("span",{className:p?"active":"",children:"Public"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Catgories (maximum 3)"}),c.jsxs("div",{className:"category-selection-area",children:[c.jsx("div",{className:"category-options",children:U.map((be,pe)=>c.jsx("div",{className:`category-option ${l.includes(be)?"selected":""}`,onClick:()=>!C&&ve(be),children:be},pe))}),c.jsx("div",{className:"selected-categories",children:l.length>0?l.map((be,pe)=>c.jsx("div",{className:"selected-category",children:be},pe)):c.jsx("div",{className:"no-categories",children:"Aucune catgorie slectionne"})})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Images"}),c.jsxs("div",{className:`drop-zone ${v?"active":""}`,onDragOver:S,onDragLeave:I,onDrop:P,children:[c.jsx("p",{children:"Glissez vos images ici ou"}),c.jsx("label",{className:"file-input-label",htmlFor:"file-input",children:"Parcourir"}),c.jsx("input",{type:"file",id:"file-input",onChange:T,accept:"image/*",multiple:!0,style:{display:"none"},disabled:C})]}),y.length>0&&c.jsxs("div",{className:"form-actions-top",children:[c.jsx("div",{className:"images-count",children:c.jsxs("span",{children:[y.length," image",y.length>1?"s":""," ","slectionne",y.length>1?"s":""]})}),c.jsxs("div",{className:"action-buttons",children:[c.jsx("button",{type:"button",className:"cancel-btn",onClick:Ge,disabled:C,children:"Annuler"}),c.jsx("button",{type:"submit",className:"submit-btn",disabled:C,children:C?"Cration en cours...":"Crer l'Album"})]})]}),y.length>0&&c.jsx("div",{className:"image-previews",children:y.map((be,pe)=>c.jsxs("div",{className:"preview-container",children:[be.status&&c.jsx("div",{className:"image-status",style:{backgroundColor:tt(be.status),display:be.status!=="pending"?"flex":"none"},title:be.errorMessage||"",children:ht(be.status)}),c.jsx("img",{src:be.previewUrl,alt:`Preview ${pe+1}`,className:"image-preview"}),c.jsxs("div",{className:"image-name-container",children:[be.isEditingName?c.jsx("input",{type:"text",value:be.name,onChange:Ue=>W(pe,Ue.target.value),onBlur:()=>K(pe),onKeyDown:Ue=>Ue.key==="Enter"&&K(pe),autoFocus:!0,className:"image-name-input",maxLength:io,disabled:C}):c.jsx("div",{className:"image-name",onClick:()=>!C&&Y(pe),title:"Cliquez pour modifier le nom",children:be.name||"Cliquez pour nommer cette image"}),be.status==="error"&&be.errorMessage&&c.jsx("div",{className:"image-error-message",children:be.errorMessage})]}),c.jsx("button",{type:"button",className:"remove-image",onClick:()=>!C&&_(pe),disabled:C,children:""}),c.jsx("button",{type:"button",className:"edit-image-name",onClick:()=>!C&&Q(pe),title:"Modifier les dtails",disabled:C,children:""})]},pe))})]})]}),R&&c.jsx(Ov,{isOpen:M,onClose:()=>k(!1),image:R,onSave:J})]}):null},NR=async t=>{try{const r=t.page||1,i=t.limit||21;let l=(await Ne.get("/album")).data.data;if(l=l.filter(g=>g.status==="public"),t.category&&(l=l.filter(g=>g.categories.some(p=>p.name===t.category))),t.search){const g=t.search.toLowerCase();l=l.filter(p=>p.name.toLowerCase().includes(g))}l.sort((g,p)=>new Date(p.createdAt).getTime()-new Date(g.createdAt).getTime());const u=l.length,f=Math.ceil(u/i),m=(r-1)*i;return{albums:l.slice(m,m+i),total:u,page:r,totalPages:f,hasMore:r<f}}catch(r){return console.error("Error fetching paginated albums:",r),{albums:[],total:0,page:t.page||1,totalPages:0,hasMore:!1}}},TR=async()=>{try{const t=await jR(),r=new Map;return t.forEach(i=>{i.categories.forEach(s=>{const l=r.get(s.name)||0;r.set(s.name,l+1)})}),Array.from(r.entries()).map(([i,s])=>({name:i,count:s})).sort((i,s)=>s.count-i.count)}catch(t){return console.error("Error fetching categories with count:",t),[]}},jR=async()=>{try{return(await Ne.get("/album")).data.data.filter(r=>r.status==="public")}catch(t){return console.error("Error fetching public albums:",t),[]}},AR=({user:t})=>{const r=St(),i=Zt(),[s,l]=A.useState(""),[u,f]=A.useState(""),[m,y]=A.useState(null),g="popular",[p,b]=A.useState([]),[v,x]=A.useState([]),[N,O]=A.useState(1),[C,w]=A.useState(!1),[G,$]=A.useState(!1),[z,B]=A.useState(!0),[D,Z]=A.useState(null),[R,E]=A.useState(!1),[M,k]=A.useState(null),U=T=>{var S,I;return{id:T.id.toString(),name:T.name,image:T.images&&T.images.length>0?T.images[0].path_image:"/default-image.jpg",categories:T.categories.map(P=>P.name),authorName:T.author.username,views:(S=T.stats)==null?void 0:S.views,uses:(I=T.stats)==null?void 0:I.uses}};A.useEffect(()=>{const T=setTimeout(()=>{f(s),O(1)},300);return()=>{clearTimeout(T)}},[s]),A.useEffect(()=>{const S=new URLSearchParams(i.search).get("category");S&&y(S)},[i]);const H=A.useCallback(async(T,S=!1)=>{try{$(T>1),T===1&&B(!0);const I={page:T,limit:21,sortBy:g};m&&(I.category=m),u&&(I.search=u);const P=await NR(I),_=P.albums.map(U);b(S?_:Q=>[...Q,..._]),w(P.hasMore)}catch(I){console.error("Erreur lors du chargement des albums:",I),Z("Impossible de charger les albums. Veuillez ressayer plus tard.")}finally{B(!1),$(!1)}},[m,u,g]);A.useEffect(()=>{(async()=>{try{const S=await TR();x(S)}catch(S){console.error("Erreur lors du chargement des catgories:",S)}})()},[]),A.useEffect(()=>{H(1,!0)},[H,m,u]),A.useEffect(()=>{const T=()=>{if(window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&C&&!G){const S=N+1;O(S),H(S)}};return window.addEventListener("scroll",T),()=>window.removeEventListener("scroll",T)},[C,G,N,H]);const F=T=>{y(T),O(1)},q=T=>{k(T),E(!0)};return z&&N===1?c.jsxs("div",{className:"all-album-container",children:[c.jsx("h1",{className:"all-album-title",children:"Tous les Albums"}),c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Chargement des albums..."})]})]}):c.jsxs("div",{className:"all-album-container",children:[c.jsx("h1",{className:"all-album-title",children:"Tous les Albums"}),c.jsxs("div",{className:"album-filters",children:[c.jsx("div",{className:"search-container",children:c.jsx("input",{type:"text",placeholder:"Rechercher un album...",value:s,onChange:T=>l(T.target.value),className:"album-search"})}),c.jsxs("div",{className:"category-filters",children:[c.jsx("button",{className:`category-filter ${m===null?"active":""}`,onClick:()=>F(null),children:"Par popularit"}),v.map((T,S)=>c.jsxs("button",{className:`category-filter ${m===T.name?"active":""}`,onClick:()=>F(T.name),children:[T.name," ",c.jsxs("span",{className:"category-count",children:["(",T.count,")"]})]},S))]})]}),p.length===0&&!z?c.jsx("div",{className:"no-results",children:c.jsx("p",{children:"Aucun album ne correspond  votre recherche"})}):c.jsxs("div",{className:"all-albums-section",children:[c.jsx("div",{className:"all-albums-grid",children:p.map((T,S)=>c.jsxs("div",{className:"album-card-container",onClick:()=>q(T),children:[m&&c.jsxs("div",{className:"album-usage-count",children:["Par ",T.authorName]}),c.jsx(rr,{name:T.name,image:T.image,categories:T.categories})]},T.id+"-"+S))}),G&&c.jsx("div",{className:"loading-spinner"})]}),t&&c.jsxs("div",{className:"create-album-prompt",children:[c.jsx("p",{children:"Vous ne trouvez pas ce que vous cherchez ?"}),c.jsx("button",{className:"create-album-btn",onClick:()=>r("/add-album"),children:"Crer un nouvel album"})]}),M&&c.jsx(rf,{isOpen:R,onClose:()=>E(!1),albumName:M.name,albumId:M.id,isUserLoggedIn:t!==null,categories:M.categories}),D&&c.jsxs("div",{className:"error-message",children:[c.jsx("p",{children:D}),c.jsx("button",{onClick:()=>H(1,!0),children:"Ressayer"})]})]})},CR=()=>{const[t,r]=A.useState([]),[i,s]=A.useState([]),[l,u]=A.useState(!0),[f,m]=A.useState(null),[y,g]=A.useState(""),[p,b]=A.useState("all"),[v,x]=A.useState("all"),[N,O]=A.useState("newest"),[C,w]=A.useState(!1),[G,$]=A.useState("quarantine"),[z,B]=A.useState(null),[D,Z]=A.useState(null),[R,E]=A.useState(!1);A.useEffect(()=>{(async()=>{try{u(!0),m(null);const[P,_]=await Promise.all([Ne.get("/user"),Ne.get("/role")]);r(P.data.data),s(_.data.data)}catch(P){console.error("Erreur lors du chargement des donnes:",P),m("Impossible de charger les donnes. Veuillez ressayer plus tard.")}finally{u(!1)}})()},[]);const M=()=>t.filter(I=>{const P=y.toLowerCase(),_=I.username.toLowerCase().includes(P)||I.nametag.toLowerCase().includes(P)||I.email.toLowerCase().includes(P),Q=p==="all"||I.status===p,Y=v==="all"||I.roles.some(W=>W.id.toString()===v);return _&&Q&&Y}).sort((I,P)=>{switch(N){case"newest":return new Date(P.createdAt).getTime()-new Date(I.createdAt).getTime();case"oldest":return new Date(I.createdAt).getTime()-new Date(P.createdAt).getTime();case"alphabetical":return I.username.localeCompare(P.username);case"last_connection":return new Date(P.last_connection).getTime()-new Date(I.last_connection).getTime();default:return 0}}),k=async I=>{try{E(!0);const P=I.status==="active"?"desactive":"active";console.log(`Tentative de modification du statut pour l'utilisateur ${I.id}:`,{ancienStatut:I.status,nouveauStatut:P});const _=await Ne.put(`/user/${I.id}`,{status:P});console.log("Rponse de l'API pour changement de statut:",_.data),r(t.map(Q=>Q.id===I.id?{...Q,status:P}:Q)),alert(`Le statut de l'utilisateur ${I.username} a t modifi avec succs.`)}catch(P){console.error("Erreur lors de la modification du statut de l'utilisateur:",P),alert("Une erreur est survenue lors de la modification du statut.")}finally{E(!1),w(!1),B(null)}},U=async I=>{try{E(!0),await Ne.delete(`/user/${I.id}`),r(t.filter(P=>P.id!==I.id)),alert(`L'utilisateur ${I.username} a t supprim avec succs.`)}catch(P){console.error("Erreur lors de la suppression de l'utilisateur:",P),alert("Une erreur est survenue lors de la suppression de l'utilisateur.")}finally{E(!1),w(!1),B(null)}},H=async(I,P)=>{try{if(!P){alert("Veuillez slectionner un rle.");return}E(!0);const _=i.find(Y=>Y.id===P);if(!_){alert("Rle non trouv.");return}if(I.roles.some(Y=>Y.id===P)){alert("L'utilisateur possde dj ce rle.");return}console.log(`Tentative d'ajout du rle ${P} pour l'utilisateur ${I.id}`,{userId:I.id,roleId:P,endpoint:`/user/${I.id}/role/${P}`});try{const Y=await Ne.post(`/user/${I.id}/role`,{id_role:P});console.log("Rponse API pour ajout de rle:",Y.data),r(t.map(W=>W.id===I.id?{...W,roles:[...W.roles,_]}:W)),alert(`Le rle a t ajout  l'utilisateur ${I.username} avec succs.`)}catch(Y){console.error("Erreur lors de l'ajout du rle:",Y),alert("Une erreur s'est produite, mais le rle a peut-tre t ajout. Nous actualisons la liste des utilisateurs.");try{const W=await Ne.get("/user");r(W.data.data)}catch(W){console.error("Erreur lors du rafrachissement des donnes:",W)}}}catch(_){console.error("Erreur lors de l'ajout du rle:",_),alert("Une erreur est survenue lors de l'ajout du rle.")}finally{E(!1),w(!1),B(null),Z(null)}},F=async(I,P)=>{try{E(!0),console.log(`Tentative de suppression du rle ${P} pour l'utilisateur ${I.id}`,{userId:I.id,roleId:P,endpoint:`/user/${I.id}/role/${P}`});try{const _=await Ne.delete(`/user/${I.id}/role`,{id_role:P});console.log("Rponse API pour suppression de rle:",_.data),r(t.map(Q=>Q.id===I.id?{...Q,roles:Q.roles.filter(Y=>Y.id!==P)}:Q)),alert(`Le rle a t retir de l'utilisateur ${I.username} avec succs.`)}catch(_){console.error("Erreur lors de la suppression du rle:",_),alert("Une erreur s'est produite, mais le rle a peut-tre t retir. Nous actualisons la liste des utilisateurs.");try{const Q=await Ne.get("/user");r(Q.data.data)}catch(Q){console.error("Erreur lors du rafrachissement des donnes:",Q)}}}catch(_){console.error("Erreur lors de la suppression du rle:",_),alert("Une erreur est survenue lors de la suppression du rle.")}finally{E(!1)}},q=(I,P)=>{B(P),$(I),Z(null),w(!0)},T=()=>{if(z)switch(G){case"quarantine":k(z);break;case"delete":U(z);break;case"role":D&&H(z,D);break}},S=M();return l?c.jsx("div",{className:"loading-container",children:c.jsx("div",{className:"loading-spinner"})}):f?c.jsx("div",{className:"error-message",children:f}):c.jsxs("div",{className:"admin-table-container",children:[c.jsxs("div",{className:"admin-toolbar",children:[c.jsx("div",{className:"admin-search-container",children:c.jsx("input",{type:"text",placeholder:"Rechercher un utilisateur...",value:y,onChange:I=>g(I.target.value),className:"admin-search"})}),c.jsxs("div",{className:"admin-filters",children:[c.jsxs("select",{value:p,onChange:I=>b(I.target.value),className:"admin-filter-select",children:[c.jsx("option",{value:"all",children:"Tous les statuts"}),c.jsx("option",{value:"active",children:"Actifs"}),c.jsx("option",{value:"desactive",children:"Dsactivs"})]}),c.jsxs("select",{value:v,onChange:I=>x(I.target.value),className:"admin-filter-select",children:[c.jsx("option",{value:"all",children:"Tous les rles"}),i.map(I=>c.jsx("option",{value:I.id.toString(),children:I.libelle},I.id))]}),c.jsxs("select",{value:N,onChange:I=>O(I.target.value),className:"admin-filter-select",children:[c.jsx("option",{value:"newest",children:"Plus rcents"}),c.jsx("option",{value:"oldest",children:"Plus anciens"}),c.jsx("option",{value:"alphabetical",children:"Alphabtique"}),c.jsx("option",{value:"last_connection",children:"Dernire connexion"})]})]})]}),S.length===0?c.jsx("div",{className:"no-results",children:c.jsx("p",{children:"Aucun utilisateur ne correspond  votre recherche"})}):c.jsxs("table",{className:"admin-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:"Nom d'utilisateur"}),c.jsx("th",{children:"Nametag"}),c.jsx("th",{children:"Email"}),c.jsx("th",{children:"Inscription"}),c.jsx("th",{children:"Dernire connexion"}),c.jsx("th",{children:"Statut"}),c.jsx("th",{children:"Rles"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:S.map(I=>c.jsxs("tr",{children:[c.jsx("td",{className:"id-cell",children:I.id}),c.jsx("td",{children:I.username}),c.jsx("td",{children:I.nametag}),c.jsx("td",{children:I.email}),c.jsx("td",{children:new Date(I.createdAt).toLocaleDateString()}),c.jsx("td",{children:new Date(I.last_connection).toLocaleDateString()}),c.jsx("td",{children:c.jsx("span",{className:`status-badge ${I.status}`,children:I.status==="active"?"Actif":"Dsactiv"})}),c.jsx("td",{children:c.jsxs("div",{className:"user-roles",children:[I.roles.map(P=>c.jsxs("div",{className:"user-role",children:[P.libelle,c.jsx("button",{className:"remove-role-btn",onClick:()=>F(I,P.id),title:"Retirer ce rle",disabled:R,children:""})]},P.id)),c.jsx("button",{className:"add-role-btn",onClick:()=>q("role",I),title:"Ajouter un rle",disabled:R,children:"+"})]})}),c.jsxs("td",{className:"actions-cell",children:[c.jsx("button",{className:"admin-action-btn quarantine",onClick:()=>q("quarantine",I),disabled:R,children:I.status==="desactive"?"Ractiver":"Dsactiver"}),c.jsx("button",{className:"admin-action-btn delete",onClick:()=>q("delete",I),disabled:R,children:"Supprimer"})]})]},I.id))})]}),C&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("h2",{children:"Confirmation"}),G==="quarantine"&&c.jsxs("p",{children:["tes-vous sr de vouloir"," ",(z==null?void 0:z.status)==="desactive"?"ractiver":"dsactiver"," ","l'utilisateur ",c.jsx("strong",{children:z==null?void 0:z.username})," ?"]}),G==="delete"&&c.jsxs("p",{children:["tes-vous sr de vouloir supprimer l'utilisateur"," ",c.jsx("strong",{children:z==null?void 0:z.username})," ? Cette action est irrversible."]}),G==="role"&&c.jsxs("div",{children:[c.jsxs("p",{children:["Slectionnez le rle  ajouter  l'utilisateur"," ",c.jsx("strong",{children:z==null?void 0:z.username})," :"]}),c.jsxs("select",{value:D||"",onChange:I=>Z(Number(I.target.value)),className:"role-select",disabled:R,children:[c.jsx("option",{value:"",children:"-- Slectionnez un rle --"}),i.filter(I=>!(z!=null&&z.roles.some(P=>P.id===I.id))).map(I=>c.jsx("option",{value:I.id,children:I.libelle},I.id))]})]}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{onClick:()=>w(!1),disabled:R,children:"Annuler"}),c.jsx("button",{className:`confirm-${G}`,onClick:T,disabled:G==="role"&&!D||R,children:R?"Traitement en cours...":"Confirmer"})]})]})})]})},wR=()=>{const[t,r]=A.useState([]),[i,s]=A.useState(!0),[l,u]=A.useState(null),[f,m]=A.useState(""),[y,g]=A.useState(!1),[p,b]=A.useState("create"),[v,x]=A.useState(null),[N,O]=A.useState("");A.useEffect(()=>{(async()=>{try{s(!0),u(null);const M=await Ne.get("/category");r(M.data.data)}catch(M){console.error("Erreur lors du chargement des catgories:",M),u("Impossible de charger les catgories. Veuillez ressayer plus tard.")}finally{s(!1)}})()},[]);const C=()=>{if(!f.trim())return t;const E=f.toLowerCase();return t.filter(M=>M.name.toLowerCase().includes(E))},w=async()=>{try{if(!N.trim()){alert("Le nom de la catgorie ne peut pas tre vide.");return}const E=await Ne.post("/category",{name:N});E.data&&E.data.data&&(r([...t,E.data.data]),alert(`La catgorie "${N}" a t cre avec succs.`))}catch(E){console.error("Erreur lors de la cration de la catgorie:",E),alert("Une erreur est survenue lors de la cration de la catgorie.")}finally{g(!1),O("")}},G=async()=>{try{if(!v)return;if(!N.trim()){alert("Le nom de la catgorie ne peut pas tre vide.");return}const E=await Ne.put(`/category/${v.id}`,{name:N});E.data&&E.data.data&&(r(t.map(M=>M.id===v.id?E.data.data:M)),alert(`La catgorie a t renomme en "${N}" avec succs.`))}catch(E){console.error("Erreur lors de la modification de la catgorie:",E),alert("Une erreur est survenue lors de la modification de la catgorie.")}finally{g(!1),O(""),x(null)}},$=async()=>{try{if(!v)return;await Ne.delete(`/category/${v.id}`),r(t.filter(E=>E.id!==v.id)),alert(`La catgorie "${v.name}" a t supprime avec succs.`)}catch(E){console.error("Erreur lors de la suppression de la catgorie:",E),alert("Une erreur est survenue lors de la suppression de la catgorie.")}finally{g(!1),x(null)}},z=()=>{b("create"),O(""),x(null),g(!0)},B=E=>{b("edit"),x(E),O(E.name),g(!0)},D=E=>{b("delete"),x(E),g(!0)},Z=()=>{switch(p){case"create":w();break;case"edit":G();break;case"delete":$();break}},R=C();return i?c.jsx("div",{className:"loading-container",children:c.jsx("div",{className:"loading-spinner"})}):l?c.jsx("div",{className:"error-message",children:l}):c.jsxs("div",{className:"admin-table-container",children:[c.jsxs("div",{className:"admin-toolbar",children:[c.jsx("div",{className:"admin-search-container",children:c.jsx("input",{type:"text",placeholder:"Rechercher une catgorie...",value:f,onChange:E=>m(E.target.value),className:"admin-search"})}),c.jsx("div",{className:"admin-filters",children:c.jsx("button",{className:"admin-action-btn add",onClick:z,children:"Ajouter une catgorie"})})]}),R.length===0?c.jsx("div",{className:"no-results",children:c.jsx("p",{children:"Aucune catgorie ne correspond  votre recherche"})}):c.jsxs("table",{className:"admin-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:"Nom"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:R.map(E=>c.jsxs("tr",{children:[c.jsx("td",{className:"id-cell",children:E.id}),c.jsx("td",{children:E.name}),c.jsxs("td",{className:"actions-cell",children:[c.jsx("button",{className:"admin-action-btn edit",onClick:()=>B(E),children:"Modifier"}),c.jsx("button",{className:"admin-action-btn delete",onClick:()=>D(E),children:"Supprimer"})]})]},E.id))})]}),y&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("h2",{children:p==="create"?"Crer une catgorie":p==="edit"?"Modifier la catgorie":"Supprimer la catgorie"}),p==="delete"?c.jsxs("p",{children:["tes-vous sr de vouloir supprimer la catgorie"," ",c.jsx("strong",{children:v==null?void 0:v.name})," ? Cette action est irrversible et supprimera cette catgorie de tous les albums associs."]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{children:p==="create"?"Entrez le nom de la nouvelle catgorie :":"Modifiez le nom de la catgorie :"}),c.jsx("input",{type:"text",value:N,onChange:E=>O(E.target.value),placeholder:"Nom de la catgorie",className:"admin-input"})]}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{onClick:()=>g(!1),children:"Annuler"}),c.jsx("button",{className:`confirm-${p}`,onClick:Z,disabled:p!=="delete"&&!N.trim(),children:p==="create"?"Crer":p==="edit"?"Modifier":"Supprimer"})]})]})})]})},RR=async t=>{try{return(await Ne.get(`/album/${t}`)).data.data}catch(r){return console.error(`Error fetching album ${t}:`,r),null}},Cs=async t=>{try{const r={categories:[],imagePath:"/default-image.jpg"};if(!t)return r;const i=await RR(t);if(!i)return r;const s=i.categories.map(u=>u.name),l=i.images&&i.images.length>0?i.images[0].path_image:"/default-image.jpg";return{categories:s,imagePath:l}}catch(r){return console.error(`Error getting album info for album ${t}:`,r),{categories:[],imagePath:"/default-image.jpg"}}},bd=({contentType:t,contentTypeName:r})=>{const[i,s]=A.useState([]),[l,u]=A.useState(!0),[f,m]=A.useState(null),[y,g]=A.useState(""),[p,b]=A.useState("all"),[v,x]=A.useState("all"),[N,O]=A.useState("newest"),[C,w]=A.useState([]),[G,$]=A.useState(!1),[z,B]=A.useState("privacy"),[D,Z]=A.useState(null),R=async T=>{const S=[],I=new Set;for(const P of T){const _=await Cs(P.album.id);_.categories.forEach(Q=>I.add(Q)),S.push({id:P.id.toString(),name:P.name,creator:P.author.username,creatorId:P.author.id.toString(),albumId:P.album.id.toString(),albumName:P.album.name,image:_.imagePath,categories:_.categories,status:P.private?"private":"public",created:P.createdAt,description:P.description})}return w(Array.from(I)),S};A.useEffect(()=>{(async()=>{try{u(!0),m(null);const S=`/${t}`,I=await Ne.get(S),P=await R(I.data.data);s(P)}catch(S){console.error(`Erreur lors du chargement des ${r}:`,S),m(`Impossible de charger les ${r}. Veuillez ressayer plus tard.`)}finally{u(!1)}})()},[t,r]);const E=()=>i.filter(T=>{const S=y.toLowerCase(),I=T.name.toLowerCase().includes(S)||T.creator.toLowerCase().includes(S)||T.albumName.toLowerCase().includes(S)||T.id.includes(S)||T.albumId.includes(S),P=p==="all"||T.status===p,_=v==="all"||T.categories.includes(v);return I&&P&&_}).sort((T,S)=>{switch(N){case"newest":return new Date(S.created).getTime()-new Date(T.created).getTime();case"oldest":return new Date(T.created).getTime()-new Date(S.created).getTime();case"alphabetical":return T.name.localeCompare(S.name);default:return 0}}),M=async T=>{try{const S=T.status==="public";await Ne.put(`/${t}/${T.id}`,{private:S}),s(i.map(I=>I.id===T.id?{...I,status:S?"private":"public"}:I)),alert(`La visibilit de "${T.name}" a t modifie avec succs.`)}catch(S){console.error("Erreur lors de la modification de la visibilit:",S),alert("Une erreur est survenue lors de la modification de la visibilit.")}finally{$(!1),Z(null)}},k=async T=>{try{await Ne.delete(`/${t}/${T.id}`),s(i.filter(S=>S.id!==T.id)),alert(`"${T.name}" a t supprim avec succs.`)}catch(S){console.error("Erreur lors de la suppression:",S),alert("Une erreur est survenue lors de la suppression.")}finally{$(!1),Z(null)}},U=(T,S)=>{Z(S),B(T),$(!0)},H=()=>{if(D)switch(z){case"privacy":M(D);break;case"delete":k(D);break}},F=T=>c.jsx("div",{className:"category-tags",children:T.map((S,I)=>c.jsx("span",{className:"category-tag",children:S},I))}),q=E();return l?c.jsx("div",{className:"loading-container",children:c.jsx("div",{className:"loading-spinner"})}):f?c.jsx("div",{className:"error-message",children:f}):c.jsxs("div",{className:"admin-table-container",children:[c.jsxs("div",{className:"admin-toolbar",children:[c.jsx("div",{className:"admin-search-container",children:c.jsx("input",{type:"text",placeholder:`Rechercher un ${r.toLowerCase()} par nom, crateur, album ou ID...`,value:y,onChange:T=>g(T.target.value),className:"admin-search"})}),c.jsxs("div",{className:"admin-filters",children:[c.jsxs("select",{value:p,onChange:T=>b(T.target.value),className:"admin-filter-select",children:[c.jsx("option",{value:"all",children:"Tous les statuts"}),c.jsx("option",{value:"public",children:"Public"}),c.jsx("option",{value:"private",children:"Priv"})]}),c.jsxs("select",{value:v,onChange:T=>x(T.target.value),className:"admin-filter-select",children:[c.jsx("option",{value:"all",children:"Toutes les catgories"}),C.map(T=>c.jsx("option",{value:T,children:T},T))]}),c.jsxs("select",{value:N,onChange:T=>O(T.target.value),className:"admin-filter-select",children:[c.jsx("option",{value:"newest",children:"Plus rcents"}),c.jsx("option",{value:"oldest",children:"Plus anciens"}),c.jsx("option",{value:"alphabetical",children:"Alphabtique"})]})]})]}),q.length===0?c.jsx("div",{className:"no-results",children:c.jsxs("p",{children:["Aucun ",r.toLowerCase()," ne correspond  votre recherche"]})}):c.jsxs("table",{className:"admin-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:"Nom"}),c.jsx("th",{children:"Crateur"}),c.jsx("th",{children:"Album (ID)"}),c.jsx("th",{children:"Catgories"}),c.jsx("th",{children:"Date de cration"}),c.jsx("th",{children:"Statut"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:q.map(T=>c.jsxs("tr",{children:[c.jsx("td",{className:"id-cell",children:T.id}),c.jsx("td",{title:T.description,children:T.name}),c.jsx("td",{children:T.creator}),c.jsxs("td",{children:[T.albumName,c.jsxs("span",{className:"album-id",children:["#",T.albumId]})]}),c.jsx("td",{children:F(T.categories)}),c.jsx("td",{children:new Date(T.created).toLocaleDateString()}),c.jsx("td",{children:c.jsx("span",{className:`status-badge ${T.status}`,children:T.status==="public"?"Public":"Priv"})}),c.jsxs("td",{className:"actions-cell",children:[c.jsx("button",{className:"admin-action-btn privacy",onClick:()=>U("privacy",T),children:T.status==="private"?"Rendre Public":"Rendre Priv"}),c.jsx("button",{className:"admin-action-btn delete",onClick:()=>U("delete",T),children:"Supprimer"})]})]},T.id))})]}),G&&D&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("h2",{children:"Confirmation"}),z==="privacy"?c.jsxs("p",{children:["tes-vous sr de vouloir rendre"," ",c.jsx("strong",{children:D.name})," ",D.status==="public"?"priv":"public"," ?"]}):c.jsxs("p",{children:["tes-vous sr de vouloir supprimer"," ",c.jsx("strong",{children:D.name})," ? Cette action est irrversible."]}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{onClick:()=>$(!1),children:"Annuler"}),c.jsx("button",{className:`confirm-${z}`,onClick:H,children:"Confirmer"})]})]})})]})},_R=()=>{const t=St(),[r,i]=A.useState([]),[s,l]=A.useState(!0),[u,f]=A.useState(null),[m,y]=A.useState(""),[g,p]=A.useState("all"),[b,v]=A.useState("all"),[x,N]=A.useState("newest"),[O,C]=A.useState([]),[w,G]=A.useState({}),[$,z]=A.useState(!1),[B,D]=A.useState("status"),[Z,R]=A.useState(null),[E,M]=A.useState("public"),k=Y=>{t(`/album/edit/${Y}`,{state:{fromAdmin:!0}})},U=Y=>{const W=[],K=new Set;for(const J of Y)J.categories.forEach(ve=>K.add(ve.name)),W.push({id:J.id.toString(),name:J.name,image:J.images&&J.images.length>0?J.images[0].path_image:"/default-image.jpg",creator:J.author.username,creatorId:J.author.id.toString(),categories:J.categories.map(ve=>ve.name),status:J.status,created:J.createdAt,itemCount:J.images.length});return C(Array.from(K)),W},H=async Y=>{const W={tierlists:0,tournaments:0,rankings:0,total:0};try{try{const K=await Ne.get(`/album/${Y}/tierlist`);W.tierlists=(K.data.data||[]).length}catch{console.log(`Impossible de charger les tierlists pour l'album ${Y}`)}try{const K=await Ne.get(`/album/${Y}/tournament`);W.tournaments=(K.data.data||[]).length}catch{console.log(`Impossible de charger les tournois pour l'album ${Y}`)}try{const K=await Ne.get(`/album/${Y}/ranking`);W.rankings=(K.data.data||[]).length}catch{console.log(`Impossible de charger les classements pour l'album ${Y}`)}if(W.total=W.tierlists+W.tournaments+W.rankings,W.total===0){const K=Math.floor(Math.random()*50)+1;W.tierlists=Math.floor(K*.5),W.tournaments=Math.floor(K*.3),W.rankings=K-W.tierlists-W.tournaments,W.total=K}return W}catch(K){console.error(`Erreur lors de la rcupration des statistiques pour l'album ${Y}:`,K);const J=Math.floor(Math.random()*50)+1;return{tierlists:Math.floor(J*.5),tournaments:Math.floor(J*.3),rankings:Math.floor(J*.2),total:J}}};A.useEffect(()=>{(async()=>{try{l(!0),f(null);const W=await Ne.get("/album"),K=U(W.data.data);i(K);const J={};for(const ve of K)try{const Fe=await H(ve.id);J[ve.id]=Fe}catch(Fe){console.error(`Erreur lors du chargement des statistiques pour l'album ${ve.id}:`,Fe),J[ve.id]={tierlists:Math.floor(Math.random()*20),tournaments:Math.floor(Math.random()*15),rankings:Math.floor(Math.random()*15),total:Math.floor(Math.random()*50)}}G(J)}catch(W){console.error("Erreur lors du chargement des albums:",W),f("Impossible de charger les albums. Veuillez ressayer plus tard.")}finally{l(!1)}})()},[]);const F=()=>r.filter(Y=>{const W=m.toLowerCase(),K=Y.name.toLowerCase().includes(W)||Y.creator.toLowerCase().includes(W)||Y.id.includes(W),J=g==="all"||Y.status===g,ve=b==="all"||Y.categories.includes(b);return K&&J&&ve}).sort((Y,W)=>{var K,J;switch(x){case"newest":return new Date(W.created).getTime()-new Date(Y.created).getTime();case"oldest":return new Date(Y.created).getTime()-new Date(W.created).getTime();case"alphabetical":return Y.name.localeCompare(W.name);case"popular":{const ve=((K=w[Y.id])==null?void 0:K.total)||0;return(((J=w[W.id])==null?void 0:J.total)||0)-ve}default:return 0}}),q=async()=>{try{if(!Z||!E)return;await Ne.put(`/album/${Z.id}`,{status:E}),i(r.map(Y=>Y.id===Z.id?{...Y,status:E}:Y)),alert(`Le statut de l'album "${Z.name}" a t modifi en "${E}".`)}catch(Y){console.error("Erreur lors de la modification du statut:",Y),alert("Une erreur est survenue lors de la modification du statut.")}finally{z(!1),R(null)}},T=async()=>{try{if(!Z)return;await Ne.delete(`/album/${Z.id}`),i(r.filter(Y=>Y.id!==Z.id)),alert(`L'album "${Z.name}" a t supprim avec succs.`)}catch(Y){console.error("Erreur lors de la suppression de l'album:",Y),alert("Une erreur est survenue lors de la suppression de l'album.")}finally{z(!1),R(null)}},S=Y=>{R(Y),M(Y.status),D("status"),z(!0)},I=Y=>{R(Y),D("delete"),z(!0)},P=()=>{B==="status"?q():B==="delete"&&T()},_=Y=>c.jsx("div",{className:"category-tags",children:Y.map((W,K)=>c.jsx("span",{className:"category-tag",children:W},K))}),Q=F();return s?c.jsx("div",{className:"loading-container",children:c.jsx("div",{className:"loading-spinner"})}):u?c.jsx("div",{className:"error-message",children:u}):c.jsxs("div",{className:"admin-table-container",children:[c.jsxs("div",{className:"admin-toolbar",children:[c.jsx("div",{className:"admin-search-container",children:c.jsx("input",{type:"text",placeholder:"Rechercher un album par nom, crateur ou ID...",value:m,onChange:Y=>y(Y.target.value),className:"admin-search"})}),c.jsxs("div",{className:"admin-filters",children:[c.jsxs("select",{value:g,onChange:Y=>p(Y.target.value),className:"admin-filter-select",children:[c.jsx("option",{value:"all",children:"Tous les statuts"}),c.jsx("option",{value:"public",children:"Public"}),c.jsx("option",{value:"private",children:"Priv"}),c.jsx("option",{value:"quarantined",children:"En quarantaine"})]}),c.jsxs("select",{value:b,onChange:Y=>v(Y.target.value),className:"admin-filter-select",children:[c.jsx("option",{value:"all",children:"Toutes les catgories"}),O.map(Y=>c.jsx("option",{value:Y,children:Y},Y))]}),c.jsxs("select",{value:x,onChange:Y=>N(Y.target.value),className:"admin-filter-select",children:[c.jsx("option",{value:"popular",children:"Plus utiliss"}),c.jsx("option",{value:"newest",children:"Plus rcents"}),c.jsx("option",{value:"oldest",children:"Plus anciens"}),c.jsx("option",{value:"alphabetical",children:"Alphabtique"})]})]})]}),Q.length===0?c.jsx("div",{className:"no-results",children:c.jsx("p",{children:"Aucun album ne correspond  votre recherche"})}):c.jsxs("table",{className:"admin-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:"Miniature"}),c.jsx("th",{children:"Nom"}),c.jsx("th",{children:"Crateur"}),c.jsx("th",{children:"Catgories"}),c.jsx("th",{children:"Nb Images"}),c.jsx("th",{children:"Utilisations"}),c.jsx("th",{children:"Date de cration"}),c.jsx("th",{children:"Statut"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:Q.map(Y=>{var W,K,J,ve;return c.jsxs("tr",{children:[c.jsx("td",{className:"id-cell",children:Y.id}),c.jsx("td",{children:c.jsx("div",{className:"admin-album-thumbnail",children:c.jsx("img",{src:Y.image,alt:Y.name,width:"50",height:"50"})})}),c.jsx("td",{children:Y.name}),c.jsx("td",{children:Y.creator}),c.jsx("td",{children:_(Y.categories)}),c.jsx("td",{children:Y.itemCount}),c.jsx("td",{children:c.jsxs("div",{className:"usage-stats",children:[c.jsx("span",{className:"usage-total",children:((W=w[Y.id])==null?void 0:W.total)||0}),c.jsxs("span",{className:"usage-details",children:["(T: ",((K=w[Y.id])==null?void 0:K.tierlists)||0,", To:"," ",((J=w[Y.id])==null?void 0:J.tournaments)||0,", C:"," ",((ve=w[Y.id])==null?void 0:ve.rankings)||0,")"]})]})}),c.jsx("td",{children:new Date(Y.created).toLocaleDateString()}),c.jsx("td",{children:c.jsx("span",{className:`status-badge ${Y.status}`,children:Y.status==="public"?"Public":Y.status==="private"?"Priv":"En quarantaine"})}),c.jsxs("td",{className:"actions-cell",children:[c.jsx("button",{className:"admin-action-btn edit",onClick:()=>k(Y.id),children:"diter"}),c.jsx("button",{className:"admin-action-btn status",onClick:()=>S(Y),children:"Changer statut"}),c.jsx("button",{className:"admin-action-btn delete",onClick:()=>I(Y),children:"Supprimer"})]})]},Y.id)})})]}),$&&Z&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("h2",{children:"Confirmation"}),B==="status"?c.jsxs(c.Fragment,{children:[c.jsxs("p",{children:["Modifier le statut de l'album"," ",c.jsx("strong",{children:Z.name}),":"]}),c.jsxs("select",{value:E,onChange:Y=>M(Y.target.value),className:"status-select",children:[c.jsx("option",{value:"public",children:"Public"}),c.jsx("option",{value:"private",children:"Priv"}),c.jsx("option",{value:"quarantined",children:"En quarantaine"})]})]}):c.jsxs("p",{children:["tes-vous sr de vouloir supprimer l'album"," ",c.jsx("strong",{children:Z.name})," ? Cette action est irrversible."]}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{onClick:()=>z(!1),children:"Annuler"}),c.jsx("button",{className:`confirm-${B}`,onClick:P,children:"Confirmer"})]})]})})]})},qd=({user:t,isAdmin:r})=>{var ze;const{id:i}=Ts(),s=St(),l=Zt(),u=!!((ze=l.state)!=null&&ze.fromAdmin)||r||l.pathname.includes("admin"),[f,m]=A.useState(null),[y,g]=A.useState(""),[p,b]=A.useState(!0),[v,x]=A.useState(!1),[N,O]=A.useState(!0),[C,w]=A.useState(null),[G,$]=A.useState(!1),[z,B]=A.useState(!1),[D,Z]=A.useState(!1),[R,E]=A.useState(null),[M,k]=A.useState(!1),[U,H]=A.useState(null),[F,q]=A.useState([]),[T,S]=A.useState([]),[I,P]=A.useState(!1),[_,Q]=A.useState(0),[Y,W]=A.useState({successful:0,failed:0,failedImages:[]});A.useEffect(()=>{if(!t){s("/login");return}(async()=>{var oe,Me,ge;try{O(!0),w(null);const Te=await Ne.get(`/album/${i}`);if(console.log("Album API Response:",Te.data),Te.data&&Te.data.data){const we=Te.data.data,Ye={id:we.id,name:we.name,status:we.status,createdAt:we.createdAt,updatedAt:we.updatedAt,categories:we.categories||[],author:we.author||{id:0,username:"Unknown",nametag:"unknown"},image:we.images||we.image||[]};m(Ye),g(Ye.name),b(Ye.status==="public"),console.log("Album data loaded successfully:",Ye)}else throw new Error("Structure de rponse inattendue")}catch(Te){console.error("Error fetching album:",Te),((oe=Te.response)==null?void 0:oe.status)===404?w("Album introuvable ou vous n'avez pas les permissions ncessaires."):((Me=Te.response)==null?void 0:Me.status)===403?w("Vous n'avez pas les permissions pour diter cet album."):((ge=Te.response)==null?void 0:ge.status)===401?w("Vous devez tre connect pour accder  cette page."):w("Erreur lors du chargement de l'album. Veuillez ressayer plus tard.")}finally{O(!1)}})()},[i,t,s]);const K=async()=>{if(!(!f||!y.trim()))try{(await Ne.put(`/album/${f.id}`,{name:y.trim()})).data&&(m(oe=>oe?{...oe,name:y.trim()}:null),x(!1),console.log("Album name updated successfully"))}catch(V){console.error("Error updating album name:",V),alert("Erreur lors de la mise  jour du nom de l'album"),g(f.name)}},J=async()=>{if(!f)return;const V=p?"private":"public";try{(await Ne.put(`/album/${f.id}`,{status:V})).data&&(b(!p),m(Me=>Me?{...Me,status:V}:null),console.log("Album privacy updated successfully"))}catch(oe){console.error("Error updating album privacy:",oe),alert("Erreur lors de la modification de la visibilit")}},ve=async()=>{if(f){$(!0);try{(await Ne.delete(`/album/${f.id}`)).data&&(console.log("Album deleted successfully"),alert("Album supprim avec succs"),Fe())}catch(V){console.error("Error deleting album:",V),alert("Erreur lors de la suppression de l'album")}finally{$(!1),B(!1)}}},Fe=()=>{u?s("/admin",{state:{activeTab:"albums"}}):s("/profile")},_e=V=>{const oe=new File([],V.name,{type:"image/jpeg"});H({id:V.id.toString(),file:oe,previewUrl:V.path_image,name:V.name,description:V.description||"",url:V.url||""}),k(!0)},Ie=async V=>{if(V.id)try{const oe={name:V.name,description:V.description||""};V.url&&V.url.trim()!==""&&(/^(https?:\/\/)(www\.)?[a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/.test(V.url)?oe.url=V.url:alert("L'URL fournie n'est pas valide. Le champ URL sera ignor.")),console.log("Donnes envoyes  l'API:",oe);const Me=await Ne.put(`/image/${V.id}`,oe);m(ge=>ge?{...ge,image:ge.image.map(Te=>Te.id.toString()===V.id?{...Te,name:V.name,description:V.description||"",url:oe.url||Te.url}:Te)}:null),k(!1),H(null)}catch(oe){console.error("Error updating image:",oe),alert("Erreur lors de la mise  jour de l'image")}},ke=async V=>{if(f)try{$(!0),(await Ne.delete(`/image/${V}`)).data&&(m(Me=>Me?{...Me,image:Me.image.filter(ge=>ge.id!==V)}:null),Z(!1),E(null),console.log("Image deleted successfully"))}catch(oe){console.error("Error deleting image:",oe),alert("Erreur lors de la suppression de l'image")}finally{$(!1)}},Ge=V=>{if(f&&f.image.length<=3){alert("Impossible de supprimer cette image. Un album doit contenir au minimum 3 images.");return}E(V),Z(!0)},tt=V=>{let oe=V.replace(/\.[^/.]+$/,"");oe=oe.replace(/[_-]/g," "),oe=oe.replace(/\b\w/g,ge=>ge.toUpperCase());const Me=25;return oe.length>Me&&(oe=oe.substring(0,Me)),oe},ht=V=>{if(V.target.files){const oe=Array.from(V.target.files);q(oe);const Me=oe.map(ge=>({file:ge,name:tt(ge.name),previewUrl:URL.createObjectURL(ge),status:"pending",progress:0}));S(Me)}},be=async(V,oe)=>{try{if(!f)return{success:!1,errorMessage:"Album non trouv"};S(we=>we.map((Ye,pt)=>pt===oe?{...Ye,status:"processing",progress:10}:Ye));const Me=await Wr.processImageBeforeUpload(V.file,oe);if(!Me.success||!Me.file)return S(we=>we.map((Ye,pt)=>pt===oe?{...Ye,status:"error",errorMessage:Me.errorMessage,progress:100}:Ye)),{success:!1,errorMessage:Me.errorMessage||"Erreur lors du traitement de l'image"};S(we=>we.map((Ye,pt)=>pt===oe?{...Ye,progress:50}:Ye));const ge={file:Me.file,name:V.name,id_album:f.id},Te=await Wr.addImageToAlbum(ge);return S(we=>we.map((Ye,pt)=>pt===oe?{...Ye,status:"success",progress:100}:Ye)),m(we=>we?{...we,image:[...we.image,Te.data]}:null),{success:!0}}catch(Me){const ge=Me.message||"Erreur lors de l'upload de l'image";return S(Te=>Te.map((we,Ye)=>Ye===oe?{...we,status:"error",errorMessage:ge,progress:100}:we)),{success:!1,errorMessage:ge}}},pe=async()=>{if(T.length===0||!f)return;P(!0),Q(0),W({successful:0,failed:0,failedImages:[]});const V=T.length;let oe=0,Me=0;const ge=[];for(let Te=0;Te<T.length;Te++){const we=T[Te];try{const pt=await be(we,Te);pt.success?oe++:(Me++,ge.push({name:we.name,reason:pt.errorMessage||"Erreur inconnue"}))}catch{Me++,ge.push({name:we.name,reason:"Erreur lors du traitement"})}const Ye=(Te+1)/V*100;Q(Ye)}W({successful:oe,failed:Me,failedImages:ge}),P(!1),Me>0&&oe===0?alert("Aucune image n'a pu tre uploade. Veuillez ressayer."):oe<V?alert(`Upload partiel : ${oe} sur ${V} images uploades avec succs.`):(alert("Toutes les images ont t uploades avec succs !"),q([]),S([]))},Ue=()=>{T.forEach(V=>{URL.revokeObjectURL(V.previewUrl)}),S([]),q([]),P(!1),Q(0),W({successful:0,failed:0,failedImages:[]})},De=V=>{switch(V){case"processing":return"#e6a700";case"success":return"#00a65a";case"error":return"#dd4b39";default:return"transparent"}},Le=V=>{switch(V){case"processing":return"";case"success":return"";case"error":return"";default:return""}};return N?c.jsx("div",{className:"album-editor-container",children:c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Chargement de l'album..."})]})}):C?c.jsx("div",{className:"album-editor-container",children:c.jsxs("div",{className:"error-message",children:[c.jsx("h2",{children:"Erreur"}),c.jsx("p",{children:C}),c.jsx("button",{onClick:Fe,className:"primary-button",children:u?"Retour au panneau admin":"Retour au profil"})]})}):f?c.jsxs("div",{className:"album-editor-container",children:[c.jsxs("div",{className:"album-editor-header",children:[c.jsxs("div",{className:"album-title-section",children:[v?c.jsxs("div",{className:"album-name-edit",children:[c.jsx("input",{type:"text",value:y,onChange:V=>g(V.target.value),placeholder:"Nom de l'album",maxLength:64,autoFocus:!0}),c.jsxs("div",{className:"edit-actions",children:[c.jsx("button",{onClick:K,className:"save-button",children:"Sauvegarder"}),c.jsx("button",{onClick:()=>{g(f.name),x(!1)},className:"cancel-button",children:"Annuler"})]})]}):c.jsxs("h1",{children:[f.name,c.jsx("button",{onClick:()=>x(!0),className:"edit-info-button",title:"Modifier le nom de l'album",children:""})]}),c.jsxs("div",{className:"album-meta",children:[c.jsxs("p",{children:["Cr: ",new Date(f.createdAt).toLocaleDateString()]}),c.jsxs("p",{children:["Images: ",f.image.length]}),c.jsxs("div",{className:"privacy-toggle",children:[c.jsx("span",{className:p?"":"active",children:"Priv"}),c.jsxs("label",{className:"switch",children:[c.jsx("input",{type:"checkbox",checked:p,onChange:J}),c.jsx("span",{className:"slider"})]}),c.jsx("span",{className:p?"active":"",children:"Public"})]})]})]}),c.jsxs("div",{className:"album-actions",children:[c.jsx("button",{onClick:Fe,className:"back-button",children:u?"Retour au panneau admin":"Retour au profil"}),c.jsx("button",{onClick:()=>B(!0),className:"delete-button",children:"Supprimer l'album"})]})]}),c.jsxs("div",{className:"album-editor-content",children:[c.jsxs("div",{className:"upload-section",children:[c.jsx("h2",{children:"Ajouter de nouvelles images"}),c.jsxs("div",{className:"file-upload",children:[c.jsx("label",{htmlFor:"image-upload",className:"file-upload-label",children:"Slectionner des images"}),c.jsx("input",{id:"image-upload",type:"file",accept:"image/*",multiple:!0,onChange:ht,style:{display:"none"},disabled:I}),c.jsx("span",{className:"selected-files",children:F.length>0?`${F.length} fichier(s) slectionn(s)`:"Aucun fichier slectionn"}),F.length>0&&c.jsxs("div",{className:"upload-actions",children:[c.jsx("button",{onClick:pe,className:"upload-button",disabled:I,children:I?`Upload en cours... ${Math.round(_)}%`:"Uploader les images"}),I&&c.jsx("button",{onClick:Ue,className:"cancel-upload-button",children:"Annuler"})]})]}),I&&c.jsxs("div",{className:"upload-progress-container",children:[c.jsx("div",{className:"upload-progress-bar",children:c.jsx("div",{className:"upload-progress",style:{width:`${_}%`}})}),c.jsxs("p",{children:["Upload en cours: ",Math.round(_),"%"]})]}),T.length>0&&c.jsx("div",{className:"uploading-images-preview",children:T.map((V,oe)=>c.jsxs("div",{className:"uploading-image-item",children:[c.jsx("div",{className:"image-status-indicator",style:{backgroundColor:De(V.status)},children:Le(V.status)}),c.jsx("div",{className:"image-preview-small",children:c.jsx("img",{src:V.previewUrl,alt:V.name})}),c.jsxs("div",{className:"image-details",children:[c.jsx("h4",{className:"image-name-small",children:V.name}),c.jsx("div",{className:"image-progress-bar",children:c.jsx("div",{className:"image-progress",style:{width:`${V.progress}%`}})}),V.status==="error"&&c.jsx("p",{className:"error-message-small",children:V.errorMessage})]})]},oe))}),(Y.successful>0||Y.failed>0)&&c.jsxs("div",{className:"upload-results-summary",children:[c.jsx("h3",{children:"Rsultats de l'upload"}),Y.successful>0&&c.jsxs("p",{className:"success-count",children:[" ",Y.successful," image(s) uploade(s) avec succs"]}),Y.failed>0&&c.jsxs("p",{className:"failed-count",children:[" ",Y.failed," image(s) ont chou"]}),Y.failedImages.length>0&&c.jsxs("details",{className:"failed-images-list",children:[c.jsx("summary",{children:"Voir les dtails des checs"}),c.jsx("ul",{children:Y.failedImages.map((V,oe)=>c.jsxs("li",{children:[c.jsx("strong",{children:V.name}),": ",V.reason]},oe))})]})]})]}),c.jsxs("div",{className:"existing-images-section",children:[c.jsxs("h2",{children:["Images de l'album (",f.image.length,")"]}),f.image.length>0?c.jsx("div",{className:"images-grid",children:f.image.map(V=>c.jsxs("div",{className:"image-card",children:[c.jsx("div",{className:"image-preview-existing",children:c.jsx("img",{src:V.path_image,alt:V.name})}),c.jsx("div",{className:"image-info",children:c.jsx("h3",{children:V.name})}),c.jsxs("div",{className:"image-actions",children:[c.jsx("button",{onClick:()=>_e(V),className:"edit-image-button",children:"Modifier"}),c.jsx("button",{onClick:()=>Ge(V),className:"delete-image-button",children:"Supprimer"})]})]},V.id))}):c.jsx("p",{children:"Aucune image dans cet album."})]})]}),M&&U&&c.jsx(Ov,{isOpen:M,onClose:()=>{k(!1),H(null)},image:U,onSave:Ie}),z&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("h2",{children:"Supprimer l'album"}),c.jsx("p",{children:"tes-vous sr de vouloir supprimer cet album ? Cette action est irrversible et supprimera galement toutes les images qu'il contient."}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{onClick:()=>B(!1),className:"cancel-button",children:"Annuler"}),c.jsx("button",{onClick:ve,className:"confirm-delete-button",disabled:G,children:G?"Suppression...":"Supprimer"})]})]})}),D&&R&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("h2",{children:"Supprimer l'image"}),c.jsxs("p",{children:[`tes-vous sr de vouloir supprimer l'image "`,R.name,'" ? Cette action est irrversible.']}),c.jsx("div",{className:"image-preview-in-modal",children:c.jsx("img",{src:R.path_image,alt:R.name})}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{onClick:()=>{Z(!1),E(null)},className:"cancel-button",children:"Annuler"}),c.jsx("button",{onClick:()=>ke(R.id),className:"confirm-delete-button",disabled:G,children:G?"Suppression...":"Supprimer"})]})]})})]}):c.jsx("div",{className:"album-editor-container",children:c.jsxs("div",{className:"error-message",children:[c.jsx("h2",{children:"Album introuvable"}),c.jsx("p",{children:"L'album que vous cherchez n'existe pas ou vous n'avez pas les permissions pour le visualiser."}),c.jsx("button",{onClick:Fe,className:"primary-button",children:u?"Retour au panneau admin":"Retour au profil"})]})})},OR=({user:t,isAdmin:r})=>{const i=St(),[s,l]=A.useState("users");A.useEffect(()=>{r||i("/")},[r,i]),A.useEffect(()=>{const f=window.history.state;f&&f.usr&&f.usr.activeTab&&l(f.usr.activeTab)},[]);const u=()=>{switch(s){case"users":return c.jsx(CR,{});case"categories":return c.jsx(wR,{});case"tierlists":return c.jsx(bd,{contentType:"tierlist",contentTypeName:"Tierlist"});case"tournaments":return c.jsx(bd,{contentType:"tournament",contentTypeName:"Tournoi"});case"rankings":return c.jsx(bd,{contentType:"ranking",contentTypeName:"Classement"});case"albums":return c.jsx(_R,{});default:return c.jsx("div",{children:"Slectionnez un onglet"})}};return r?c.jsxs(k0,{children:[c.jsx(xt,{path:"/",element:c.jsxs("div",{className:"admin-container",children:[c.jsx("h1",{className:"admin-title",children:"Panneau d'Administration"}),c.jsxs("div",{className:"admin-tabs",children:[c.jsx("button",{className:`admin-tab ${s==="users"?"active":""}`,onClick:()=>l("users"),children:"Utilisateurs"}),c.jsx("button",{className:`admin-tab ${s==="categories"?"active":""}`,onClick:()=>l("categories"),children:"Catgories"}),c.jsx("button",{className:`admin-tab ${s==="tierlists"?"active":""}`,onClick:()=>l("tierlists"),children:"Tierlists"}),c.jsx("button",{className:`admin-tab ${s==="tournaments"?"active":""}`,onClick:()=>l("tournaments"),children:"Tournois"}),c.jsx("button",{className:`admin-tab ${s==="rankings"?"active":""}`,onClick:()=>l("rankings"),children:"Classements"}),c.jsx("button",{className:`admin-tab ${s==="albums"?"active":""}`,onClick:()=>l("albums"),children:"Albums"})]}),c.jsx("div",{className:"admin-content",children:u()})]})}),c.jsx(xt,{path:"/album/edit/:id",element:c.jsx(qd,{user:t,isAdmin:r})})]}):null},DR=async()=>{try{return(await Ne.get("/tierlist")).data.data}catch(t){return console.error("Error fetching tierlists:",t),[]}},MR=async()=>{try{return(await DR()).filter(r=>!r.private)}catch(t){return console.error("Error fetching public tierlists:",t),[]}},IR=({user:t})=>{const r=St(),i=Zt(),[s,l]=A.useState(""),[u,f]=A.useState(null),[m,y]=A.useState(!0),[g,p]=A.useState(null),[b,v]=A.useState([]),[x,N]=A.useState(new Map),[O,C]=A.useState([]);A.useEffect(()=>{const D=new URLSearchParams(i.search).get("category");D&&f(D)},[i]),A.useEffect(()=>{(async()=>{try{y(!0);const D=await MR(),Z=[],R=new Map,E=new Set;for(const M of D){const k=await Cs(M.album.id),U={id:M.id.toString(),name:M.name,image:k.imagePath,creator:M.author.username,creatorId:M.author.id.toString(),categories:k.categories,createdAt:M.createdAt};Z.push(U),k.categories.forEach(H=>{var F;E.add(H),R.has(H)||R.set(H,[]),(F=R.get(H))==null||F.push(U)})}R.forEach((M,k)=>{R.set(k,M.sort((U,H)=>U.name.localeCompare(H.name)))}),v(Z.sort((M,k)=>M.name.localeCompare(k.name))),N(R),C(Array.from(E))}catch(D){console.error("Erreur lors du chargement des tierlists:",D),p("Impossible de charger les tierlists. Veuillez ressayer plus tard.")}finally{y(!1)}})()},[]);const G=(()=>{const B=s.toLowerCase();let D=b.filter(Z=>Z.name.toLowerCase().includes(B)||Z.creator.toLowerCase().includes(B));return u&&(D=D.filter(Z=>Z.categories.includes(u))),D})(),$=B=>{r(`/tierlists/${B.id}`)},z=()=>{r("/allalbum")};return m?c.jsxs("div",{className:"all-album-container",children:[c.jsx("h1",{className:"all-album-title",children:"Toutes les Tierlists"}),c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Chargement des tierlists..."})]})]}):g?c.jsxs("div",{className:"all-album-container",children:[c.jsx("h1",{className:"all-album-title",children:"Toutes les Tierlists"}),c.jsxs("div",{className:"error-message",children:[c.jsx("p",{children:g}),c.jsx("button",{onClick:()=>window.location.reload(),children:"Ressayer"})]})]}):c.jsxs("div",{className:"all-album-container",children:[c.jsx("h1",{className:"all-album-title",children:"Toutes les Tierlists"}),c.jsxs("div",{className:"album-filters",children:[c.jsx("div",{className:"search-container",children:c.jsx("input",{type:"text",placeholder:"Rechercher une tierlist...",value:s,onChange:B=>l(B.target.value),className:"album-search"})}),c.jsxs("div",{className:"category-filters",children:[c.jsx("button",{className:`category-filter ${u===null?"active":""}`,onClick:()=>f(null),children:"Toutes les Tierlists"}),O.map((B,D)=>c.jsx("button",{className:`category-filter ${u===B?"active":""}`,onClick:()=>f(B),children:B},D))]})]}),G.length===0?c.jsx("div",{className:"no-results",children:c.jsx("p",{children:"Aucune tierlist ne correspond  votre recherche"})}):c.jsx("div",{className:"all-albums-section",children:c.jsxs("div",{children:[c.jsx("h2",{className:"category-title",children:u||"Toutes les Tierlists"}),c.jsx("div",{className:"all-albums-grid",children:G.map((B,D)=>c.jsx("div",{className:"album-card-container",onClick:()=>$(B),children:c.jsx(rr,{name:B.name,image:B.image,categories:B.categories,authorName:B.creator})},D))})]})}),c.jsxs("div",{className:"create-album-prompt",children:[c.jsx("p",{children:"Vous souhaitez crer votre propre Tierlist ?"}),c.jsx("button",{className:"create-album-btn",onClick:z,children:"Crer une nouvelle Tierlist"})]})]})},UR=async()=>{try{return(await Ne.get("/tournament")).data.data}catch(t){return console.error("Error fetching tournaments:",t),[]}},LR=async()=>{try{return(await UR()).filter(r=>!r.private)}catch(t){return console.error("Error fetching public tournaments:",t),[]}},FR=({user:t})=>{const r=St(),i=Zt(),[s,l]=A.useState(""),[u,f]=A.useState(null),[m,y]=A.useState(!0),[g,p]=A.useState(null),[b,v]=A.useState([]),[x,N]=A.useState(new Map),[O,C]=A.useState([]);A.useEffect(()=>{const D=new URLSearchParams(i.search).get("category");D&&f(D)},[i]),A.useEffect(()=>{(async()=>{try{y(!0);const D=await LR(),Z=[],R=new Map,E=new Set;for(const M of D){const k=await Cs(M.album.id),U={id:M.id.toString(),name:M.name,image:k.imagePath,creator:M.author.username,creatorId:M.author.id.toString(),categories:k.categories,createdAt:M.createdAt};Z.push(U),k.categories.forEach(H=>{var F;E.add(H),R.has(H)||R.set(H,[]),(F=R.get(H))==null||F.push(U)})}R.forEach((M,k)=>{R.set(k,M.sort((U,H)=>U.name.localeCompare(H.name)))}),v(Z.sort((M,k)=>M.name.localeCompare(k.name))),N(R),C(Array.from(E))}catch(D){console.error("Erreur lors du chargement des tournois:",D),p("Impossible de charger les tournois. Veuillez ressayer plus tard.")}finally{y(!1)}})()},[]);const G=(()=>{const B=s.toLowerCase();let D=b.filter(Z=>Z.name.toLowerCase().includes(B)||Z.creator.toLowerCase().includes(B));return u&&(D=D.filter(Z=>Z.categories.includes(u))),D})(),$=B=>{r(`/tournois/${B.id}`)},z=()=>{r("/allalbum")};return m?c.jsxs("div",{className:"all-album-container",children:[c.jsx("h1",{className:"all-album-title",children:"Tous les Tournois"}),c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Chargement des tournois..."})]})]}):g?c.jsxs("div",{className:"all-album-container",children:[c.jsx("h1",{className:"all-album-title",children:"Tous les Tournois"}),c.jsxs("div",{className:"error-message",children:[c.jsx("p",{children:g}),c.jsx("button",{onClick:()=>window.location.reload(),children:"Ressayer"})]})]}):c.jsxs("div",{className:"all-album-container",children:[c.jsx("h1",{className:"all-album-title",children:"Tous les Tournois"}),c.jsxs("div",{className:"album-filters",children:[c.jsx("div",{className:"search-container",children:c.jsx("input",{type:"text",placeholder:"Rechercher un tournoi...",value:s,onChange:B=>l(B.target.value),className:"album-search"})}),c.jsxs("div",{className:"category-filters",children:[c.jsx("button",{className:`category-filter ${u===null?"active":""}`,onClick:()=>f(null),children:"Tous les Tournois"}),O.map((B,D)=>c.jsx("button",{className:`category-filter ${u===B?"active":""}`,onClick:()=>f(B),children:B},D))]})]}),G.length===0?c.jsx("div",{className:"no-results",children:c.jsx("p",{children:"Aucun tournoi ne correspond  votre recherche"})}):c.jsx("div",{className:"all-albums-section",children:c.jsxs("div",{children:[c.jsx("h2",{className:"category-title",children:u||"Tous les Tournois"}),c.jsx("div",{className:"all-albums-grid",children:G.map((B,D)=>c.jsx("div",{className:"album-card-container",onClick:()=>$(B),children:c.jsx(rr,{name:B.name,image:B.image,categories:B.categories,authorName:B.creator})},D))})]})}),c.jsxs("div",{className:"create-album-prompt",children:[c.jsx("p",{children:"Vous souhaitez crer votre propre Tournoi ?"}),c.jsx("button",{className:"create-album-btn",onClick:z,children:"Crer un nouveau Tournoi"})]})]})},kR=async()=>{try{return(await Ne.get("/ranking")).data.data}catch(t){return console.error("Error fetching rankings:",t),[]}},zR=async()=>{try{return(await kR()).filter(r=>!r.private)}catch(t){return console.error("Error fetching public rankings:",t),[]}},BR=({user:t})=>{const r=St(),i=Zt(),[s,l]=A.useState(""),[u,f]=A.useState(null),[m,y]=A.useState(!0),[g,p]=A.useState(null),[b,v]=A.useState([]),[x,N]=A.useState(new Map),[O,C]=A.useState([]);A.useEffect(()=>{const D=new URLSearchParams(i.search).get("category");D&&f(D)},[i]),A.useEffect(()=>{(async()=>{try{y(!0);const D=await zR(),Z=[],R=new Map,E=new Set;for(const M of D){const k=await Cs(M.album.id),U={id:M.id.toString(),name:M.name,image:k.imagePath,creator:M.author.username,creatorId:M.author.id.toString(),categories:k.categories,createdAt:M.createdAt};Z.push(U),k.categories.forEach(H=>{var F;E.add(H),R.has(H)||R.set(H,[]),(F=R.get(H))==null||F.push(U)})}R.forEach((M,k)=>{R.set(k,M.sort((U,H)=>U.name.localeCompare(H.name)))}),v(Z.sort((M,k)=>M.name.localeCompare(k.name))),N(R),C(Array.from(E))}catch(D){console.error("Erreur lors du chargement des classements:",D),p("Impossible de charger les classements. Veuillez ressayer plus tard.")}finally{y(!1)}})()},[]);const G=(()=>{const B=s.toLowerCase();let D=b.filter(Z=>Z.name.toLowerCase().includes(B)||Z.creator.toLowerCase().includes(B));return u&&(D=D.filter(Z=>Z.categories.includes(u))),D})(),$=B=>{r(`/classements/${B.id}`)},z=()=>{r("/allalbum")};return m?c.jsxs("div",{className:"all-album-container",children:[c.jsx("h1",{className:"all-album-title",children:"Tous les Classements"}),c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Chargement des classements..."})]})]}):g?c.jsxs("div",{className:"all-album-container",children:[c.jsx("h1",{className:"all-album-title",children:"Tous les Classements"}),c.jsxs("div",{className:"error-message",children:[c.jsx("p",{children:g}),c.jsx("button",{onClick:()=>window.location.reload(),children:"Ressayer"})]})]}):c.jsxs("div",{className:"all-album-container",children:[c.jsx("h1",{className:"all-album-title",children:"Tous les Classements"}),c.jsxs("div",{className:"album-filters",children:[c.jsx("div",{className:"search-container",children:c.jsx("input",{type:"text",placeholder:"Rechercher un classement...",value:s,onChange:B=>l(B.target.value),className:"album-search"})}),c.jsxs("div",{className:"category-filters",children:[c.jsx("button",{className:`category-filter ${u===null?"active":""}`,onClick:()=>f(null),children:"Tous les Classements"}),O.map((B,D)=>c.jsx("button",{className:`category-filter ${u===B?"active":""}`,onClick:()=>f(B),children:B},D))]})]}),G.length===0?c.jsx("div",{className:"no-results",children:c.jsx("p",{children:"Aucun classement ne correspond  votre recherche"})}):c.jsx("div",{className:"all-albums-section",children:c.jsxs("div",{children:[c.jsx("h2",{className:"category-title",children:u||"Tous les Classements"}),c.jsx("div",{className:"all-albums-grid",children:G.map((B,D)=>c.jsx("div",{className:"album-card-container",onClick:()=>$(B),children:c.jsx(rr,{name:B.name,image:B.image,categories:B.categories,authorName:B.creator})},D))})]})}),c.jsxs("div",{className:"create-album-prompt",children:[c.jsx("p",{children:"Vous souhaitez crer votre propre Classement ?"}),c.jsx("button",{className:"create-album-btn",onClick:z,children:"Crer un nouveau Classement"})]})]})},qb=async t=>{try{const r=await Ne.get(`/album/${t}`);if(!r.data||!r.data.data)throw new Error("Album non trouv");return r.data.data}catch(r){throw console.error("Erreur lors de la rcupration de l'album:",r),r}},Gb=async()=>{try{const t=await Ne.get("/me");return!t.data||!t.data.data?null:t.data.data}catch(t){return console.error("Erreur lors de la rcupration de l'utilisateur:",t),null}},PR=async t=>{try{const r=await qb(t);if(r.status==="public")return{hasAccess:!0,album:r,message:"Album public"};const i=await Gb();return i?r.author.id===i.id?{hasAccess:!0,album:r,user:i,message:"Propritaire de l'album"}:i.roles&&i.roles.some(l=>l.libelle.toLowerCase()==="admin"||l.libelle.toLowerCase()==="modo")?{hasAccess:!0,album:r,user:i,message:"Accs administrateur"}:{hasAccess:!1,album:r,user:i,message:"Accs refus: album priv"}:{hasAccess:!1,album:r,message:"Accs refus: vous devez tre connect pour accder  cet album priv"}}catch(r){return console.error("Erreur lors de la vrification de l'accs:",r),{hasAccess:!1,message:"Erreur: impossible de vrifier l'accs  l'album"}}},HR={getAlbumWithImages:qb,getCurrentUser:Gb,checkAlbumAccess:PR},Da=({isOpen:t,onClose:r,image:i})=>i?c.jsx(Nn,{isOpen:t,onRequestClose:r,className:"image-details-modal",overlayClassName:"image-details-modal-overlay",ariaHideApp:!1,children:c.jsxs("div",{className:"image-details",children:[c.jsxs("div",{className:"image-details-header",children:[c.jsx("h2",{children:i.name||"Image Details"}),c.jsx("button",{className:"close-details-btn",onClick:r,children:""})]}),c.jsxs("div",{className:"image-details-content",children:[c.jsx("div",{className:"image-preview-container",children:c.jsx("img",{src:i.src,alt:i.alt||i.name||"Image",className:"image-details-preview"})}),c.jsxs("div",{className:"image-details-info",children:[i.name&&c.jsxs("div",{className:"info-row",children:[c.jsx("span",{className:"info-label",children:"Nom:"}),c.jsx("span",{className:"info-value",children:i.name})]}),i.description&&c.jsxs("div",{className:"info-section",children:[c.jsx("h3",{children:"Description"}),c.jsx("p",{className:"description-text",children:i.description})]}),i.url&&c.jsxs("div",{className:"info-section",children:[c.jsx("h3",{children:"URL"}),c.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"url-link",children:i.url})]})]})]})]})}):null,$R=({user:t})=>{var k;const r=St(),i=Zt(),[s,l]=A.useState(null),[u,f]=A.useState([]),[m,y]=A.useState(null),[g,p]=A.useState(""),[b,v]=A.useState(""),[x,N]=A.useState(!0),[O,C]=A.useState(null),[w,G]=A.useState(!1),[$,z]=A.useState(null),B=U=>{z(U),G(!0)},D=()=>{G(!1),z(null)};A.useEffect(()=>{(async()=>{try{const H=new URLSearchParams(i.search),F=H.get("album"),q=H.get("type"),T=H.get("name");if(!F||!q){C("Paramtres manquants dans l'URL"),setTimeout(()=>r("/allalbum"),2e3);return}p(q),T&&v(T);const S=await HR.checkAlbumAccess(F);if(!S.hasAccess){C(`Accs refus  cet album. ${S.message}`),setTimeout(()=>r("/allalbum"),3e3);return}const I=S.album;if(!I){C("Album introuvable"),setTimeout(()=>r("/allalbum"),2e3);return}const P={id:I.id.toString(),name:I.name,categories:I.categories.map(_=>_.name),authorId:I.author.id,authorName:I.author.username,images:I.images.map(_=>({id:_.id.toString(),src:_.path_image,title:_.name,description:_.description,url:_.url,selected:!0}))};l(P),f(P.images),P.images.length>0&&y(P.images[0].id),N(!1)}catch(H){console.error("Erreur lors du chargement des donnes:",H),C("Une erreur est survenue lors du chargement des donnes"),N(!1)}})()},[i,r]);const Z=U=>{var F;if(!s)return;const H=s.images.map(q=>q.id===U?{...q,selected:!q.selected}:q);if(l({...s,images:H}),f(H.filter(q=>q.selected)),m===U&&!((F=H.find(q=>q.id===U))!=null&&F.selected)){const q=H.find(T=>T.selected);y((q==null?void 0:q.id)||null)}},R=U=>{var H;(H=s==null?void 0:s.images.find(F=>F.id===U))!=null&&H.selected||Z(U),y(U)},E=()=>{if(!s||!g||!m||u.length===0){alert("Vous devez slectionner au moins une image et dfinir une image principale!");return}const U=u.map(F=>F.id);console.log("Content Type:",g),console.log("Album ID:",s.id),console.log("Selected Image IDs:",U),console.log("Main Image:",m),console.log("Content Name:",b);const H=JSON.stringify(U);if(console.log("Image Param String:",H),g==="tierlists"){const F=`/tierlists/create/editor?album=${s.id}&images=${encodeURIComponent(H)}&main=${m}&name=${encodeURIComponent(b)}`;console.log("Navigation URL:",F),r(F)}else{const F=`/${g}/create/editor?album=${s.id}&images=${encodeURIComponent(H)}&main=${m}&name=${encodeURIComponent(b)}`;console.log("Navigation URL:",F),r(F)}},M=()=>{r(-1)};return x?c.jsx("div",{className:"setup-container",children:c.jsxs("div",{className:"setup-loader",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Chargement de l'album..."})]})}):O?c.jsx("div",{className:"setup-container",children:c.jsxs("div",{className:"setup-error",children:[c.jsx("h2",{children:"Erreur"}),c.jsx("p",{children:O}),c.jsx("button",{onClick:M,className:"setup-button",children:"Retour"})]})}):s?c.jsxs("div",{className:"setup-container",children:[c.jsxs("div",{className:"setup-header",children:[c.jsxs("h1",{children:["Prparer votre"," ",g==="tierlists"?"Tierlist":g==="tournois"?"Tournoi":"Classement"]}),c.jsxs("p",{className:"setup-description",children:["Slectionnez les images que vous souhaitez utiliser et choisissez une image principale pour votre"," ",g==="tierlists"?"tierlist":g==="tournois"?"tournoi":"classement","."]})]}),c.jsxs("div",{className:"setup-content",children:[c.jsxs("div",{className:"setup-album-info",children:[c.jsxs("h2",{children:["Album: ",s.name]}),c.jsxs("div",{className:"setup-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:"Images slectionnes:"}),c.jsxs("span",{className:"stat-value",children:[u.length," / ",s.images.length]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:"Image principale:"}),c.jsx("span",{className:"stat-value",children:m?(k=s.images.find(U=>U.id===m))==null?void 0:k.title:"Non dfinie"})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:"Crateur:"}),c.jsx("span",{className:"stat-value",children:s.authorName})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-label",children:"Catgories:"}),c.jsx("span",{className:"stat-value",children:s.categories.join(", ")})]})]}),c.jsxs("div",{className:"setup-actions",children:[c.jsx("button",{onClick:M,className:"setup-button cancel",children:"Annuler"}),c.jsx("button",{onClick:E,className:"setup-button start",disabled:u.length===0||!m,children:"Commencer la cration"})]})]}),c.jsxs("div",{className:"setup-images-container",children:[c.jsxs("h3",{children:["Images disponibles (",s.images.length,")"]}),s.images.length===0?c.jsx("p",{className:"no-images-message",children:"Cet album ne contient aucune image."}):c.jsx("div",{className:"setup-images-grid",children:s.images.map(U=>c.jsxs("div",{className:`setup-image-card ${U.selected?"selected":""} ${m===U.id?"main-image":""}`,children:[c.jsxs("div",{className:"image-container",children:[c.jsx("img",{src:U.src,alt:U.title,onClick:()=>B(U),style:{cursor:"pointer"},title:"Cliquez pour voir les dtails"}),m===U.id&&c.jsx("div",{className:"main-image-badge",children:"Image principale"})]}),c.jsx("div",{className:"image-title",title:U.description||"",children:U.title}),c.jsxs("div",{className:"image-actions",children:[c.jsx("button",{className:`select-button ${U.selected?"selected":""}`,onClick:()=>Z(U.id),children:U.selected?"Dslectionner":"Slectionner"}),c.jsx("button",{className:`main-button ${m===U.id?"selected":""}`,onClick:()=>R(U.id),disabled:!U.selected&&m!==U.id,children:"Dfinir comme principale"})]})]},U.id))})]})]}),c.jsx(Da,{isOpen:w,onClose:D,image:$})]}):c.jsx("div",{className:"setup-container",children:c.jsxs("div",{className:"setup-error",children:[c.jsx("h2",{children:"Erreur de chargement"}),c.jsx("p",{children:"Impossible de charger les donnes de l'album."}),c.jsx("button",{onClick:M,className:"setup-button",children:"Retour"})]})})};Nn.setAppElement("#root");const yd=[{id:"tierS",name:"S",color:"#FF7F7F",images:[]},{id:"tierA",name:"A",color:"#FFBF7F",images:[]},{id:"tierB",name:"B",color:"#FFFF7F",images:[]},{id:"tierC",name:"C",color:"#7FFF7F",images:[]},{id:"tierD",name:"D",color:"#7F7FFF",images:[]}],T0=({user:t})=>{const r=St(),i=Zt(),{id:s}=Ts(),[l,u]=A.useState(!1),[f,m]=A.useState(!1),[y,g]=A.useState(""),[p,b]=A.useState(""),[v,x]=A.useState([]),[N,O]=A.useState(""),[C,w]=A.useState(yd),[G,$]=A.useState(!0),[z,B]=A.useState(null),[D,Z]=A.useState(null),[R,E]=A.useState(null),[M,k]=A.useState({name:"",color:""}),[U,H]=A.useState(!1),[F,q]=A.useState(()=>!localStorage.getItem("tierListInfoModalShown")),[T,S]=A.useState(!1),[I,P]=A.useState(null),[_,Q]=A.useState(!1),[Y,W]=A.useState(!1),[K,J]=A.useState(null),ve=`tierlist_editor_${N}`,Fe=5e3,_e=()=>{localStorage.removeItem(ve),console.log("tat sauvegard effac")};A.useEffect(()=>{if(s)return;const me=new URLSearchParams(i.search),je=me.get("album"),Se=me.get("images"),se=me.get("name"),ce=me.get("main");if(!je){r("/allalbum");return}O(je);const xe=`tierlist_editor_${je}`;Ie(je);const ne=localStorage.getItem(xe);if(ne)try{const he=JSON.parse(ne);if(g(he.tierlistName||""),b(he.tierlistDescription||""),x(he.unclassifiedImages||[]),w(he.tierList||yd),$(he.isPublic!==void 0?he.isPublic:!0),P(he.mainImage||null),console.log("tat de la tierlist restaur depuis la sauvegarde locale du:",new Date(he.lastSaved).toLocaleString()),Se||se||ce){const Oe=`${window.location.pathname}?album=${je}`;window.history.replaceState({},document.title,Oe)}return}catch(he){console.error("Erreur lors du chargement de l'tat sauvegard:",he)}se&&g(se);let ie=[];if(Se)try{console.log("Raw Images Param:",Se);const he=decodeURIComponent(Se);console.log("Decoded Images Param:",he),ie=JSON.parse(he),console.log("Parsed Selected Image IDs:",ie)}catch(he){console.error("Erreur lors du parsing des images depuis l'URL:",he);const Oe=localStorage.getItem("tierlistImages");if(Oe)try{ie=JSON.parse(Oe)}catch(Xe){console.error("Erreur lors du parsing des images depuis localStorage:",Xe)}}else{const he=localStorage.getItem("tierlistImages");if(he)try{ie=JSON.parse(he)}catch(Oe){console.error("Erreur lors du parsing des images depuis localStorage:",Oe)}}if(ie.length===0){r("/allalbum");return}if((async()=>{try{if(console.log("[loadImagesFromApi] Album ID Param:",je),!je){console.error("[loadImagesFromApi] No album ID provided");return}const he=await Er.getAlbumImages(je);console.log("[loadImagesFromApi] Album Images:",he);const Oe=he.filter(Ce=>ie.includes(Ce.id.toString()));if(console.log("[loadImagesFromApi] Filtered Images:",Oe),console.log("[loadImagesFromApi] Selected Image IDs:",ie),console.log("[loadImagesFromApi] Available Image IDs:",he.map(Ce=>Ce.id.toString())),Oe.length===0&&(console.warn("[loadImagesFromApi] No matching images found!"),console.warn("Selected Image IDs:",ie),console.warn("Available Image IDs:",he.map(Ce=>Ce.id.toString())),he.length>0)){console.log("[loadImagesFromApi] Using all album images as fallback"),x(he),he.length>0&&P(he[0].id);return}const Xe=Oe.map(Ce=>({...Ce,id_image:parseInt(Ce.id)}));x(Xe),ce&&Oe.some(Ce=>Ce.id===ce)?P(ce):Oe.length>0&&P(Oe[0].id),console.log("[loadImagesFromApi] Images loaded successfully:",Oe.length)}catch(he){console.error("[loadImagesFromApi] Error loading images:",he);try{console.log("[loadImagesFromApi] Attempting fallback - loading all album images");const Oe=await Er.getAlbumImages(je);Oe.length>0&&(x(Oe),P(Oe[0].id),console.log("[loadImagesFromApi] Fallback successful:",Oe.length))}catch(Oe){console.error("[loadImagesFromApi] Fallback also failed:",Oe),alert("Impossible de charger les images. Redirection vers la slection d'albums."),r("/allalbum")}}})(),Se&&localStorage.removeItem("tierlistImages"),Se||se||ce){const he=`${window.location.pathname}?album=${je}`;window.history.replaceState({},document.title,he)}},[i,r,s]),A.useEffect(()=>{s&&(u(!0),(async()=>{var je;try{m(!0);const{tierlist:Se,lines:se}=await Er.getTierlistWithDetails(parseInt(s));g(Se.name),b(Se.description||""),$(!Se.private),O(Se.id_album.toString());const ce=[];let xe=[];for(const ne of se)ne.placement===0?xe=ne.images:ce.push({id:((je=ne.id)==null?void 0:je.toString())||`tier_${ce.length+1}_${Date.now()}`,name:ne.label||`Tier ${ce.length+1}`,color:`#${ne.color}`,images:ne.images});w(ce.length>0?ce:yd),x(xe)}catch(Se){console.error("Error loading tierlist:",Se),alert("Impossible de charger la tierlist. Veuillez ressayer plus tard."),r("/profile")}finally{m(!1)}})())},[s,r]),A.useEffect(()=>{if(!N)return;const me=`tierlist_editor_${N}`,je=()=>{try{const ce={tierlistName:y,tierlistDescription:p,unclassifiedImages:v,tierList:C,isPublic:G,mainImage:I,lastSaved:new Date().toISOString()};localStorage.setItem(me,JSON.stringify(ce)),console.log("tat sauvegard:",new Date().toLocaleTimeString())}catch(ce){console.error("Erreur lors de la sauvegarde:",ce)}};je();const Se=setInterval(je,Fe),se=()=>{je()};return window.addEventListener("beforeunload",se),()=>{clearInterval(Se),window.removeEventListener("beforeunload",se)}},[N,y,p,v,C,G,I]);const Ie=me=>{new URLSearchParams(window.location.search).get("images")&&(localStorage.removeItem(`tierlist_editor_${me}`),console.log("Cache prcdent supprim pour l'album:",me))},ke=me=>{const je=v.findIndex(Se=>Se.id===me);if(je!==-1)return{image:v[je],tier:"unclassified",index:je};for(const Se of C){const se=Se.images.findIndex(ce=>ce.id===me);if(se!==-1)return{image:Se.images[se],tier:Se.id,index:se}}return null},Ge=me=>{J(me),W(!0)},tt=()=>{W(!1),J(null)},ht=me=>{const je=C.findIndex(se=>se.id===me);if(je<=0)return;const Se=[...C];[Se[je],Se[je-1]]=[Se[je-1],Se[je]],w(Se)},be=me=>{const je=C.findIndex(se=>se.id===me);if(je>=C.length-1)return;const Se=[...C];[Se[je],Se[je+1]]=[Se[je+1],Se[je]],w(Se)},pe=me=>{E(me.id),k({name:me.name,color:me.color})},Ue=me=>{const ce=me.slice(0,37).split(" ");let xe="",ne="";for(const ie of ce){if(ie.length>12){ne&&(xe+=ne+`
`,ne="");for(let he=0;he<ie.length;he+=12){const Oe=ie.slice(he,he+12);xe+=Oe+`
`}continue}const Ae=ne?`${ne} ${ie}`:ie;Ae.length<=12?ne=Ae:(ne&&(xe+=ne+`
`),ne=ie)}return ne&&(xe+=ne),xe.trim()},De=()=>{if(R){if(!M.name.trim()){alert("Le nom du tier ne peut pas tre vide.");return}w(me=>me.map(je=>je.id===R?{...je,name:M.name.trim().slice(0,37),color:M.color}:je)),E(null)}},Le=()=>{E(null)},ze=me=>{const{name:je,value:Se}=me.target;k(se=>({...se,[je]:Se}))},V=(me,je,Se,se)=>{me.dataTransfer.setData("application/json",JSON.stringify({imageId:je,sourceTier:Se,sourceIndex:se})),B({imageId:je,sourceTier:Se,sourceIndex:se})},oe=(me,je,Se)=>{if(me.preventDefault(),!z)return;Q(!1);const se=me.currentTarget.getBoundingClientRect(),ce=me.clientX,xe=se.left+se.width/2,ne=ce<xe?"before":"after";Z({tierId:je,position:ne,imageId:Se??null})},Me=(me,je)=>{if(me.preventDefault(),!z)return;Q(!1);const Se=C.find(se=>se.id===je);Se&&Se.images.length===0&&Z({tierId:je,position:null,imageId:null})},ge=me=>{me.preventDefault(),!(!z||z.sourceTier==="unclassified")&&(Q(!0),Z(null))},Te=me=>{me.currentTarget.contains(me.relatedTarget)||(Z(null),Q(!1))},we=(me,je,Se)=>{if(me.preventDefault(),me.stopPropagation(),!z)return;Q(!1);const se=ke(z.imageId);if(!se){console.error("Image non trouve:",z.imageId);return}let ce=[...v];const xe=JSON.parse(JSON.stringify(C));if(z.sourceTier==="unclassified")ce=ce.filter(ie=>ie.id!==z.imageId);else{const ie=xe.findIndex(Ae=>Ae.id===z.sourceTier);ie!==-1&&(xe[ie].images=xe[ie].images.filter(Ae=>Ae.id!==z.imageId))}const ne=xe.findIndex(ie=>ie.id===je);if(ne===-1){console.error("Tier cible non trouv:",je);return}if(Se&&(D!=null&&D.position)){const ie=xe[ne].images.findIndex(Ae=>Ae.id===Se);if(ie!==-1){const Ae=D.position==="after"?ie+1:ie;xe[ne].images.splice(Ae,0,se.image)}else xe[ne].images.push(se.image)}else xe[ne].images.push(se.image);x(ce),w(xe),B(null),Z(null)},Ye=me=>{if(me.preventDefault(),me.stopPropagation(),!z||z.sourceTier==="unclassified")return;const je=ke(z.imageId);if(!je){console.error("Image non trouve:",z.imageId);return}const Se={...je.image};if(w(se=>se.map(ce=>ce.id===z.sourceTier?{...ce,images:ce.images.filter(xe=>xe.id!==z.imageId)}:ce)),x(se=>[...se,Se]),B(null),Z(null),Q(!1),I===z.imageId){for(const se of C)if(se.id!==z.sourceTier&&se.images.length>0){const ce=se.images[0].id;if(ce!==z.imageId){P(ce);return}}if(v.length>0){const se=v.find(ce=>ce.id!==z.imageId);P(se?se.id:null)}else P(null)}},pt=(me,je)=>{const Se=C.findIndex(xe=>xe.id===je);if(Se===-1)return;const se=C[Se].images.findIndex(xe=>xe.id===me);if(se===-1)return;const ce=JSON.parse(JSON.stringify(C[Se].images[se]));if(w(xe=>{const ne=[...xe];return ne[Se]={...ne[Se],images:ne[Se].images.filter(ie=>ie.id!==me)},ne}),x(xe=>[...xe,ce]),I===me){for(const xe of C)if(xe.id!==je&&xe.images.length>0){P(xe.images[0].id);return}v.length>0?P(v[0].id):P(null)}},ot=()=>{if(window.confirm("tes-vous sr de vouloir rinitialiser toutes les images ? Cette action ne peut pas tre annule.")){const me=[];C.forEach(Se=>{me.push(...Se.images)});const je=[...C].map(Se=>({...Se,images:[]}));w(je),x([...v,...me])}},cn=()=>{if(C.length>=15){alert("Vous avez atteint la limite maximale de 15 tiers.");return}const je={id:`tier${C.length+1}_${Date.now()}`,name:`Tier ${C.length+1}`,color:`#${Math.floor(Math.random()*16777215).toString(16)}`,images:[]};w(Se=>[...Se,je])},At=async()=>{if(window.confirm("tes-vous sr de vouloir supprimer dfinitivement cette tierlist ? Cette action ne peut pas tre annule.")){if(!s){alert("Impossible de supprimer: ID de tierlist manquant.");return}try{H(!0),await Er.deleteTierlist(parseInt(s)),_e(),localStorage.removeItem("tierlistImages"),alert("Tierlist supprime avec succs"),r("/profile")}catch(me){console.error("Erreur lors de la suppression de la tierlist:",me),alert("Une erreur est survenue lors de la suppression. Veuillez ressayer.")}finally{H(!1)}}},qt=me=>{if(C.length<=1){alert("Vous devez conserver au moins un tier.");return}if(!window.confirm("tes-vous sr de vouloir supprimer ce tier ? Toutes les images qu'il contient seront dplaces vers les images non classes."))return;const je=C.find(se=>se.id===me);if(!je)return;const Se=[...je.images];w(se=>se.filter(ce=>ce.id!==me)),Se.length>0&&x(se=>[...se,...Se]),R===me&&E(null)},Ft=async()=>{if(!y.trim()){alert("Veuillez donner un nom  votre tierlist.");return}H(!0);try{const me=parseInt(N);if(isNaN(me))throw new Error("ID d'album invalide");const je={name:y.trim(),description:(p==null?void 0:p.trim())||null,private:!G,id_album:me};if(!je.name)throw new Error("Le nom de la tierlist ne peut pas tre vide");if(isNaN(je.id_album)||je.id_album<=0)throw new Error(`ID d'album invalide: ${N} (converti en ${je.id_album})`);console.log("Donnes de tierlist  sauvegarder:",je);const Se=C.map(ce=>({label:ce.name.trim(),placement:C.indexOf(ce)+1,color:ce.color.replace("#",""),images:ce.images.map((xe,ne)=>({id:xe.id,id_image:parseInt(xe.id),placement:ne+1,disable:!1}))}));console.log("Structure des tiers  sauvegarder:",Se),console.log("Images non classes:",v.length);let se;l&&s?(se=await Er.updateCompleteTierlist(parseInt(s),je,Se,v),alert("Tierlist mise  jour avec succs!")):(se=await Er.saveTierlist(je,Se,v),_e(),localStorage.removeItem("tierlistImages"),alert("Tierlist sauvegarde avec succs!"),r(`/tierlists/edit/${se}`))}catch(me){console.error("Erreur lors de la sauvegarde de la tierlist:",me),alert("Une erreur est survenue lors de la sauvegarde. Veuillez ressayer.")}finally{H(!1)}},Ot=()=>{window.confirm("tes-vous sr de vouloir annuler ? Vos modifications seront perdues.")&&(_e(),r("/allalbum"))},gt=()=>{q(!1),localStorage.setItem("tierListInfoModalShown","true")},nn=()=>{S(!T)};return c.jsxs("div",{className:"tierlist-editor",children:[c.jsxs("div",{className:"tierlist-compact-header",children:[c.jsxs("div",{className:"tierlist-title",children:[c.jsx("h1",{children:y||(l?"Modifier la Tierlist":"Nouvelle Tierlist")}),c.jsx("button",{className:"edit-info-button",onClick:nn,title:"Modifier les informations",children:""})]}),c.jsxs("div",{className:"tierlist-actions",children:[c.jsxs("button",{className:"add-tier-button",onClick:cn,disabled:C.length>=15,title:C.length>=15?"Limite de 15 tiers atteinte":"Ajouter un nouveau tier",children:["Ajouter Tier (",C.length,"/15)"]}),c.jsx("button",{className:"reset-button",onClick:ot,children:"Rinitialiser"}),l&&c.jsx("button",{className:"cancel-button",onClick:At,disabled:U,style:{backgroundColor:"#e74c3c",color:"white"},children:U?"Suppression...":"Supprimer"}),c.jsx("button",{className:"save-button",onClick:Ft,disabled:U||!y.trim(),children:U?"Sauvegarde en cours...":l?"Mettre  jour":"Sauvegarder"}),c.jsx("button",{className:"cancel-button",onClick:Ot,disabled:U,children:"Annuler"})]})]}),F&&c.jsx("div",{className:"info-modal-overlay",children:c.jsxs("div",{className:"info-modal-content",children:[c.jsx("h2",{children:"Comment utiliser l'diteur de Tierlist"}),c.jsxs("div",{className:"info-content",children:[c.jsx("p",{children:"Bienvenue dans l'diteur de Tierlist de TierHub!"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Glisser-dposer"})," : Faites glisser les images vers les tiers de votre choix"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Double-clic"})," : Double-cliquez sur une image pour la retirer d'un tier"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Personnalisation"})," : Cliquez sur le nom d'un tier pour changer son nom et sa couleur"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Rorganisation"})," : Utilisez les flches  pour monter ou descendre un tier"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Ajout/Suppression"})," : Utilisez les boutons pour ajouter ou supprimer des tiers"]})]}),c.jsx("p",{children:"N'oubliez pas de remplir les informations et de sauvegarder votre tierlist!"}),c.jsxs("p",{children:[c.jsx("strong",{children:"Note"}),": Votre travail est automatiquement sauvegard toutes les 5 secondes. Vous pouvez recharger la page sans perdre vos modifications."]})]}),c.jsx("button",{className:"info-close-btn",onClick:gt,children:"Commencer"})]})}),c.jsx(Da,{isOpen:Y,onClose:tt,image:K}),c.jsxs("div",{className:`tierlist-sidebar ${T?"active":""}`,children:[c.jsxs("div",{className:"sidebar-header",children:[c.jsx("h2",{children:"Informations de la Tierlist"}),c.jsx("button",{className:"close-sidebar",onClick:nn,children:""})]}),c.jsxs("div",{className:"sidebar-content",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"tierlist-name",children:"Nom de la Tierlist"}),c.jsx("input",{type:"text",id:"tierlist-name",value:y,onChange:me=>g(me.target.value),placeholder:"Donnez un nom  votre tierlist",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"tierlist-description",children:"Description (optionnelle)"}),c.jsx("textarea",{id:"tierlist-description",value:p,onChange:me=>b(me.target.value),placeholder:"Dcrivez votre tierlist...",rows:4})]}),c.jsxs("div",{className:"form-group privacy-setting",children:[c.jsx("label",{children:"Confidentialit"}),c.jsxs("div",{className:"privacy-toggle",children:[c.jsx("span",{className:G?"":"active",children:"Priv"}),c.jsxs("label",{className:"switch",children:[c.jsx("input",{type:"checkbox",checked:G,onChange:()=>$(!G)}),c.jsx("span",{className:"slider"})]}),c.jsx("span",{className:G?"active":"",children:"Public"})]})]}),c.jsxs("div",{className:"sidebar-help",children:[c.jsx("h3",{children:"Aide"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Glissez les images vers les tiers souhaits"}),c.jsx("li",{children:"Double-cliquez sur une image pour la retirer"}),c.jsx("li",{children:'Vous pouvez aussi faire glisser une image vers la zone "Images non classes"'}),c.jsx("li",{children:"Cliquez sur le nom d'un tier pour le modifier"}),c.jsx("li",{children:"Utilisez les flches pour rordonner les tiers"}),c.jsxs("li",{children:[c.jsx("strong",{children:"Sauvegarde auto"}),": Votre travail est automatiquement sauvegard toutes les 5 secondes"]})]})]}),c.jsx("button",{className:"sidebar-save-button",onClick:Ft,disabled:U||!y.trim(),children:U?"Sauvegarde en cours...":l?"Mettre  jour la Tierlist":"Sauvegarder la Tierlist"})]})]}),c.jsxs("div",{className:`tierlist-main-content ${T?"with-sidebar":""}`,children:[c.jsx("div",{className:"tiers-container",children:C.map((me,je)=>c.jsxs("div",{className:"tier",onDragOver:Se=>Me(Se,me.id),onDragLeave:Te,onDrop:Se=>we(Se,me.id),children:[c.jsxs("div",{className:"tier-controls",children:[c.jsx("button",{className:"tier-move-button up",onClick:()=>ht(me.id),disabled:je===0,title:"Monter ce tier",children:""}),c.jsx("button",{className:"tier-move-button down",onClick:()=>be(me.id),disabled:je===C.length-1,title:"Descendre ce tier",children:""})]}),R===me.id?c.jsxs("div",{className:"tier-label-edit",style:{backgroundColor:M.color},children:[c.jsx("input",{type:"text",name:"name",value:M.name,onChange:ze,className:"edit-name-input",maxLength:37,autoFocus:!0}),c.jsx("input",{type:"color",name:"color",value:M.color,onChange:ze,className:"edit-color-input"}),c.jsxs("div",{className:"edit-buttons",children:[c.jsx("button",{onClick:De,className:"save-button",title:"Sauvegarder",children:""}),c.jsx("button",{onClick:Le,className:"cancel-button",title:"Annuler",children:""}),c.jsx("button",{onClick:()=>qt(me.id),className:"delete-button",title:"Supprimer tier",children:""})]})]}):c.jsx("div",{className:"tier-label",style:{backgroundColor:me.color},onClick:()=>pe(me),children:Ue(me.name).split(`
`).map((Se,se)=>c.jsx("div",{className:"tier-name-line",children:Se},se))}),c.jsxs("div",{className:"tier-content",onDragOver:Se=>Me(Se,me.id),onDragLeave:Te,onDrop:Se=>we(Se,me.id),children:[me.images.map(Se=>c.jsxs("div",{className:`tier-image ${(D==null?void 0:D.imageId)===Se.id?`drop-indicator drop-${D.position}`:""}`,draggable:!0,onDragStart:se=>V(se,Se.id,me.id,me.images.indexOf(Se)),onDragOver:se=>oe(se,me.id,Se.id),onDragLeave:Te,onDrop:se=>we(se,me.id,Se.id),onDoubleClick:()=>pt(Se.id,me.id),onClick:()=>Ge(Se),title:`${Se.name} (Double-cliquez pour retirer)`,children:[c.jsx("img",{src:Se.src,alt:Se.alt}),c.jsx("div",{className:"image-name",children:Se.name})]},Se.id)),me.images.length===0&&c.jsx("div",{className:"empty-tier-message",children:"Glissez des images ici"})]})]},me.id))}),c.jsxs("div",{className:`unclassified-container ${_?"drop-target":""}`,onDragOver:ge,onDragLeave:Te,onDrop:Ye,children:[c.jsx("h3",{children:"Images non classes"}),c.jsx("div",{className:"unclassified-images",children:v.length>0?v.map(me=>c.jsxs("div",{className:"tier-image",draggable:!0,onDragStart:je=>V(je,me.id,"unclassified",v.indexOf(me)),onClick:()=>Ge(me),title:`${me.name} (Glissez dans un tier)`,children:[c.jsx("img",{src:me.src,alt:me.alt}),c.jsx("div",{className:"image-name",children:me.name})]},me.id)):c.jsx("div",{className:"empty-unclassified-message",children:"Toutes les images sont classes!"})})]})]})]})};Nn.setAppElement("#root");const j0=({user:t})=>{const r=St(),i=Zt(),[s,l]=A.useState([]),[u,f]=A.useState([]),[m,y]=A.useState(null),[g,p]=A.useState(0),[b,v]=A.useState(0),[x,N]=A.useState([]),[O,C]=A.useState([]),[w,G]=A.useState(!1),[$,z]=A.useState(null),[B,D]=A.useState(0),[Z,R]=A.useState(0),[E,M]=A.useState(0),[k,U]=A.useState(0),[H,F]=A.useState(!1),[q,T]=A.useState(!1),[S,I]=A.useState(""),[P,_]=A.useState(""),[Q,Y]=A.useState(!0),[W,K]=A.useState(""),[J,ve]=A.useState(""),[Fe,_e]=A.useState(!1),[Ie,ke]=A.useState(!1),[Ge,tt]=A.useState(null),ht=se=>{tt(se),ke(!0)},be=()=>{ke(!1),tt(null)},[pe,Ue]=A.useState(()=>!localStorage.getItem("tournamentInfoModalShown")),[De,Le]=A.useState(!1),[ze,V]=A.useState(!1);A.useEffect(()=>{if(q)return;const se=new URLSearchParams(i.search),ce=se.get("album"),xe=se.get("images"),ne=se.get("name");if(!ce){r("/allalbum");return}K(ce),xe&&(localStorage.removeItem(`tournamentEditorState_${ce}`),console.log("Previous cache cleared for album:",ce));const ie=localStorage.getItem(`tournamentEditorState_${ce}`);if(ie)try{const he=JSON.parse(ie);if(he.albumId===ce&&he.allImages&&he.allImages.length>0){if(l(he.allImages),f(he.displayedImages||[]),y(he.selectedImageId),p(he.binome||0),v(he.trinome||0),N(he.currentRoundImages||[]),C(he.roundWinners||[]),G(he.tournamentFinished||!1),z(he.winner),D(he.currentRound||0),R(he.targetScore||0),M(he.maxRoundValue||0),U(he.currentMaxScore||0),F(he.duelsCompleted||!1),I(he.tournamentName||ne||""),_(he.tournamentDescription||""),Y(he.isPublic!==void 0?he.isPublic:!0),T(!0),console.log("State successfully restored from localStorage for album",ce),xe||ne){const Oe=`${window.location.pathname}?album=${ce}`;window.history.replaceState({},document.title,Oe)}return}}catch(he){console.error("Error restoring saved state",he),localStorage.removeItem(`tournamentEditorState_${ce}`)}if(ne&&I(ne),!xe){r("/allalbum");return}(async()=>{try{const he=JSON.parse(xe),Oe=await mo.getAlbumInfo(ce);ve(Oe.name);const Ce=(await mo.getAlbumImages(ce)).filter(lt=>he.includes(lt.id)).map(lt=>({id:lt.id,src:lt.src,name:lt.name,score:0}));if(Ce.length===0)throw new Error("No images selected");console.log("Images loaded for new tournament:",Ce),l(Ce),Ye(Ce),T(!0);const $e=`${window.location.pathname}?album=${ce}`;window.history.replaceState({},document.title,$e)}catch(he){console.error("Error loading images:",he),alert("Error loading images. Redirecting to album page."),r("/allalbum")}})()},[i,r,q]),A.useEffect(()=>{if(s.length>0&&W&&q){const se={albumId:W,allImages:s,displayedImages:u,selectedImageId:m,binome:g,trinome:b,currentRoundImages:x,roundWinners:O,tournamentFinished:w,winner:$,currentRound:B,targetScore:Z,maxRoundValue:E,currentMaxScore:k,duelsCompleted:H,tournamentName:S,tournamentDescription:P,isPublic:Q,lastSaved:new Date().toISOString()};try{localStorage.setItem(`tournamentEditorState_${W}`,JSON.stringify(se)),console.log("Tournament state saved to localStorage at",new Date().toLocaleTimeString())}catch(ce){console.error("Error saving tournament state to localStorage:",ce)}}},[q,W,s,u,m,g,b,x,O,w,$,B,Z,E,k,H,S,P,Q]),A.useEffect(()=>{if(H&&!w){const se=setTimeout(()=>{ot()},500);return()=>clearTimeout(se)}},[H,w]);const oe=se=>{let ce=0,xe=1;for(;xe*2<se;)xe*=2,ce+=1;return ce},Me=se=>se.length===0?0:se.reduce((ce,xe)=>xe.score>ce?xe.score:ce,se[0].score),ge=se=>{let ce=0,xe=1;for(;xe*2<=se;)xe*=2,ce+=1;return ce},Te=se=>{const ce=se.length;let xe=1;for(;xe*4<=ce;)xe*=2;let ne=0,ie=0;return ce===2*xe?ne=ce/2:ce===3*xe?ie=ce/3:ce<3*xe?(ne=3*xe-ce,ie=xe-ne):ce>3*xe&&(ce%3===0?ie=ce/3:ce%3===1?(ie=(ce-4)/3,ne=2):ce%3===2&&(ie=(ce-2)/3,ne=1)),{newBinome:ne,newTrinome:ie}},we=(se,ce,xe)=>{let ne=[],ie=ce,Ae=xe;if(se.length===0&&ce===0&&xe===0){F(!0);return}ce>0?(ne=se.splice(0,2),ie-=1):xe>0&&(ne=se.splice(0,3),Ae-=1),f(ne),N(se),p(ie),v(Ae),y(null),F(!1)},Ye=se=>{const ce=se.map(xe=>({...xe,score:0}));l(ce),C([]),G(!1),z(null),D(0),R(0),M(0),U(0),F(!1),f([]),y(null),N([]),p(0),v(0),console.log("Tournament initialized with images:",ce),pt(ce)},pt=se=>{const ce=[...se];F(!1);const xe=ge(ce.length);M(xe);const ne=Me(ce);U(ne);let ie;B===0?ie=[...ce]:ie=ce.filter(Ce=>Ce.score===ne);const Ae=ce.find(Ce=>Ce.score>=xe);if(ie.length<2&&B>0||Ae){console.log("Tournament finished condition met"),G(!0),z(Ae||ie[0]||null);return}const he=oe(ie.length);D(he),R(he);const{newBinome:Oe,newTrinome:Xe}=Te(ie);p(Oe),v(Xe),N([...ie]),C([]),we([...ie],Oe,Xe),console.log(`Round ${he} started with ${ie.length} images, ${Oe} binomes, ${Xe} trinomes`)},ot=()=>{F(!1);const se=ge(s.length);M(se);const ce=Me(s);U(ce);let xe;B===0?xe=s.map(Oe=>({...Oe,score:0})):xe=s.filter(Oe=>Oe.score===ce),console.log(`

allimage

`+s.find(Oe=>Oe.score));const ne=s.find(Oe=>Oe.score>=se);if(xe.length<2||ne){G(!0),z(ne||xe[0]||null);return}const ie=oe(xe.length);D(ie),R(ie);const{newBinome:Ae,newTrinome:he}=Te(xe);p(Ae),v(he),N([...xe]),C([]),we([...xe],Ae,he)},cn=se=>{y(se)},At=()=>{if(!m)return;const se=u.find(ce=>ce.id===m);if(se){const ce=s.map(Ae=>Ae.id===se.id?{...Ae,score:Ae.score+1}:Ae);l(ce);const xe=Me(ce);U(xe);const ne=[...O],ie=ne.findIndex(Ae=>Ae.id===se.id);ie!==-1?ne[ie].score+=1:ne.push({...se,score:se.score+1}),C(ne),x.length>0||g>0||b>0?we(x,g,b):F(!0)}},qt=()=>{if(!confirm("Voulez-vous vraiment redmarrer le tournoi ? Toute progression non sauvegarde sera perdue."))return;const se=s.map(ce=>({...ce,score:0}));l(se),f([]),y(null),N([]),C([]),p(0),v(0),G(!1),z(null),D(0),R(0),M(0),U(0),F(!1),_e(!1),localStorage.removeItem(`tournamentEditorState_${W}`),console.log("Tournament restarted and cache cleared"),Ye(se)},Ft=()=>{const se=ge(s.length),ce={};for(let xe=0;xe<=se;xe++)ce[xe]=[];return s.forEach(xe=>{const ne=xe.id===($==null?void 0:$.id)?0:se-xe.score;ce[ne].push(xe)}),ce},Ot=()=>{Le(!De)},gt=()=>{Ue(!1),localStorage.setItem("tournamentInfoModalShown","true")},nn=async()=>{if(!S.trim()){alert("Please give your tournament a name.");return}if(Fe){alert("Tournament has already been saved. Please restart to save again.");return}if(!t){alert("You need to be logged in to save a tournament.");return}V(!0);try{const se={name:S.trim(),description:P||"",private:!Q,id_album:Number(W),turn:B+1};console.log("Tournament data to save:",se);const ce=$?$.id:"",xe=await mo.saveTournament(se,s,ce);console.log("Tournament saved successfully. Tournament ID:",xe),me(),_e(!0),alert("Tournament saved successfully!")}catch(se){console.error("Error saving tournament:",se),alert("Error saving tournament. Please try again.")}finally{V(!1)}},me=()=>{localStorage.removeItem(`tournamentEditorState_${W}`),console.log("Local tournament state cleared after successful save")},je=()=>{window.confirm("Are you sure you want to cancel? Your progress will be lost.")&&(localStorage.removeItem("tournamentEditorState"),r("/allalbum"))},Se=()=>{if(!s.length)return!1;const se=Me(s),ce=s.filter(xe=>xe.score===se);return(ce.length===2||ce.length===3)&&B===oe(ce.length)};return c.jsxs("div",{className:"tournament-editor",children:[pe&&c.jsx("div",{className:"info-modal-overlay",children:c.jsxs("div",{className:"info-modal-content",children:[c.jsx("h2",{children:"How to Use the Tournament Editor"}),c.jsxs("div",{className:"info-content",children:[c.jsx("p",{children:"Welcome to the TierHub Tournament Editor!"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Tournament Format:"})," Images compete in head-to-head matches"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Selection:"})," Click on your favorite image in each match"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Rounds:"})," Continue through rounds until a winner emerges"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Customization:"})," Click on the edit button to change tournament details"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Results:"})," View final rankings when the tournament is complete"]})]}),c.jsx("p",{children:"Remember to fill in tournament information and save your tournament!"})]}),c.jsx("button",{className:"info-close-btn",onClick:gt,children:"Begin"})]})}),c.jsxs("div",{className:"tournament-compact-header",children:[c.jsxs("div",{className:"tournament-title",children:[c.jsx("h1",{children:S||"New Tournament"}),c.jsx("button",{className:"edit-info-button",onClick:Ot,title:"Edit tournament information",children:""})]}),c.jsxs("div",{className:"tournament-actions",children:[c.jsx("button",{className:"restart-button",onClick:()=>{qt(),_e(!1)},children:"Restart"}),w&&c.jsx("button",{className:"save-button",onClick:nn,disabled:ze||!S.trim()||Fe,children:ze?"Saving...":Fe?"Tournament Saved":"Save Tournament"}),c.jsx("button",{className:"cancel-button",onClick:je,disabled:ze,children:"Cancel"})]})]}),c.jsxs("div",{className:`tournament-sidebar ${De?"active":""}`,children:[c.jsxs("div",{className:"sidebar-header",children:[c.jsx("h2",{children:"Tournament Information"}),c.jsx("button",{className:"close-sidebar",onClick:Ot,children:""})]}),c.jsxs("div",{className:"sidebar-content",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"tournament-name",children:"Tournament Name"}),c.jsx("input",{type:"text",id:"tournament-name",value:S,onChange:se=>I(se.target.value),placeholder:"Give your tournament a name",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"tournament-description",children:"Description (optional)"}),c.jsx("textarea",{id:"tournament-description",value:P,onChange:se=>_(se.target.value),placeholder:"Describe your tournament...",rows:4})]}),c.jsxs("div",{className:"form-group privacy-setting",children:[c.jsx("label",{children:"Privacy"}),c.jsxs("div",{className:"privacy-toggle",children:[c.jsx("span",{className:Q?"":"active",children:"Private"}),c.jsxs("label",{className:"switch",children:[c.jsx("input",{type:"checkbox",checked:Q,onChange:()=>Y(!Q)}),c.jsx("span",{className:"slider"})]}),c.jsx("span",{className:Q?"active":"",children:"Public"})]})]}),c.jsxs("div",{className:"sidebar-help",children:[c.jsx("h3",{children:"Help"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Click on images to select winners"}),c.jsx("li",{children:"Winners advance to the next round"}),c.jsx("li",{children:"All images get scores based on performance"}),c.jsx("li",{children:"The tournament ends when a champion is determined"})]})]})]})]}),c.jsx("div",{className:`tournament-main-content ${De?"with-sidebar":""}`,children:w?c.jsxs("div",{className:"tournament-results",children:[c.jsx("h2",{children:"Tournament Complete!"}),$&&c.jsxs("div",{className:"winner-card",children:[c.jsx("h3",{children:"Champion"}),c.jsxs("div",{className:"winner-image",children:[c.jsx("img",{src:$.src,alt:$.name}),c.jsx("p",{className:"winner-name",children:$.name})]})]}),c.jsx("h3",{children:"Final Rankings"}),c.jsx("div",{className:"rankings-container",children:Object.entries(Ft()).sort(([se],[ce])=>parseInt(se)-parseInt(ce)).map(([se,ce])=>{if(ce.length===0)return null;let xe="";const ne=parseInt(se);ne===0?xe="Champion":ne===1?xe="Finalists":ne===2?xe="Semi-Finalists":xe=`Round Eliminated: ${se}`;let ie="round-group";return ne===0?ie+=" champion-group":ne===1?ie+=" finalist-group":ne===2&&(ie+=" semifinalist-group"),c.jsxs("div",{className:ie,children:[c.jsx("h4",{"data-count":`${ce.length} ${ce.length===1?"image":"images"}`,children:xe}),c.jsx("div",{className:"images-group",children:ce.map(Ae=>c.jsxs("div",{className:"result-image",onClick:()=>ht(Ae),style:{cursor:"pointer"},title:"Cliquez pour voir les dtails",children:[c.jsx("img",{src:Ae.src,alt:Ae.name}),c.jsx("p",{children:Ae.name})]},Ae.id))})]},se)})})]}):c.jsxs("div",{className:"tournament-active",children:[c.jsx("div",{className:"tournament-stats-row",children:c.jsx("div",{className:"tournament-stats",children:c.jsx("div",{className:"round-indicator",children:Se()?c.jsx("span",{className:"final-round",children:"FINAL"}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"round-label",children:"ROUND"}),c.jsx("span",{className:"round-value",children:B})]})})})}),c.jsxs("div",{className:"duel-area",children:[c.jsx("div",{className:"duel-instructions",children:u.length>0?m?c.jsx("p",{children:'Click "Next" to continue'}):c.jsx("p",{children:"Click on your favorite image to select the winner"}):H?c.jsx("p",{children:'Round complete! Click "Next Round" to continue'}):c.jsx("p",{children:"Setting up next match..."})}),c.jsxs("div",{className:"duel-container",children:[c.jsx("div",{className:"images-group",children:u.map(se=>c.jsxs("div",{className:`image-item ${m===se.id?"selected":""}`,onClick:()=>cn(se.id),onDoubleClick:()=>ht(se),title:`${se.name} (Double-cliquez pour voir les dtails)`,children:[c.jsx("img",{src:se.src,alt:se.name}),c.jsx("div",{className:"image-info",children:c.jsx("p",{className:"image-name",children:se.name})})]},se.id))}),c.jsx("div",{className:"large-next-button-container",children:H?c.jsx("button",{onClick:ot,className:"large-next-round-button",children:"Next Round"}):c.jsx("button",{onClick:At,disabled:!m,className:"large-next-button",children:"Next"})})]})]}),O.length>0&&c.jsxs("div",{className:"winners-section",children:[c.jsx("h3",{children:"Round Winners"}),c.jsx("div",{className:"winners-grid",children:O.map(se=>c.jsxs("div",{className:"winner-item",onClick:()=>ht(se),style:{cursor:"pointer"},title:"Cliquez pour voir les dtails",children:[c.jsx("img",{src:se.src,alt:se.name}),c.jsx("p",{className:"winner-name",children:se.name})]},se.id))})]})]})}),c.jsx(Da,{isOpen:Ie,onClose:be,image:Ge})]})},qR=async()=>{try{return(await Ne.get("/me")).data.data}catch(t){throw console.error("Error fetching user info:",t),t}};Nn.setAppElement("#root");const A0=({user:t})=>{const r=St(),i=Zt(),{id:s}=Ts(),[l,u]=A.useState(!1),[f,m]=A.useState(!1),[y,g]=A.useState(!1),[p,b]=A.useState([]),[v,x]=A.useState([]),[N,O]=A.useState([]),[C,w]=A.useState([]),[G,$]=A.useState([]),[z,B]=A.useState([]),[D,Z]=A.useState(1),[R,E]=A.useState(3),[M,k]=A.useState(6),[U,H]=A.useState(!1),[F,q]=A.useState(""),[T,S]=A.useState(""),[I,P]=A.useState(!0),[_,Q]=A.useState(""),[Y,W]=A.useState(""),[K,J]=A.useState(!1),[ve,Fe]=A.useState(null),[_e,Ie]=A.useState(!1),[ke,Ge]=A.useState(!1),[tt,ht]=A.useState(!1),[be,pe]=A.useState(!1),[Ue,De]=A.useState(!1),[Le,ze]=A.useState(null),V="ranking-editor-save";A.useEffect(()=>{if(_e)return;if(s){u(!0),oe(s);return}const ne=new URLSearchParams(i.search),ie=ne.get("album"),Ae=ne.get("images"),he=ne.get("name");if(!ie){r("/allalbum");return}Q(ie),Ae&&(localStorage.removeItem(`${V}_${ie}`),console.log("Previous cache cleared for album:",ie));const Oe=localStorage.getItem(`${V}_${ie}`);if(Oe&&!Ae)try{const Ce=JSON.parse(Oe);if(Ce.albumId===ie&&Ce.allImages&&Ce.allImages.length>0){x(Ce.allImages),O(Ce.currentImages||[]),$(Ce.rankedImages||[]),B(Ce.remainingImages||[]),Z(Ce.round||1),E(Ce.maxSelectable||3),k(Ce.initialDisplayCount||6),H(Ce.isQualificationPhase||!1),q(Ce.rankingName||he||""),S(Ce.rankingDescription||""),P(Ce.isPublic!==void 0?Ce.isPublic:!0),W(Ce.albumName||""),b(Ce.allImages.map(lt=>({...lt,score:0,viewed:0}))),Ie(!0),console.log("State successfully restored from localStorage for album",ie);const $e=`${window.location.pathname}?album=${ie}`;window.history.replaceState({},document.title,$e);return}}catch(Ce){console.error("Error restoring saved state",Ce),localStorage.removeItem(`${V}_${ie}`)}if(he&&q(he),!Ae){r("/allalbum");return}(async()=>{try{const Ce=JSON.parse(Ae),$e=await Jr.getAlbumInfo(ie);W($e.name);const nt=(await Jr.getAlbumImages(ie)).filter(dt=>Ce.includes(dt.id)).map(dt=>({id:dt.id,src:dt.src,name:dt.name,score:0,viewed:0,description:dt.description,url:dt.url}));if(nt.length===0)throw new Error("No images selected");console.log("Images loaded for new ranking:",nt),b([...nt]),Me(nt),Ie(!0);const vt=`${window.location.pathname}?album=${ie}`;window.history.replaceState({},document.title,vt)}catch(Ce){console.error("Error loading images:",Ce),alert("Error loading images. Redirecting to album page."),r("/allalbum")}})()},[i,r,_e,s]);const oe=async ne=>{var ie,Ae,he,Oe,Xe,Ce;try{m(!0),console.log(`Loading existing ranking ${ne} for edit mode`);const $e=`${V}_edit_${ne}`,lt=localStorage.getItem($e),nt=await Jr.getRankingById(Number(ne));console.log("Ranking data loaded:",nt);try{const Ze=await qR(),Nt=(ie=Ze==null?void 0:Ze.id)==null?void 0:ie.toString();if(console.log("Current user ID:",Nt),console.log("Ranking author ID:",(he=(Ae=nt.author)==null?void 0:Ae.id)==null?void 0:he.toString()),!Nt||((Xe=(Oe=nt.author)==null?void 0:Oe.id)==null?void 0:Xe.toString())!==Nt){alert("Vous n'tes pas autoris  modifier ce classement."),r(`/classements/${ne}`);return}}catch(Ze){console.error("Error getting current user:",Ze),alert("Erreur lors de la vrification des autorisations."),r(`/classements/${ne}`);return}let vt;if((Ce=nt.album)!=null&&Ce.id)vt=nt.album.id.toString();else if(nt.id_album)vt=nt.id_album.toString();else throw new Error("Cannot find album ID in ranking data");console.log("Using album ID:",vt);const dt=await Jr.getAlbumInfo(vt);if(W(dt.name),Q(vt),q(nt.name),S(nt.description||""),P(!nt.private),J(!0),Fe(Number(ne)),lt)try{const Ze=JSON.parse(lt);console.log("Found cached edit state, restoring session..."),x(Ze.allImages),O(Ze.currentImages||[]),$(Ze.rankedImages||[]),B(Ze.remainingImages||[]),Z(Ze.round||1),E(Ze.maxSelectable||3),k(Ze.initialDisplayCount||6),H(Ze.isQualificationPhase||!1),w([]),b(Ze.allImages.map(Nt=>({...Nt,score:0,viewed:0}))),Ie(!0),console.log("Edit session restored from cache");return}catch(Ze){console.error("Error restoring cached edit state:",Ze),localStorage.removeItem($e)}console.log("No valid cache found, loading fresh from database...");const Dt=await Jr.getAlbumImages(vt);console.log("All album images loaded:",Dt);const zt=[];if(nt.rankingImage&&nt.rankingImage.length>0&&(console.log("Raw rankingImage data:",nt.rankingImage),nt.rankingImage.forEach(Ze=>{if(Ze.image){const Nt=Ze.points>0?-Ze.points:0;zt.push({id:Ze.image.id.toString(),src:Ze.image.path_image,name:Ze.image.name,description:Ze.image.description,url:Ze.image.url,score:Nt,points:Ze.points,viewed:Ze.viewed||2}),console.log(`Image ${Ze.image.name}: points=${Ze.points}, viewed=${Ze.viewed}, converted score=${Nt}`)}})),console.log("Ranking images extracted from main data:",zt),Dt.length>0){const Ze=Dt.map(Qe=>{const fn=zt.find(ws=>ws.id===Qe.id);return fn?{id:Qe.id,src:Qe.src,name:Qe.name,score:fn.score,viewed:fn.viewed||2,description:Qe.description,url:Qe.url}:{id:Qe.id,src:Qe.src,name:Qe.name,score:0,viewed:0,description:Qe.description,url:Qe.url}}),Nt=Ze.filter(Qe=>Qe.score<0);Nt.sort((Qe,fn)=>Qe.score-fn.score);const Mt=Ze.filter(Qe=>Qe.score>=0);if(x(Ze),$(Nt),b(Ze.map(Qe=>({...Qe,score:0,viewed:0}))),console.log("Edit mode setup completed:",{totalImages:Ze.length,rankedImages:Nt.length,unrankedImages:Mt.length,rankedImagesList:Nt.map(Qe=>({id:Qe.id,name:Qe.name,score:Qe.score})),unrankedImagesList:Mt.map(Qe=>({id:Qe.id,name:Qe.name,score:Qe.score}))}),Mt.length>0){console.log(`Fresh load: ${Mt.length} unranked images - waiting for user to start`);const{display:Qe,selectable:fn}=ot(Mt.length);E(fn),k(Qe),Z(1),H(!1),O([]),B([]),w([])}else console.log("All images are already ranked - no need to start ranking process"),O([]),B([]),w([]),Z(1),H(!1)}Ie(!0)}catch($e){console.error("Error loading existing ranking:",$e),alert("Erreur lors du chargement du classement. Redirection vers la liste."),r("/profile")}finally{m(!1)}},Me=ne=>{console.log(`startNewRanking called with ${ne.length} images`);const{display:ie,selectable:Ae}=ot(ne.length),he=Ye([...ne]),Xe=he.slice(0,ie).map($e=>({...$e,viewed:$e.viewed+1})),Ce=ne.map($e=>Xe.find(nt=>nt.id===$e.id)||$e);x(Ce),O(Xe),B(he.slice(ie)),$([]),w([]),Z(1),E(Ae),k(ie),H(!1),setTimeout(()=>{At()},0)},ge=()=>{if(!l)return;console.log("Starting new ranking process in edit mode");const ne=v.filter($e=>$e.score>=0);if(ne.length===0){console.log("No unranked images to process");return}const{display:ie,selectable:Ae}=ot(ne.length),he=Ye([...ne]),Oe=he.slice(0,Math.min(ie,he.length)),Xe=Oe.map($e=>({...$e,viewed:$e.viewed+1})),Ce=v.map($e=>Xe.find(nt=>nt.id===$e.id)||$e);x(Ce),O(Xe),B(he.slice(Oe.length)),w([]),Z(1),E(Ae),k(ie),H(!1),console.log(`Started ranking process with ${Oe.length} current images and ${he.slice(Oe.length).length} remaining`),Te()},Te=()=>{if(!l||!s)return;const ne={allImages:v,rankedImages:G,currentImages:N,remainingImages:z,round:D,maxSelectable:R,initialDisplayCount:M,isQualificationPhase:U,rankingName:F,rankingDescription:T,isPublic:I,albumId:_,albumName:Y},ie=`${V}_edit_${s}`;localStorage.setItem(ie,JSON.stringify(ne)),console.log("Edit session saved for ranking",s)},we=()=>{if(!l||!s)return;console.log("Resetting ranking in edit mode");const ne=p.map(Oe=>({...Oe,score:0,viewed:0}));x(ne),$([]),O([]),B([]),w([]),Z(1),H(!1);const ie=`${V}_edit_${s}`;localStorage.removeItem(ie);const{display:Ae,selectable:he}=ot(ne.length);E(he),k(Ae)},Ye=ne=>{const ie=[...ne];for(let Ae=ie.length-1;Ae>0;Ae--){const he=Math.floor(Math.random()*(Ae+1));[ie[Ae],ie[he]]=[ie[he],ie[Ae]]}return ie},pt=(ne,ie)=>Math.floor(Math.random()*(ie-ne+1))+ne,ot=ne=>{let ie,Ae;return ne<=20?(ie=2,Ae=1):ne<=150?(ie=6,Ae=ie-1):ne<=300?(ie=12,Ae=ie-1):(ie=20,Ae=ie-1),{display:ie,selectable:Ae}},cn=ne=>ne===0?0:ne===1?1:pt(2,Math.min(4,ne)),At=()=>{if(l)return;const ne={allImages:v,rankedImages:G,currentImages:N,remainingImages:z,round:D,maxSelectable:R,initialDisplayCount:M,isQualificationPhase:U,rankingName:F,rankingDescription:T,isPublic:I,albumId:_,albumName:Y};localStorage.setItem(`${V}_${_}`,JSON.stringify(ne)),console.log("Ranking automatically saved")};A.useEffect(()=>{_e&&v.length>0&&!f&&(l?N.length>0&&Te():At())},[v,G,N,z,D,R,M,U,F,T,I,_e,l,f]);const qt=ne=>{C.some(Ae=>Ae.id===ne.id)?w(Ae=>Ae.filter(he=>he.id!==ne.id)):C.length<R&&w(Ae=>[...Ae,ne])},Ft=()=>{if(C.length===0)return;let ne=JSON.parse(JSON.stringify(v));ne=ne.map(Oe=>C.some(Ce=>Ce.id===Oe.id)?{...Oe,score:Oe.score+1}:Oe),console.log("Images after selection:",ne.filter(Oe=>C.some(Xe=>Xe.id===Oe.id)));let ie=ne.filter(Oe=>Oe.score>=5&&!G.some(Xe=>Xe.id===Oe.id));if(ie.length>0){const Xe=[...G,...ie].map((Ce,$e)=>({...Ce,score:-($e+1)}));ne=ne.map(Ce=>{const $e=Xe.findIndex(lt=>lt.id===Ce.id);return $e!==-1?{...Ce,score:-($e+1)}:Ce}),$(Xe)}x(ne);const Ae=N.map(Oe=>ne.find(Ce=>Ce.id===Oe.id)||Oe),he=ne.filter(Oe=>Oe.score>=0);Ot(Ae,z,he,ne),w([])},Ot=(ne,ie,Ae,he)=>{if(ie.length>0&&!U){const Xe=ie.slice(0,Math.min(M,ie.length)).map($e=>{const lt=he.find(nt=>nt.id===$e.id);return{...$e,viewed:$e.viewed+1,score:lt?lt.score:$e.score}}),Ce=[...he];Xe.forEach($e=>{const lt=Ce.findIndex(nt=>nt.id===$e.id);lt!==-1&&(Ce[lt]={...Ce[lt],viewed:$e.viewed})}),x(Ce),O(Xe),B(ie.slice(Math.min(M,ie.length))),ie.length<=M&&Z($e=>$e+1)}else if(Ae.every(Xe=>Xe.viewed>=2)||U){H(!0);const Xe=Ae.filter(Ce=>Ce.score>0);if(Xe.length>0){const $e=[...Ye([...Xe])].sort((zt,Ze)=>zt.viewed-Ze.viewed),lt=cn($e.length),nt=Math.max(1,lt-1);E(nt);const dt=$e.slice(0,lt).map(zt=>{const Ze=he.find(Nt=>Nt.id===zt.id);return{...zt,viewed:zt.viewed+1,score:Ze?Ze.score:zt.score}}),Dt=[...he];dt.forEach(zt=>{const Ze=Dt.findIndex(Nt=>Nt.id===zt.id);Ze!==-1&&(Dt[Ze]={...Dt[Ze],viewed:zt.viewed})}),x(Dt),O(dt),B($e.slice(lt))}else{const Ce=Ae.filter($e=>$e.score===0);if(Ce.length>0){const $e=Ye([...Ce]);H(!1);const nt=$e.slice(0,Math.min(M,$e.length)).map(dt=>{const Dt=he.find(zt=>zt.id===dt.id);return{...dt,viewed:dt.viewed+1,score:Dt?Dt.score:dt.score}}),vt=[...he];nt.forEach(dt=>{const Dt=vt.findIndex(zt=>zt.id===dt.id);Dt!==-1&&(vt[Dt]={...vt[Dt],viewed:dt.viewed})}),E(M-1),x(vt),O(nt),B($e.slice(Math.min(M,$e.length))),Z(1)}else O([])}}else{Z(vt=>vt+1);const Ce=[...Ye([...Ae])].sort((vt,dt)=>vt.viewed-dt.viewed),lt=Ce.slice(0,Math.min(M,Ce.length)).map(vt=>{const dt=he.find(Dt=>Dt.id===vt.id);return{...vt,viewed:vt.viewed+1,score:dt?dt.score:vt.score}}),nt=[...he];lt.forEach(vt=>{const dt=nt.findIndex(Dt=>Dt.id===vt.id);dt!==-1&&(nt[dt]={...nt[dt],viewed:vt.viewed})}),x(nt),O(lt),B(Ce.slice(Math.min(M,Ce.length)))}},gt=()=>{const ne=p.map(ie=>({...ie,score:0,viewed:0}));localStorage.removeItem(`${V}_${_}`),x(ne),$([]),O([]),B([]),w([]),Z(1),Me(ne)},nn=async()=>{if(!t||!F.trim()){alert("Veuillez vous connecter et donner un nom  votre classement.");return}if(v.filter(ie=>ie.score>0).length===0){alert("Aucune progression  sauvegarder. Slectionnez au moins quelques images d'abord.");return}try{pe(!0);const ie={name:F.trim(),description:T.trim()||null,private:!I,id_album:Number(_)};let Ae;if(l&&s?(console.log("Updating existing ranking:",s),Ae=await Jr.updateRanking(Number(s),ie,v)):Ae=await Jr.saveRanking(ie,v),console.log("Classement sauvegard avec succs, ID:",Ae),J(!0),Fe(Ae),l)alert("Classement mis  jour avec succs !");else{u(!0),localStorage.removeItem(`${V}_${_}`);const he=`/classements/edit/${Ae}`;window.history.pushState({},document.title,he),alert("Classement sauvegard avec succs ! Vous pouvez maintenant continuer  le modifier.")}}catch(ie){console.error("Erreur lors de la sauvegarde:",ie),alert("Erreur lors de la sauvegarde du classement. Veuillez ressayer.")}finally{pe(!1)}},me=ne=>{ze(ne),De(!0)},je=()=>{De(!1),ze(null)};A.useEffect(()=>{!l&&_e&&N.length>0&&D===1?localStorage.getItem("rankingInfoModalShown")||Ge(!0):l&&_e&&!localStorage.getItem("rankingInfoModalShown")&&v.length>0&&Ge(!0)},[l,_e,N.length,D,v.length]);const Se=()=>{Ge(!1),localStorage.setItem("rankingInfoModalShown","true")};if(!_e||f)return c.jsx("div",{className:"ranking-editor-container",children:c.jsxs("div",{className:"ranking-editor-loading",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:f?"Chargement du classement...":"Initialisation..."})]})});const se=v.filter(ne=>ne.score>=0).length,ce=se>0,xe=N.length>0;return c.jsxs("div",{className:"ranking-editor-container",children:[c.jsxs("div",{className:"ranking-editor-header",children:[c.jsx("h1",{children:l?"Modifier le Classement":"diteur de Classement"}),c.jsxs("div",{className:"ranking-editor-actions",children:[c.jsx("button",{className:"ranking-editor-button secondary",onClick:()=>ht(!tt),children:tt?"Masquer":"Paramtres"}),l&&c.jsxs(c.Fragment,{children:[ce&&!xe&&c.jsx("button",{className:"ranking-editor-button primary",onClick:ge,children:"Commencer le Classement"}),ce&&c.jsx("button",{className:"ranking-editor-button danger",onClick:we,children:"Remettre  Zro"})]}),!l&&c.jsx("button",{className:"ranking-editor-button danger",onClick:gt,children:"Recommencer"}),K&&c.jsx("button",{className:"ranking-editor-button secondary",onClick:()=>r(`/classements/${ve||s}`),children:"Voir le Rsultat"}),c.jsx("button",{className:"ranking-editor-button primary",onClick:nn,disabled:be||!t||v.filter(ne=>ne.score>0).length===0,children:be?"Sauvegarde...":l?"Mettre  jour":(G.length>0,"Sauvegarder Progression")})]})]}),tt&&c.jsxs("div",{className:"ranking-editor-sidebar",children:[c.jsxs("div",{className:"sidebar-section",children:[c.jsx("h3",{children:"Informations du Classement"}),c.jsxs("div",{className:"input-group",children:[c.jsx("label",{children:"Nom du classement:"}),c.jsx("input",{type:"text",value:F,onChange:ne=>q(ne.target.value),placeholder:"Nom de votre classement"})]}),c.jsxs("div",{className:"input-group",children:[c.jsx("label",{children:"Description (optionnelle):"}),c.jsx("textarea",{value:T,onChange:ne=>S(ne.target.value),placeholder:"Description de votre classement",rows:3})]}),c.jsx("div",{className:"input-group",children:c.jsxs("label",{className:"checkbox-container",children:[c.jsx("input",{type:"checkbox",checked:I,onChange:ne=>P(ne.target.checked)}),c.jsx("span",{className:"checkmark"}),"Classement public"]})})]}),c.jsxs("div",{className:"sidebar-section",children:[c.jsxs("h3",{children:["Album: ",Y]}),c.jsxs("p",{children:["Images totales: ",v.length]}),c.jsxs("p",{children:["Images classes: ",G.length]}),c.jsxs("p",{children:["Images non classes: ",se]}),l&&c.jsxs("p",{children:["Status: ",xe?"Classement en cours":ce?"Prt  classer":"Classement termin"]})]})]}),l&&!xe&&ce&&c.jsx("div",{className:"ranking-status-info",children:c.jsxs("p",{children:[" Mode dition: ",se," image",se>1?"s":""," non classe",se>1?"s":"",'. Cliquez sur "Commencer le Classement" pour continuer.']})}),N.length>0&&c.jsxs("div",{className:"ranking-round-info",children:[c.jsxs("p",{children:["Round: ",D]}),c.jsxs("p",{children:["Slectionnez jusqu' ",R," images (",C.length,"/",R,")"]}),c.jsxs("p",{children:["Affichage de ",N.length," images"]}),c.jsxs("p",{children:["Restantes dans ce round: ",z.length]}),U&&c.jsx("p",{className:"qualification-phase",children:"Phase de Qualification"})]}),N.length>0&&c.jsxs("div",{className:"ranking-current-section",children:[c.jsx("h2",{children:"Images  Classer"}),c.jsx("div",{className:"ranking-images-grid",children:N.map(ne=>c.jsxs("div",{className:`ranking-image-item ${C.some(ie=>ie.id===ne.id)?"selected":""}`,onClick:()=>qt(ne),children:[c.jsx("img",{src:ne.src,alt:`Image ${ne.id}`}),c.jsx("div",{className:"ranking-image-info",children:c.jsxs("p",{className:"view-count",children:[" ",ne.viewed," vue",ne.viewed>1?"s":""]})}),c.jsx("button",{className:"ranking-image-details",onClick:ie=>{ie.stopPropagation(),me(ne)},children:"i"})]},ne.id))}),c.jsx("div",{className:"ranking-actions",children:c.jsx("button",{className:"ranking-validate-button",onClick:Ft,disabled:C.length===0,children:"Valider la Slection"})})]}),G.length>0&&c.jsxs("div",{className:"ranking-ranked-section",children:[c.jsxs("div",{className:"ranking-section-header",children:[c.jsx("h2",{children:" Images Classes (Score de 5+)"}),c.jsxs("span",{className:"ranking-count",children:[G.length," image",G.length>1?"s":""," classe",G.length>1?"s":""]})]}),c.jsx("div",{className:"ranking-ranked-grid",children:G.map((ne,ie)=>c.jsxs("div",{className:"ranking-ranked-item",onClick:()=>me(ne),children:[c.jsxs("div",{className:"ranking-position",children:[c.jsxs("span",{className:"position-number",children:["#",ie+1]}),ie<3&&c.jsx("span",{className:"trophy-icon",children:ie===0?"":ie===1?"":""})]}),c.jsx("img",{src:ne.src,alt:`Image ${ne.id}`}),c.jsxs("div",{className:"ranking-ranked-info",children:[c.jsx("p",{className:"image-name",children:ne.name}),c.jsxs("div",{className:"ranking-stats",children:[c.jsxs("span",{className:"rank-badge",children:["Rang #",ie+1]}),c.jsxs("span",{className:"views",children:[" ",ne.viewed]})]})]})]},ne.id))})]}),c.jsxs(Nn,{isOpen:ke,onRequestClose:Se,className:"ranking-info-modal",overlayClassName:"ranking-modal-overlay",children:[c.jsxs("div",{className:"ranking-modal-header",children:[c.jsx("h2",{children:"Comment fonctionne le Classement"}),c.jsx("button",{className:"close-button",onClick:Se,children:""})]}),c.jsxs("div",{className:"ranking-modal-content",children:[c.jsx("h3",{children:" Comment fonctionne le classement ?"}),c.jsxs("p",{children:["Vous voyez devant vous un lot d'images de votre album. Votre mission : ",c.jsx("strong",{children:"slectionner vos prfres !"})]}),c.jsx("h3",{children:"  chaque tour :"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Cliquez sur vos images favorites"})," (vous pouvez en choisir plusieurs)"]}),c.jsxs("li",{children:[" Chaque image slectionne gagne ",c.jsx("strong",{children:"1 point"})]}),c.jsxs("li",{children:[" Ds qu'une image atteint ",c.jsx("strong",{children:"5 points"}),", elle est automatiquement classe !"]}),c.jsx("li",{children:" Un nouveau lot d'images apparat, et a continue..."})]}),c.jsx("h3",{children:" Le truc en plus :"}),c.jsxs("div",{className:"ranking-modal-tip",children:[c.jsx("p",{children:" Plus vous avancez, plus le choix devient difficile car il ne reste que les meilleures images !"}),c.jsxs("p",{children:[" ",c.jsx("strong",{children:"Vous pouvez sauvegarder  tout moment"})," et reprendre plus tard depuis votre profil."]})]}),c.jsx("div",{className:"ranking-modal-ready",children:c.jsx("strong",{children:" Prt(e) ? C'est parti !"})})]}),c.jsx("div",{className:"ranking-modal-actions",children:c.jsx("button",{className:"ranking-modal-button",onClick:Se,children:"Commencer le Classement"})})]}),Le&&c.jsx(Da,{isOpen:Ue,onClose:je,image:{...Le,src:Le.src}})]})},GR=async t=>{try{return(await Ne.post("/forgot-password",{email:t})).data}catch(r){throw console.error("Error requesting password reset:",r),r}},YR=async(t,r)=>{try{return(await Ne.post("/reset-password",{token:t,password:r})).data}catch(i){throw console.error("Error resetting password:",i),i}},ZR=async t=>{try{return(await Ne.get(`/verify-reset-token?token=${t}`)).data}catch(r){throw console.error("Error verifying reset token:",r),r}},XR=()=>{const[t,r]=A.useState(""),[i,s]=A.useState(""),[l,u]=A.useState(!1),[f,m]=A.useState(!1),[y,g]=A.useState(!1),p=St(),b=async v=>{var x,N,O;if(v.preventDefault(),s(""),u(!1),!t||!t.includes("@")){u(!0),s("Veuillez entrer une adresse email valide.");return}m(!0);try{await GR(t),g(!0),s("Un email de rinitialisation a t envoy si l'adresse existe dans notre systme."),u(!1)}catch(C){if(console.error("Error in password reset request:",C),u(!0),((x=C.response)==null?void 0:x.status)===400){const w=(O=(N=C.response)==null?void 0:N.data)==null?void 0:O.message;w!=null&&w.includes("domain")?s("L'adresse email est invalide ou le domaine ne peut pas recevoir d'emails."):w!=null&&w.includes("not found")?s("Aucun compte n'est associ  cette adresse email."):s("Veuillez vrifier l'adresse email saisie.")}else s("Une erreur est survenue. Veuillez ressayer plus tard.")}finally{m(!1)}};return c.jsxs("div",{className:"auth-container",children:[c.jsx("h2",{children:"Mot de passe oubli"}),i&&c.jsx("p",{className:l?"error-message":"success-message",children:i}),y?c.jsxs("div",{className:"confirmation-message",children:[c.jsx("p",{children:"Un email a t envoy avec les instructions pour rinitialiser votre mot de passe. Vrifiez votre bote de rception (et ventuellement vos spams)."}),c.jsx("button",{onClick:()=>p("/login"),className:"back-to-login",children:"Retour  la connexion"})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"auth-description",children:"Entrez votre adresse email et nous vous enverrons un lien pour rinitialiser votre mot de passe."}),c.jsxs("form",{onSubmit:b,children:[c.jsx("input",{type:"email",placeholder:"Adresse email",value:t,onChange:v=>r(v.target.value),required:!0,disabled:f}),c.jsx("button",{type:"submit",disabled:f,children:f?"Traitement en cours...":"Envoyer le lien"})]})]}),c.jsx("p",{children:c.jsx("a",{href:"/login",children:"Retour  la connexion"})})]})},QR=()=>{const[t,r]=A.useState(""),[i,s]=A.useState(""),[l,u]=A.useState(""),[f,m]=A.useState(""),[y,g]=A.useState(!1),[p,b]=A.useState(!1),[v,x]=A.useState(!0),[N,O]=A.useState(!1),C=St(),w=Zt();A.useEffect(()=>{const z=new URLSearchParams(w.search).get("token");if(!z){x(!1),g(!0),m("Lien de rinitialisation invalide ou expir. Veuillez demander un nouveau lien.");return}u(z),(async()=>{try{await ZR(z),x(!0)}catch(D){console.error("Token verification failed:",D),x(!1),g(!0),m("Ce lien de rinitialisation est invalide ou a expir. Veuillez demander un nouveau lien.")}})()},[w]);const G=async $=>{var z,B;if($.preventDefault(),m(""),g(!1),t!==i){g(!0),m("Les mots de passe ne correspondent pas.");return}if(t.length<8){g(!0),m("Le mot de passe doit contenir au moins 8 caractres.");return}b(!0);try{await YR(l,t),O(!0),m("Votre mot de passe a t rinitialis avec succs !"),setTimeout(()=>{C("/login")},3e3)}catch(D){console.error("Error resetting password:",D),g(!0),m(((B=(z=D.response)==null?void 0:z.data)==null?void 0:B.message)||"Une erreur est survenue lors de la rinitialisation du mot de passe.")}finally{b(!1)}};return v?N?c.jsxs("div",{className:"auth-container",children:[c.jsx("h2",{children:"Rinitialisation russie"}),c.jsx("p",{className:"success-message",children:f}),c.jsx("p",{children:"Vous allez tre redirig vers la page de connexion..."}),c.jsx("button",{onClick:()=>C("/login"),className:"primary-button",children:"Aller  la connexion"})]}):c.jsxs("div",{className:"auth-container",children:[c.jsx("h2",{children:"Rinitialisation de mot de passe"}),f&&c.jsx("p",{className:y?"error-message":"success-message",children:f}),c.jsxs("form",{onSubmit:G,children:[c.jsx("input",{type:"password",placeholder:"Nouveau mot de passe",value:t,onChange:$=>r($.target.value),required:!0,disabled:p,minLength:8}),c.jsx("input",{type:"password",placeholder:"Confirmer le nouveau mot de passe",value:i,onChange:$=>s($.target.value),required:!0,disabled:p,minLength:8}),c.jsx("button",{type:"submit",disabled:p,children:p?"Rinitialisation en cours...":"Rinitialiser le mot de passe"})]}),c.jsx("p",{children:c.jsx("a",{href:"/login",children:"Retour  la connexion"})})]}):c.jsxs("div",{className:"auth-container",children:[c.jsx("h2",{children:"Rinitialisation de mot de passe"}),c.jsx("p",{className:"error-message",children:f}),c.jsx("button",{onClick:()=>C("/forgot-password"),className:"primary-button",children:"Demander un nouveau lien"}),c.jsx("p",{children:c.jsx("a",{href:"/login",children:"Retour  la connexion"})})]})},KR=()=>{const[t,r]=A.useState(""),[i,s]=A.useState(""),[l,u]=A.useState(""),[f,m]=A.useState(""),[y,g]=A.useState(!1),[p,b]=A.useState(!1),v=St(),x=async N=>{var O,C;if(N.preventDefault(),m(""),g(!1),i!==l){g(!0),m("Les nouveaux mots de passe ne correspondent pas.");return}if(i.length<8){g(!0),m("Le nouveau mot de passe doit contenir au moins 8 caractres.");return}if(t===i){g(!0),m("Le nouveau mot de passe doit tre diffrent de l'ancien.");return}b(!0);try{await Ne.put("/new-password",{current_password:t,new_password:i}),m("Votre mot de passe a t modifi avec succs. Veuillez vous reconnecter."),g(!1),r(""),s(""),u(""),setTimeout(()=>{localStorage.removeItem("token"),v("/login")},3e3)}catch(w){console.error("Error changing password:",w),g(!0),m(((C=(O=w.response)==null?void 0:O.data)==null?void 0:C.message)||"Une erreur est survenue. Veuillez vrifier votre mot de passe actuel et ressayer.")}finally{b(!1)}};return c.jsxs("div",{className:"auth-container",children:[c.jsx("h2",{children:"Changer votre mot de passe"}),f&&c.jsx("p",{className:y?"error-message":"success-message",children:f}),c.jsxs("form",{onSubmit:x,children:[c.jsx("input",{type:"password",placeholder:"Mot de passe actuel",value:t,onChange:N=>r(N.target.value),required:!0,disabled:p}),c.jsx("input",{type:"password",placeholder:"Nouveau mot de passe",value:i,onChange:N=>s(N.target.value),required:!0,disabled:p,minLength:8}),c.jsx("input",{type:"password",placeholder:"Confirmer le nouveau mot de passe",value:l,onChange:N=>u(N.target.value),required:!0,disabled:p,minLength:8}),c.jsx("button",{type:"submit",disabled:p,children:p?"Traitement en cours...":"Changer le mot de passe"})]}),c.jsx("p",{children:c.jsx("a",{href:"/profile",children:"Retour au profil"})})]})},JR=({setUser:t,setIsAdmin:r})=>{const i=St();return A.useEffect(()=>{const s=()=>{console.log("vnement d'expiration du token dtect"),t(null),r(!1);const l=window.location.pathname;(l.includes("/profile")||l.includes("/admin")||l.includes("/add-album"))&&i("/login",{replace:!0})};return window.addEventListener("tokenExpired",s),()=>{window.removeEventListener("tokenExpired",s)}},[i,t,r]),null},VR=({user:t})=>{const[r,i]=A.useState(!1),[s,l]=A.useState(null),u=T=>{l(T),i(!0)},f=()=>{i(!1),l(null)},m=St(),{id:y}=Ts(),[g,p]=A.useState(""),[b,v]=A.useState(""),[,x]=A.useState(null),[N,O]=A.useState([]),[C,w]=A.useState([]),[,G]=A.useState(null),[$,z]=A.useState(""),[B,D]=A.useState(""),[,Z]=A.useState(!1),[R,E]=A.useState(!1),[M,k]=A.useState(!0),[U,H]=A.useState(null);A.useEffect(()=>{(async()=>{if(y)try{k(!0),H(null);const S=await Er.getTierlistWithDetails(parseInt(y));if(!S||!S.tierlist)throw new Error("Tierlist not found");x(S.tierlist),p(S.tierlist.name),v(S.tierlist.description||""),Z(S.tierlist.private),G(S.tierlist.id_album),console.log("Tierlist dtails:",S),console.log("Lignes reues:",S.lines);const I=[];let P=null;for(const Q of S.lines)console.log(`Analyse de la ligne ${Q.id}, placement: ${Q.placement}, label: ${Q.label}`),Q.placement===0||Q.label==="Non class"?(console.log("Tier Non class dtect:",Q),P=Q):I.push(Q);const _=I.sort((Q,Y)=>Q.placement-Y.placement);O(_),P&&P.images?(console.log("Images non classes dtectes:",P.images.length),w(P.images)):(console.log("Aucune image non classe trouve"),w([]));try{const Q=await Er.getAlbumImages(S.tierlist.id_album.toString());if(Q&&Q.length>0){const Y=await fetch(`/api/album/${S.tierlist.id_album}`).then(W=>W.json());Y&&Y.data&&(z(Y.data.name),D(Y.data.author.username),E(t===Y.data.author.username))}}catch(Q){console.error("Error fetching album details:",Q)}}catch(S){console.error("Error loading tierlist:",S),H("Impossible de charger la tierlist. Elle n'existe pas ou vous n'avez pas les permissions ncessaires.")}finally{k(!1)}})()},[y,t]);const F=()=>{m(-1)},q=()=>{m(`/tierlists/edit/${y}`)};return M?c.jsx("div",{className:"tierlist-editor",children:c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Chargement de la tierlist..."})]})}):U?c.jsx("div",{className:"tierlist-editor",children:c.jsxs("div",{className:"error-message",children:[c.jsx("h2",{children:"Erreur"}),c.jsx("p",{children:U}),c.jsx("button",{onClick:F,className:"back-button",children:"Retour"})]})}):c.jsxs("div",{className:"tierlist-editor",children:[c.jsxs("div",{className:"tierlist-compact-header",children:[c.jsx("div",{className:"tierlist-title",children:c.jsx("h1",{children:g||"Tierlist sans nom"})}),c.jsxs("div",{className:"tierlist-actions",children:[c.jsx("button",{className:"cancel-button",onClick:F,children:"Retour"}),R&&c.jsx("button",{className:"edit-button",onClick:q,children:"Modifier"})]})]}),c.jsx("div",{className:"tierlist-info-panel",children:c.jsxs("div",{className:"tierlist-metadata",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Album:"})," ",$]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Crateur:"})," ",B]}),b&&c.jsxs("div",{className:"tierlist-description",children:[c.jsx("p",{children:c.jsx("strong",{children:"Description:"})}),c.jsx("p",{children:b})]})]})}),c.jsx("div",{className:"tiers-container",children:N.map((T,S)=>c.jsxs("div",{className:"tier",children:[c.jsx("div",{className:"tier-label",style:{backgroundColor:`#${T.color}`},children:T.label||`Tier ${S+1}`}),c.jsxs("div",{className:"tier-content",children:[T.images.map(I=>c.jsxs("div",{className:"tier-image",title:`${I.name} (Cliquez pour voir les dtails)`,onClick:()=>u(I),style:{cursor:"pointer"},children:[c.jsx("img",{src:I.src,alt:I.name}),c.jsx("div",{className:"image-name",children:I.name})]},I.id)),T.images.length===0&&c.jsx("div",{className:"empty-tier-message",children:"Aucune image dans ce tier"})]})]},T.id))}),C.length>0&&c.jsxs("div",{className:"unclassified-container",children:[c.jsx("h3",{children:"Images non classes"}),c.jsx("div",{className:"unclassified-images",children:C.map(T=>c.jsxs("div",{className:"tier-image",title:`${T.name} (Cliquez pour voir les dtails)`,onClick:()=>u(T),style:{cursor:"pointer"},children:[c.jsx("img",{src:T.src,alt:T.name}),c.jsx("div",{className:"image-name",children:T.name})]},T.id))})]}),c.jsx(Da,{isOpen:r,onClose:f,image:s})]})},WR=({user:t})=>{const r=St(),{id:i}=Ts(),[s,l]=A.useState(!1),[u,f]=A.useState(null),m=Z=>{const R={...Z,src:Z.path_image};f(R),l(!0)},y=()=>{l(!1),f(null)},[g,p]=A.useState(!0),[b,v]=A.useState(null),[x,N]=A.useState(null),[O,C]=A.useState({categories:[],imagePath:"/default-image.jpg"}),[w,G]=A.useState({}),[$,z]=A.useState(null);A.useEffect(()=>{(async()=>{try{if(p(!0),!i)throw new Error("Tournament ID is missing");const R=await Ne.get(`/tournament/${i}`);if(!R.data||!R.data.data)throw new Error("Tournament not found");const E=R.data.data;N(E);try{const M=await Cs(E.album.id);C(M)}catch(M){console.error("Error fetching album info:",M)}B(E)}catch(R){console.error("Error loading tournament:",R),v("Unable to load tournament data. It might not exist or you may not have permission to view it.")}finally{p(!1)}})()},[i]);const B=Z=>{if(!Z||!Z.tournamentImage||Z.tournamentImage.length===0)return;const R={};Z.tournamentImage.forEach(k=>{const U=k.turn;R[U]||(R[U]=[]);const H={...k.image,id:k.image.id.toString(),score:U,place:k.place,turn:k.turn,lose:k.lose};R[U].push(H)});let E=null,M=-1;Object.entries(R).forEach(([k,U])=>{const H=parseInt(k);if(H>M){const F=U.find(q=>!q.lose);F&&(E=F,M=H)}}),z(E),G(R)},D=()=>{r(-1)};return g?c.jsx("div",{className:"tournament-viewer",children:c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Loading tournament..."})]})}):b?c.jsx("div",{className:"tournament-viewer",children:c.jsxs("div",{className:"error-message",children:[c.jsx("h2",{children:"Error"}),c.jsx("p",{children:b}),c.jsx("button",{onClick:D,className:"back-button",children:"Back"})]})}):x?c.jsxs("div",{className:"tournament-viewer",children:[c.jsxs("div",{className:"tournament-compact-header",children:[c.jsx("div",{className:"tournament-title",children:c.jsx("h1",{children:x.name})}),c.jsx("div",{className:"tournament-actions",children:c.jsx("button",{className:"back-button",onClick:D,children:"Back"})})]}),c.jsx("div",{className:"tournament-info-panel",children:c.jsxs("div",{className:"tournament-metadata",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Album:"})," ",x.album.name]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Created by:"})," ",x.author.username]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Creation date:"})," ",new Date(x.createdAt).toLocaleDateString()]}),x.description&&c.jsxs("div",{className:"tournament-description",children:[c.jsx("p",{children:c.jsx("strong",{children:"Description:"})}),c.jsx("p",{children:x.description})]}),O.categories.length>0&&c.jsx("div",{className:"tournament-categories",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Categories:"})," ",O.categories.join(", ")]})})]})}),c.jsxs("div",{className:"tournament-results",children:[c.jsx("h2",{children:"Tournament Results"}),$&&c.jsxs("div",{className:"winner-card",children:[c.jsx("h3",{children:"Champion"}),c.jsxs("div",{className:"winner-image",children:[c.jsx("img",{src:$.path_image,alt:$.name,onClick:()=>m($),style:{cursor:"pointer"},title:"Cliquez pour voir les dtails"}),c.jsx("p",{className:"winner-name",children:$.name})]})]}),c.jsx("h3",{children:"Final Rankings"}),c.jsx("div",{className:"rankings-container",children:Object.entries(w).sort(([Z],[R])=>parseInt(R)-parseInt(Z)).map(([Z,R])=>{if(R.length===0)return null;const E=parseInt(Z);let M="",k="round-group";return E===x.turn?(M="Champion",k+=" champion-group"):E===x.turn-1?(M="Finalists",k+=" finalist-group"):E===x.turn-2?(M="Semi-Finalists",k+=" semifinalist-group"):M=`Round ${E}`,c.jsxs("div",{className:k,children:[c.jsx("h4",{"data-count":`${R.length} ${R.length===1?"image":"images"}`,children:M}),c.jsx("div",{className:"images-group",children:R.map(U=>c.jsxs("div",{className:"result-image",onClick:()=>m(U),style:{cursor:"pointer"},title:"Cliquez pour voir les dtails",children:[c.jsx("img",{src:U.path_image,alt:U.name}),c.jsx("p",{children:U.name})]},U.id))})]},Z)})})]}),c.jsx(Da,{isOpen:s,onClose:y,image:u})]}):c.jsx("div",{className:"tournament-viewer",children:c.jsxs("div",{className:"error-message",children:[c.jsx("h2",{children:"Tournament Not Found"}),c.jsx("p",{children:"The tournament you are looking for does not exist or has been removed."}),c.jsx("button",{onClick:D,className:"back-button",children:"Back"})]})})},e_=({user:t})=>{const r=St(),{id:i}=Ts(),[s,l]=A.useState(!1),[u,f]=A.useState(null),m=E=>{const M={...E,src:E.path_image};f(M),l(!0)},y=()=>{l(!1),f(null)},[g,p]=A.useState(!0),[b,v]=A.useState(null),[x,N]=A.useState(null),[O,C]=A.useState({categories:[],imagePath:"/default-image.jpg"}),[w,G]=A.useState([]);A.useEffect(()=>{(async()=>{var M,k;if(!i){v("ID du classement manquant"),p(!1);return}try{p(!0),v(null);const H=(await Ne.get(`/ranking/${i}`)).data.data;if(!H)throw new Error("Classement introuvable");if(H.private&&(!t||H.author.id.toString()!==t)){v("Ce classement est priv"),p(!1);return}N(H);const F=await Cs(H.album.id);if(C(F),H.rankingImage&&H.rankingImage.length>0){const q=H.rankingImage.map(T=>({...T.image,rank:T.rank,score:T.score})).sort((T,S)=>T.rank-S.rank);G(q)}console.log("Donnes du classement charges:",H)}catch(U){console.error("Erreur lors du chargement du classement:",U),((M=U.response)==null?void 0:M.status)===404?v("Classement introuvable"):((k=U.response)==null?void 0:k.status)===403?v("Accs interdit  ce classement"):v("Erreur lors du chargement du classement")}finally{p(!1)}})()},[i,t]);const $=()=>{x&&t&&x.author.id.toString()===t&&r(`/classements/edit/${i}`)},z=()=>{r("/classements")},B=()=>w.slice(0,3),D=()=>w.slice(3),Z=E=>new Date(E).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"});if(g)return c.jsx("div",{className:"ranking-viewer-container",children:c.jsxs("div",{className:"ranking-viewer-loading",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Chargement du classement..."})]})});if(b)return c.jsx("div",{className:"ranking-viewer-container",children:c.jsxs("div",{className:"ranking-viewer-error",children:[c.jsx("h2",{children:"Erreur"}),c.jsx("p",{children:b}),c.jsx("button",{className:"ranking-viewer-button",onClick:z,children:"Retour aux Classements"})]})});if(!x)return c.jsx("div",{className:"ranking-viewer-container",children:c.jsxs("div",{className:"ranking-viewer-error",children:[c.jsx("h2",{children:"Classement introuvable"}),c.jsx("button",{className:"ranking-viewer-button",onClick:z,children:"Retour aux Classements"})]})});const R=B();return D(),c.jsxs("div",{className:"ranking-viewer-container",children:[c.jsx("div",{className:"ranking-viewer-header",children:c.jsxs("div",{className:"ranking-header-content",children:[c.jsxs("div",{className:"ranking-title-section",children:[c.jsx("h1",{children:x.name}),x.description&&c.jsx("p",{className:"ranking-description",children:x.description})]}),c.jsxs("div",{className:"ranking-actions",children:[c.jsx("button",{className:"ranking-viewer-button secondary",onClick:z,children:"Retour"}),t&&x.author.id.toString()===t&&c.jsx("button",{className:"ranking-viewer-button primary",onClick:$,children:"diter"})]})]})}),c.jsxs("div",{className:"ranking-info-section",children:[c.jsxs("div",{className:"ranking-meta",children:[c.jsxs("div",{className:"ranking-author",children:[c.jsx("h3",{children:"Crateur"}),c.jsxs("p",{children:["@",x.author.nametag]})]}),c.jsxs("div",{className:"ranking-album",children:[c.jsx("h3",{children:"Album"}),c.jsx("p",{children:x.album.name})]}),c.jsxs("div",{className:"ranking-date",children:[c.jsx("h3",{children:"Cr le"}),c.jsx("p",{children:Z(x.createdAt)})]}),c.jsxs("div",{className:"ranking-stats",children:[c.jsx("h3",{children:"Images classes"}),c.jsx("p",{children:w.length})]})]}),O.categories.length>0&&c.jsxs("div",{className:"ranking-categories",children:[c.jsx("h3",{children:"Catgories"}),c.jsx("div",{className:"category-tags",children:O.categories.map((E,M)=>c.jsx("span",{className:"category-tag",children:E},M))})]})]}),R.length>0&&c.jsxs("div",{className:"ranking-podium-section",children:[c.jsx("h2",{children:"Podium"}),c.jsxs("div",{className:"ranking-podium",children:[R[1]&&c.jsxs("div",{className:"podium-position second",onClick:()=>m(R[1]),children:[c.jsx("div",{className:"podium-rank",children:"2"}),c.jsx("img",{src:R[1].path_image,alt:R[1].name,className:"podium-image"}),c.jsxs("div",{className:"podium-info",children:[c.jsx("h3",{children:R[1].name}),c.jsxs("p",{children:["Score: ",R[1].score]})]})]}),R[0]&&c.jsxs("div",{className:"podium-position first",onClick:()=>m(R[0]),children:[c.jsx("div",{className:"podium-rank winner",children:"1"}),c.jsx("img",{src:R[0].path_image,alt:R[0].name,className:"podium-image"}),c.jsxs("div",{className:"podium-info",children:[c.jsx("h3",{children:R[0].name}),c.jsxs("p",{children:["Score: ",R[0].score]})]})]}),R[2]&&c.jsxs("div",{className:"podium-position third",onClick:()=>m(R[2]),children:[c.jsx("div",{className:"podium-rank",children:"3"}),c.jsx("img",{src:R[2].path_image,alt:R[2].name,className:"podium-image"}),c.jsxs("div",{className:"podium-info",children:[c.jsx("h3",{children:R[2].name}),c.jsxs("p",{children:["Score: ",R[2].score]})]})]})]})]}),c.jsxs("div",{className:"ranking-full-section",children:[c.jsx("h2",{children:"Classement Complet"}),c.jsxs("div",{className:"ranking-table",children:[c.jsxs("div",{className:"ranking-table-header",children:[c.jsx("span",{children:"Rang"}),c.jsx("span",{children:"Image"}),c.jsx("span",{children:"Nom"}),c.jsx("span",{children:"Score"})]}),w.map((E,M)=>c.jsxs("div",{className:`ranking-table-row ${M<3?"podium-row":""}`,onClick:()=>m(E),children:[c.jsxs("span",{className:"rank-number",children:[M+1,M===0&&c.jsx("span",{className:"trophy",children:""}),M===1&&c.jsx("span",{className:"trophy",children:""}),M===2&&c.jsx("span",{className:"trophy",children:""})]}),c.jsx("div",{className:"image-cell",children:c.jsx("img",{src:E.path_image,alt:E.name,className:"table-image"})}),c.jsx("span",{className:"name-cell",children:E.name}),c.jsx("span",{className:"score-cell",children:E.score})]},E.id))]})]}),w.length===0&&c.jsxs("div",{className:"ranking-no-results",children:[c.jsx("h2",{children:"Aucune image classe"}),c.jsx("p",{children:"Ce classement ne contient aucune image classe pour le moment."})]}),u&&c.jsx(Da,{isOpen:s,onClose:y,image:{...u,src:u.path_image}})]})};function t_(){const[t,r]=A.useState(null),[i,s]=A.useState(!1),[l,u]=A.useState(!0),f=async()=>{if(!Ui()){r(null),s(!1);return}try{const g=await wd();if(g&&g.data){r(g.data.nametag);const p=await So();s(p)}else r(null),s(!1),localStorage.removeItem("token")}catch(g){console.error("Erreur lors du chargement de l'utilisateur:",g),r(null),s(!1),localStorage.removeItem("token")}};A.useEffect(()=>{(async()=>{u(!0),await f(),u(!1)})()},[]),A.useEffect(()=>{const g=p=>{p.key==="token"&&(p.newValue?p.oldValue!==p.newValue&&f():(r(null),s(!1)))};return window.addEventListener("storage",g),()=>{window.removeEventListener("storage",g)}},[]),A.useEffect(()=>{const g=setInterval(()=>{!Ui()&&t!==null&&(console.log("Token expir, dconnexion automatique"),r(null),s(!1))},3e5);return()=>{clearInterval(g)}},[t]);const m=()=>{r(null),s(!1),localStorage.removeItem("token")},y=async()=>{try{const g=await wd();if(g&&g.data){r(g.data.nametag);const p=await So();s(p)}}catch(g){console.error("Erreur lors de la mise  jour du statut de l'utilisateur:",g)}};return l?c.jsxs("div",{className:"loading-app",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Chargement..."})]}):c.jsxs(NS,{children:[c.jsx(JR,{setUser:r,setIsAdmin:s}),c.jsx(d2,{user:t,onLogout:m,isAdmin:i}),c.jsx("div",{className:"page-content",children:c.jsxs(k0,{children:[c.jsx(xt,{path:"/",element:c.jsx(D2,{user:t})}),c.jsx(xt,{path:"/login",element:c.jsx(M2,{setUser:r,updateUserStatus:y})}),c.jsx(xt,{path:"/register",element:c.jsx(I2,{setUser:r,updateUserStatus:y})}),c.jsx(xt,{path:"/forgot-password",element:c.jsx(XR,{})}),c.jsx(xt,{path:"/reset-password",element:c.jsx(QR,{})}),c.jsx(xt,{path:"/new-password",element:c.jsx(KR,{})}),c.jsx(xt,{path:"/profile",element:t?c.jsx(aN,{user:t,setUser:r}):c.jsx(ji,{to:"/login"})}),c.jsx(xt,{path:"/admin",element:t&&i?c.jsx(OR,{user:t,isAdmin:i}):c.jsx(ji,{to:"/"})}),c.jsx(xt,{path:"/admin/album/edit/:id",element:t&&i?c.jsx(qd,{user:t,isAdmin:i}):c.jsx(ji,{to:"/"})}),c.jsx(xt,{path:"/add-album",element:t?c.jsx(ER,{user:t}):c.jsx(ji,{to:"/login"})}),c.jsx(xt,{path:"/album/edit/:id",element:t?c.jsx(qd,{user:t}):c.jsx(ji,{to:"/login"})}),c.jsx(xt,{path:"/setup",element:c.jsx($R,{user:t})}),c.jsx(xt,{path:"/tierlists/create/editor",element:c.jsx(T0,{user:t})}),c.jsx(xt,{path:"/tournois/create/editor",element:c.jsx(j0,{user:t})}),c.jsx(xt,{path:"/classements/create/editor",element:c.jsx(A0,{user:t})}),c.jsx(xt,{path:"/tierlists/edit/:id",element:c.jsx(T0,{user:t})}),c.jsx(xt,{path:"/tierlists/:id",element:c.jsx(VR,{user:t})}),c.jsx(xt,{path:"/tournois/edit/:id",element:c.jsx(j0,{user:t})}),c.jsx(xt,{path:"/tournois/:id",element:c.jsx(WR,{user:t})}),c.jsx(xt,{path:"/classements/edit/:id",element:c.jsx(A0,{user:t})}),c.jsx(xt,{path:"/classements/:id",element:c.jsx(e_,{user:t})}),c.jsx(xt,{path:"/allalbum",element:c.jsx(AR,{user:t})}),c.jsx(xt,{path:"/tierlists",element:c.jsx(IR,{user:t})}),c.jsx(xt,{path:"/tournois",element:c.jsx(FR,{user:t})}),c.jsx(xt,{path:"/classements",element:c.jsx(BR,{user:t})})]})}),c.jsx(f2,{})]})}d1.createRoot(document.getElementById("root")).render(c.jsx(A.StrictMode,{children:c.jsx(t_,{})}));
